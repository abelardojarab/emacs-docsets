<html><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Jan 2017 20:17:33 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <script async="" src="../../../../../../www.google-analytics.com/analytics.js"></script><script>(function(d) { d.className = d.className.replace(/\bno-js/, ''); })(document.documentElement);</script>
  
    
  

  
  <title>Recording a media element</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="index, follow">
    <link rel="home" href="https://developer.mozilla.org/en-US/">
    <link rel="copyright" href="#copyright">
  

  
    
    
    <link href="../../../../../../developer.cdn.mozilla.net/static/build/styles/mdn.102019a5db43.css" rel="stylesheet" type="text/css">

    
  
    <link href="../../../../../../developer.cdn.mozilla.net/static/build/styles/wiki.d9818563511b.css" rel="stylesheet" type="text/css">

    

    <!-- common social tags -->
    
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://developer.cdn.mozilla.net/static/img/opengraph-logo.dc4e08e2f6af.png">
    <meta property="og:site_name" content="Mozilla Developer Network">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://developer.cdn.mozilla.net/static/img/opengraph-logo.dc4e08e2f6af.png">
    <meta name="twitter:site" content="@MozDevNet">
    <meta name="twitter:creator" content="@MozDevNet">
    <link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/en-US/search/xml" title="Mozilla Developer Network">
  

  <!-- third-generation iPad with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../../../developer.cdn.mozilla.net/static/img/favicon144.a6e4162070f4.png">
  <!-- iPhone with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../../../../developer.cdn.mozilla.net/static/img/favicon114.0e9fabd44f85.png">
  <!-- first- and second-generation iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../../../../developer.cdn.mozilla.net/static/img/favicon72.8ff9d87c82a0.png">
  <!-- non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="../../../../../../developer.cdn.mozilla.net/static/img/favicon57.a2490b9a2d76.png">
  <!-- basic favicon -->
  
    
  
  <link rel="shortcut icon" href="../../../../../../developer.cdn.mozilla.net/static/img/favicon32.e02854fdcf73.png">
  <!--[if IE]>
  <meta http-equiv="imagetoolbar" content="no">
  <script type="text/javascript" src="https://developer.cdn.mozilla.net/static/build/js/html5shiv.3948ccddab6f.js" charset="utf-8"></script>
  <![endif]-->

  
  <link rel="alternate" type="application/json" href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element$json">
  <link rel="canonical" href="Recording_a_media_element.html">

  

  <!-- document-specific social tags -->
  <meta property="og:title" content="Recording a media element">
  <meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element">
  <meta name="twitter:url" content="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element">
  <meta name="twitter:title" content="Recording a media element">
  
  <meta property="og:description" content="While the article Using the MediaStream Recording API demonstrates using the MediaRecorder interface to capture a MediaStream generated by a hardware device, as returned by navigator.mediaDevices.getUserMedia(), you can also use an HTML media element (namely audio or video) as the source of the MediaStream to be recorded. In this article, we'll look at an example that does just that.">
  <meta name="description" content="While the article Using the MediaStream Recording API demonstrates using the MediaRecorder interface to capture a MediaStream generated by a hardware device, as returned by navigator.mediaDevices.getUserMedia(), you can also use an HTML media element (namely audio or video) as the source of the MediaStream to be recorded. In this article, we'll look at an example that does just that.">
  <meta name="twitter:description" content="While the article Using the MediaStream Recording API demonstrates using the MediaRecorder interface to capture a MediaStream generated by a hardware device, as returned by navigator.mediaDevices.getUserMedia(), you can also use an HTML media element (namely audio or video) as the source of the MediaStream to be recorded. In this article, we'll look at an example that does just that.">
  

  
  <script type="text/javascript">
    
      var document_saved = 0;
    
  </script>

  
    



  
</head>
<body data-slug="Web/API/MediaStream_Recording_API/Recording_a_media_element" contextmenu="edit-history-menu" data-search-url="" class="document  ">

  <script type="text/javascript">
    (function(win) {
        'use strict';

        
            (function(){
  var FLAGS = {
    'compat_api': false,'kumaediting': false,'page_move': false,'registration_disabled': false,'search_suggestions': false,'section_edit': false,'sg_task_completion': false,'spam_admin_override': false,'spam_checks_enabled': true,'spam_spammer_override': false,'spam_submissions_enabled': false,'spam_testing_mode': false,'wiki_samples': true,'wiki_spam_exempted': false,'wiki_spam_training': false
    },
    SWITCHES = {
    'wiki_error_on_delete': false,'wiki_force_immediate_rendering': false,'enable_optimizely': false,'welcome_email': true,'application_ACAO': true,'store_revision_ips': true,'dumb_doc_urls': true,'newsletter': true,'newsletter_article': true,'foundation_callout': true
    },
    SAMPLES = {
    
    };
  window.waffle = {
    "flag_is_active": function waffle_flag(flag_name) {
      
      return !!FLAGS[flag_name];
    },
    "switch_is_active": function waffle_switch(switch_name) {
      
      return !!SWITCHES[switch_name];
    },
    "sample_is_active": function waffle_sample(sample_name) {
      
      return !!SAMPLES[sample_name];
    },
    "FLAGS": FLAGS,
    "SWITCHES": SWITCHES,
    "SAMPLES": SAMPLES
  };
})();

        

        // This needs to be set before ckeditor.js loads
        window.CKEDITOR_BASEPATH = 'https://developer.mozilla.org/static/js/libs/ckeditor/build/ckeditor/';

        // This represents the site configuration
        win.mdn = {
            // Properties and settings for CKEditor will go here
            ckeditor: {},
            // Feature test results and methods will be placed here
            features: {},
            // The path to static assets (images, CSS, JS) in MDN
            staticPath: 'https://developer.cdn.mozilla.net/static/',
            // Optimizely API
            optimizely: win['optimizely'] || [],
            // Site notifications
            
            notifications: [],
            
            // Wiki-specific settings will be placed here
            wiki: {
                autosuggestTitleUrl: '/en-US/docs/get-documents'
            },
            // Assets that need to be dynamically injected
            assets_disabled: {
                css: {
                    'editor-content': ['https://developer.cdn.mozilla.net/static/build/styles/editor-content.e79881a73508.css',],
                    'wiki-compat-tables': ['https://developer.cdn.mozilla.net/static/build/styles/wiki-compat-tables.a042fac0d66c.css',]
                },
                js: {
                    'syntax-prism': ['https://developer.cdn.mozilla.net/static/build/js/syntax-prism.7a66ddfa68bf.js',],
                    'wiki-compat-tables': ['https://developer.cdn.mozilla.net/static/build/js/wiki-compat-tables.14ce5dcb2c3d.js',]
                }
            }
        };
    })(this);
</script>

  

  <ul id="nav-access">
    <li><a href="#document-main" id="skip-main">Skip to main content</a></li>
    <li><a id="skip-language" href="#language">Select language</a></li>
    <li><a href="#q" id="skip-search">Skip to search</a></li>
  </ul>

  <!-- Header -->
  <header id="main-header"><div class="center">

    <div id="tabzilla">
        <a href="http://www.mozilla.org/" class="no-track">mozilla</a>
    </div>

    <div class="clear header-clear"></div>

    <a href="https://developer.mozilla.org/en-US/" class="logo">Mozilla Developer Network</a>

    <div id="nav-sec">
        
                  <ul>
                  <li><div class="login">
    
      
       <a href="https://developer.mozilla.org/users/github/login/?next=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FMediaStream_Recording_API%2FRecording_a_media_element" class="login-link js-login-link" data-service="GitHub">
        Sign in
        <i class="icon-github" aria-hidden="true"></i>
      </a>
    
</div></li>
                </ul>
        
    </div>

    <nav id="main-nav" role="navigation"><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web">Web Technologies<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu submenu-cols-2 js-submenu" id="nav-platform-submenu">
          <div class="submenu-column">
            <div class="title">Technologies</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML">HTML</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">JavaScript</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Graphics">Graphics</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP">HTTP</a></li>
              <li><a href="../../API.html">APIs / DOM</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions">WebExtensions</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/MathML">MathML</a></li>
            </ul>
          </div><div class="submenu-column last">
            <div class="title">References &amp; Guides</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Learn">Learning web development</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Tutorials">Tutorials</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Reference">References</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide">Developer Guides</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility">Accessibility</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Games">Game development</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web">...more docs</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Zones">Mozilla Docs<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu js-submenu" id="nav-zones-submenu">
          <div class="submenu-column">
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons">Add-ons</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Firefox">Firefox</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Tools">Developer Tools</a></li><li><a href="https://developer.mozilla.org/en-US/docs/MDN/Feedback">Feedback<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu js-submenu" id="nav-contact-submenu">
          <div class="submenu-column">
            <ul>
                <li><a href="https://support.mozilla.org/">Get Firefox help<i aria-hidden="true" class="icon-external-link"></i></a></li>
                <li><a href="http://stackoverflow.com/">Get web development help<i aria-hidden="true" class="icon-external-link"></i></a></li>
            </ul>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/MDN/Community">Join the MDN community</a></li>
              <li><a target="_blank" href="https://bugzilla.mozilla.org/form.doc?bug_file_loc=https%3A//developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element">Report a content problem<i aria-hidden="true" class="icon-external-link"></i></a></li>
              <li><a target="_blank" href="https://bugzilla.mozilla.org/form.mdn">Report a bug<i aria-hidden="true" class="icon-external-link"></i></a></li>
            </ul>
          </div>
        </div>

      </li><li class="nav-search-link"><a href="https://developer.mozilla.org/en-US/search" title="Search"><i aria-hidden="true" class="icon-search"></i></a></li><li class="main-nav-search"><form action="https://developer.mozilla.org/en-US/search" method="get" role="search">
        <div class="search-wrap">
          <label for="main-q" class="offscreen">Search</label>
          <input type="search" id="main-q" name="q" placeholder="Search" data-value="" value="">
          <span class="search-trigger"><i aria-hidden="true" class="icon-search"></i></span>&nbsp;
          <button type="submit" class="offscreen">Search</button>
        </div>
      </form></li></ul></nav>
  </div></header>

  <!-- Content will go here -->
  <main id="content"><div class="center clear">
  

   <!-- end is_zone -->

    <div class="wiki-main-content" id="document-main"><div class="center">
      
      <div class="article-meta">
        <!-- action buttons -->
        

  
    
  

  
    
  

  

  <ul class="page-buttons" data-sticky="false">
      
      <li><button id="languages-menu" class="transparent" aria-haspopup="true" aria-owns="languages-menu-submenu" aria-expanded="false"><span>Languages</span><i aria-hidden="true" class="icon-language"></i></button>

        <div class="submenu js-submenu" id="languages-menu-submenu">
          <div class="submenu-column">
            <ul id="translations">
              
                <li class="smaller">No translations exist for this article.</li>
              

              
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element$locales" rel="nofollow, noindex" id="translations-add">Add a translation</a></li>
              
            </ul>
          </div>
        </div>
      </li>

      
      <li class="page-buttons-edit"><a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element$edit" class="button" data-optimizely-hook="button-edit-doc" id="edit-button">Edit<i aria-hidden="true" class="icon-pencil"></i></a></li>
      

        

        <li><button id="advanced-menu" class="only-icon" aria-haspopup="true" aria-owns="advanced-menu-submenu" aria-expanded="false"><span>Advanced</span><i aria-hidden="true" class="icon-cog"></i></button>
        <div class="submenu js-submenu" id="advanced-menu-submenu">
          <!-- this page -->
          <div class="submenu-column">
            <div class="title">Advanced</div>
            <ul>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element$history" rel="nofollow, noindex">History</a></li>
                
                
                

                

                
                
                
                <li class="page-print"><a href="#" onclick="return window.print();">Print this article</a></li>
            </ul>
          </div>
        </div>
  </li></ul>

        <!-- crumbs -->
        
  <nav class="crumbs" role="navigation"><ol xmlns:v="http://rdf.data-vocabulary.org/#" aria-label="breadcrumbs">
    <li typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US" rel="v:url" property="v:title">MDN</a></li>
    
      <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Web" rel="v:url" property="v:title">Web technology for developers</a></li>
    
      <li class="crumb" typeof="v:Breadcrumb"><a href="../../API.html" rel="v:url" property="v:title">Web APIs</a></li>
    
      <li class="crumb" typeof="v:Breadcrumb"><a href="../MediaStream_Recording_API.html" rel="v:url" property="v:title">MediaStream Recording API</a></li>
    
    <li class="crumb" typeof="v:Breadcrumb" property="v:title">Recording a media element</li>
  </ol></nav>
      </div>

      <!-- heading -->
      <div id="wiki-document-head" class="document-head">
          <span class="from-search-previous-box">
            <a class="button from-search-previous only-icon disabled" title="Previous Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-left"></i></a>
          </span>
          <span class="from-search-navigate-wrap">
            <a href="#" class="from-search-navigate"><span class="from-search-navigate-up"><i aria-hidden="true" class="icon-double-angle-up"></i></span><span class="from-search-navigate-down"><i aria-hidden="true" class="icon-double-angle-down"></i></span></a>
          </span>
          <div class="from-search-toc submenu">
            <span class="title">Your Search Results</span>
            <ol></ol>
          </div>
          <span class="from-search-next-box">
            <a class="button from-search-next only-icon disabled" title="Next Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-right"></i></a>
          </span>

        
        <div class="contributor-avatars" data-all-text="see all contributors" data-alternate-message="hide contributors">
            <ul>
            
                <li class="shown">
                <a href="https://developer.mozilla.org/en-US/profiles/Sheppy" title="View profile: Sheppy">
                <noscript data-width="34" data-height="34" data-class="avatar" data-alt="Sheppy" data-src="../../../../../../secure.gravatar.com/avatar/945076feb88f2d7003891ffbf06f32bf6c02.jpeg?s=34&amp;r=pg&amp;d=https%3A%2F%2Fdeveloper.cdn.mozilla.net%2Fmedia%2Fimg%2Favatar.png">Sheppy</noscript></a>
                </li>
            
            </ul>
        </div>
        

        <h1>Recording a media element</h1>

      </div>
      

      <!-- start the main content container -->
        <div id="wiki-column-container" class="wiki-right-present wiki-left-present">

          <!-- content row with three strips -->
          <div class="column-container column-container-reverse">

            
              <!-- TOC, approvals, etc -->
              <div class="column-strip wiki-column" id="wiki-right">
              
              <!-- table of contents -->
              <div id="toc" class="toc toggleable" data-closed="true">
                <a href="#toc" class="title toggler" data-open-icon="icon-plus" data-closed-icon="icon-minus">In This Article<i></i></a>
                <ol class="toggle-container">
                  <li><a href="#HTML_content" rel="internal">HTML content</a></li><li><a href="#JavaScript_content" rel="internal">JavaScript content</a><ol><li><a href="#Setting_up_global_variables" rel="internal">Setting up global variables</a></li><li><a href="#Utility_functions" rel="internal">Utility functions</a></li><li><a href="#Starting_media_recording" rel="internal">Starting media recording</a></li><li><a href="#Stopping_the_input_stream" rel="internal">Stopping the input stream</a></li><li><a href="#Getting_an_input_stream_and_setting_up_the_recorder" rel="internal">Getting an input stream and setting up the recorder</a></li><li><a href="#Handling_the_stop_button" rel="internal">Handling the stop button</a></li></ol></li><li><a href="#Result" rel="internal">Result</a></li><li><a href="#See_also" rel="internal">See also</a>
                </li></ol>
              </div>
              
              </div>
            

            
            
              
            

            <!-- center: main article content -->
            <div id="wiki-content" class="column-half wiki-column text-content">

              

              

              
                
                
                
              
              

              <!-- just the article content -->
              <article id="wikiArticle">
                
                  
                    <div><section class="Quick_links" id="Quick_Links"><!-- --></section></div>

<p>While the article Using the MediaStream Recording API demonstrates using the <a title="The MediaRecorder interface of the MediaStream Recording API provides functionality to easily record media. It is created by the invocation of the MediaRecorder() constructor." href="../MediaRecorder.html"><code>MediaRecorder</code></a> interface to capture a <a title="The MediaStream interface represents a stream of media content. A stream consists of several tracks such as&nbsp;video or audio tracks. Each track is specified as an instance of MediaStreamTrack." href="../MediaStream.html"><code>MediaStream</code></a> generated by a hardware device, as returned by <a title="The MediaDevices.getUserMedia() method prompts the user for permission to use one video and/or one audio input device such as a camera or screensharing and/or a microphone. If the user provides permission, then the returned Promise is resolved with the resulting MediaStream object. If the user denies permission, or media is not available, then the promise is rejected with PermissionDeniedError or NotFoundError respectively. Note that it is possible for the returned promise to neither resolve nor reject, as the user is not required to make a choice." href="../MediaDevices/getUserMedia.html"><code>navigator.mediaDevices.getUserMedia()</code></a>, you can also use an HTML media element (namely <a title="The HTML &lt;audio&gt; element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the &lt;source&gt; element; the browser will choose the most suitable one." href="/en-US/docs/Web/HTML/Element/audio"><code>&lt;audio&gt;</code></a> or <a title="Use the &nbsp;HTML &lt;video&gt; element&nbsp;to embed video content in a document. The video element contains one or more video sources. To specify a video source, use either the src attribute or the &lt;source&gt; element; the browser will choose the most suitable one." href="/en-US/docs/Web/HTML/Element/video"><code>&lt;video&gt;</code></a>) as the source of the <code>MediaStream</code> to be recorded. In this article, we'll look at an example that does just that.</p>

<div id="Example">
<h2 id="HTML_content">HTML content</h2>

<div class="hidden">
<pre class="brush: html">&lt;p&gt;Click the "Start" button to begin video recording for a few seconds. You can stop
   the video by clicking the creatively-named "Stop" button. The "Download"
   button will download the received data (although it's in a raw, unwrapped form
   that isn't very useful).
&lt;/p&gt;
&lt;br&gt;
</pre>
</div>

<p>Let's start by looking at the key bits of the HTML. There's a little more than this, but it's just informational rather than being part of the core operation of the app.</p>

<pre class="brush: html">&lt;div class="left"&gt;
  &lt;div id="startButton" class="button"&gt;
    Start
  &lt;/div&gt;
  &lt;h2&gt;Preview&lt;/h2&gt;
  &lt;video id="preview" width="160" height="120" autoplay muted&gt;&lt;/video&gt;
&lt;/div&gt;
</pre>

<p>We present our main interface in two columns. On the left is a start button and a <a title="Use the &nbsp;HTML &lt;video&gt; element&nbsp;to embed video content in a document. The video element contains one or more video sources. To specify a video source, use either the src attribute or the &lt;source&gt; element; the browser will choose the most suitable one." href="/en-US/docs/Web/HTML/Element/video"><code>&lt;video&gt;</code></a> element which displays the video preview; this is the video the user's camera sees. Note that the <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video#attr-autoplay">autoplay</a></code> attribute is used so that as soon as the stream starts to arrive from the camera, it immediately gets displayed, and the <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video#attr-muted">muted</a></code> attribute is specified to ensure that the sound from the user's microphone isn't output to their speakers, causing an ugly feedback loop.</p>

<pre class="brush: html">&lt;div class="right"&gt;
  &lt;div id="stopButton" class="button"&gt;
    Stop
  &lt;/div&gt;
  &lt;h2&gt;Recording&lt;/h2&gt;
  &lt;video id="recording" width="160" height="120" controls&gt;&lt;/video&gt;
  &lt;a id="downloadButton" class="button"&gt;
    Download
  &lt;/a&gt;
&lt;/div&gt;
</pre>

<p>On the right we see a stop button and the <code>&lt;video&gt;</code> element which will be used to play back the recorded video. Notice that the playback panel doesn't have autoplay set (so the playback doesn't start as soon as media arrives), and it has <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video#attr-controls">controls</a></code> set, which tells it to show the user controls to play, pause, and so forth.</p>

<p>Below the playback element is a button for downloading the recorded video.</p>

<div class="hidden">
<pre class="brush: html">&lt;div class="bottom"&gt;
  &lt;pre id="log"&gt;&lt;/pre&gt;
&lt;/div&gt;</pre>
<strong>CSS content</strong>

<pre class="brush: css">body {
  font: 14px "Open Sans", "Arial", sans-serif;
}

video {
  margin-top: 2px;
  border: 1px solid black;
}

.button {
  cursor: pointer;
  display: block;
  width: 160px;
  border: 1px solid black;
  font-size: 16px;
  text-align: center;
  padding-top: 2px;
  padding-bottom: 4px;
  color: white;
  background-color: darkgreen;
  text-decoration: none;
}

h2 {
  margin-bottom: 4px;
}

.left {
  margin-right: 10px;
  float: left;
  width: 160px;
  padding: 0px;
}

.right {
  margin-left: 10px;
  float: left;
  width: 160px;
  padding: 0px;
}

.bottom {
  clear: both;
  padding-top: 10px;
}</pre>
</div>

<h2 id="JavaScript_content">JavaScript content</h2>

<p>Now let's have a look at the JavaScript code; this is where the majority of the action happens, after all!</p>

<h3 id="Setting_up_global_variables">Setting up global variables</h3>

<p>We start by establishing some global variables we'll need.</p>

<pre class="brush: js">let preview = document.getElementById("preview");
let recording = document.getElementById("recording");
let startButton = document.getElementById("startButton");
let stopButton = document.getElementById("stopButton");
let downloadButton = document.getElementById("downloadButton");
let logElement = document.getElementById("log");

let recordingTimeMS = 5000;
</pre>

<p>Most of these are references to elements we need to work with. The last, <code>recordingTimeMS</code>, is set to 5000 milliseconds (5 seconds); this specifies the length of the videos we'll record.</p>

<h3 id="Utility_functions">Utility functions</h3>

<p>Next, we create some utility functions that will get used later.</p>

<pre class="brush: js">function log(msg) {
  logElement.innerHTML += msg + "\n";
}
</pre>

<p>The <code>log()</code> function is used to otuput text strings to a <a title="The HTML &lt;div&gt; element (or HTML Document Division Element) is the generic container for flow content, which does not inherently represent anything. It can be used to group elements for styling purposes (using the class or id attributes), or because they share attribute values, such as lang. It should be used only when no other semantic element (such as &lt;article&gt; or &lt;nav&gt;) is appropriate." href="/en-US/docs/Web/HTML/Element/div"><code>&lt;div&gt;</code></a> so we can share information with the user. Not very pretty but it gets the job done for our purposes.</p>

<pre class="brush: js">function wait(delayInMS) {
  return new Promise(resolve =&gt; setTimeout(resolve, delayInMS));
}
</pre>

<p>The <code>wait()</code> function returns a new <a title="The Promise object is used for asynchronous computations. A Promise represents a value which may be available now, or in the future, or never." href="../../JavaScript/Reference/Global_Objects/Promise.html"><code>Promise</code></a> which resolves once the specified number of milliseconds have elapsed. It works by using an <a href="../../JavaScript/Reference/Functions/Arrow_functions.html">arrow function</a> which calls <a title="Calls a function or executes a code snippet after a specified delay." href="../WindowTimers/setTimeout.html"><code>window.setTimeout()</code></a>, specifying the promise's resolution handler as the timeout handler function. That lets us use promise syntax when using timeouts, which can be very handy when chaining promises, as we'll see later.</p>

<h3 id="Starting_media_recording">Starting media recording</h3>

<p>The <code>startRecording()</code> function handles starting the recording process:</p>

<pre class="brush: js">function startRecording(stream, lengthInMS) {
  let recorder = new MediaRecorder(stream);
  let data = [];
 
  recorder.ondataavailable = event =&gt; data.push(event.data);
  recorder.start();
  log(recorder.state + " for " + (lengthInMS/1000) + " seconds...");
 
  let stopped = new Promise((resolve, reject) =&gt; {
    recorder.onstop = resolve;
    recorder.onerror = event =&gt; reject(event.name);
  });

&nbsp; let recorded = wait(lengthInMS).then(
    () =&gt; recorder.state == "recording" &amp;&amp; recorder.stop()
&nbsp; );
 
  return Promise.all([
    stopped,
    recorded
  ])
  .then(() =&gt; data);
}
</pre>

<p><code>startRecording()</code> takes two input parameters: a <a title="The MediaStream interface represents a stream of media content. A stream consists of several tracks such as&nbsp;video or audio tracks. Each track is specified as an instance of MediaStreamTrack." href="../MediaStream.html"><code>MediaStream</code></a> to record from and the length in milliseconds of the recording to make. We always record no more than the specified number of milliseconds of media, although if the media stops before that time is reached, <a title="The MediaRecorder interface of the MediaStream Recording API provides functionality to easily record media. It is created by the invocation of the MediaRecorder() constructor." href="../MediaRecorder.html"><code>MediaRecorder</code></a> automatically stops recording as well.</p>

<dl>
 <dt>Line 2</dt>
 <dd>Creates the <code>MediaRecorder</code> that will handle recording the input <code>stream</code>.</dd>
 <dt>Line 3</dt>
 <dd>Creates an empty array, <code>data</code>, which will be used to hold the <a title="Technical review completed." href="../Blob.html"><code>Blob</code></a>s of media data provided to our <a title="The MediaRecorder.ondataavailable event handler (part of the MediaStream Recording API) handles the dataavailable event, letting you run code in response to Blob data being made available for use." href="../MediaRecorder/ondataavailable.html"><code>ondataavailable</code></a> event handler.</dd>
 <dt>Line 5</dt>
 <dd>Sets up the handler for the <code><a title="/en-US/docs/Web/Events/dataavailable" href="../../Events/dataavailable.html" class="new">dataavailable</a></code> event. The received event's <code>data</code> property is a <a title="Technical review completed." href="../Blob.html"><code>Blob</code></a> that contains the media data. The event handler simply pushes the <code>Blob</code> onto the <code>data</code> array.</dd>
 <dt>Lines 6-7</dt>
 <dd>Starts the recording process by calling <a title="The MediaRecorder.start() method (part of the MediaRecorder API) is used to start capturing media into a Blob." href="../MediaRecorder/start.html"><code>recorder.start()</code></a>, and outputs a message to the log with the updated state of the recorder and the number of seconds it will be recording.</dd>
 <dt>Lines 9-12</dt>
 <dd>Creates a new <a title="The Promise object is used for asynchronous computations. A Promise represents a value which may be available now, or in the future, or never." href="../../JavaScript/Reference/Global_Objects/Promise.html"><code>Promise</code></a>, named <code>stopped</code>, which is resolved when the <code>MediaRecorder</code>'s <a title="The MediaRecorder.onstop event handler (part of the MediaRecorder API) handles the stop event, allowing you to run code in response to media recording via a MediaRecorder being stopped." href="../MediaRecorder/onstop.html"><code>onstop</code></a> event handler is called, and is rejected if its <a title="The MediaRecorder.onerror event handler (part of the MediaRecorder API) handles the DOMError event, allowing you to run code in response to fatal errors occurring that prevent media capture." href="../MediaRecorder/onerror.html"><code>onerror</code></a> event handler is called. The rejection handler receives as input the name of the error that occurred.</dd>
 <dt>Lines 14-16</dt>
 <dd>Creates a new <code>Promise</code>, named <code>recorded</code>, which is resolved when the specified number of milliseconds have elapsed. Upon resolution, it stops the <code>MediaRecorder</code> if it's recording.</dd>
 <dt>Lines 18-22</dt>
 <dd>These lines create a new <code>Promise</code> which is fulfilled when both of the two <code>Promise</code>s (<code>stopped</code> and <code>recorded</code>) have resolved. Once that resolves, the array data is returned by <code>startRecording()</code> to its caller.</dd>
</dl>

<h3 id="Stopping_the_input_stream">Stopping the input stream</h3>

<p>The <code>stop()</code> function simply stops the input media:</p>

<pre class="brush: js">function stop(stream) {
  stream.getTracks().forEach(track =&gt; track.stop());
}
</pre>

<p>This works by calling <a title="The documentation about this has not yet been written; please consider contributing!" href="../MediaStream/getTracks.html" class="new"><code>MediaStream.getTracks()</code></a>, using <a title="The forEach() method executes a provided function once per array element." href="../../JavaScript/Reference/Global_Objects/Array/forEach.html"><code>forEach()</code></a> to call <a title="The MediaStreamTrack.stop() method stops playing the source associated with&nbsp;the track. Both the source and the track are deassociated. The track state is set to ended." href="../MediaStreamTrack/stop.html"><code>MediaStreamTrack.stop()</code></a> on each track in the stream.</p>

<h3 id="Getting_an_input_stream_and_setting_up_the_recorder">Getting an input stream and setting up the recorder</h3>

<p>Now let's look at the most intricate piece of code in this example: our event handler for clicks on the start button:</p>

<pre class="brush: js">startButton.addEventListener("click", function() {
  navigator.mediaDevices.getUserMedia({
    video: true,
    audio: true
  }).then(stream =&gt; {
    preview.srcObject = stream;
    downloadButton.href = stream;
    preview.captureStream = preview.captureStream || preview.mozCaptureStream;
    return new Promise(resolve =&gt; preview.onplaying = resolve);
  }).then(() =&gt; startRecording(preview.captureStream(), recordingTimeMS))
  .then (recordedChunks =&gt; {
    let recordedBlob = new Blob(recordedChunks, { type: "video/webm" });
    recording.src = URL.createObjectURL(recordedBlob);
    downloadButton.href = recording.src;
    downloadButton.download = "RecordedVideo.webm";
    
    log("Successfully recorded " + recordedBlob.size + " bytes of " +
        recordedBlob.type + " media.");
  })
  .catch(log);
}, false);</pre>

<p>When a <code><a title="/en-US/docs/Web/Events/click" href="../../Events/click.html">click</a></code> event occurs, here's what happens:</p>

<dl>
 <dt>Lines 2-4</dt>
 <dd><a title="The MediaDevices.getUserMedia() method prompts the user for permission to use one video and/or one audio input device such as a camera or screensharing and/or a microphone. If the user provides permission, then the returned Promise is resolved with the resulting MediaStream object. If the user denies permission, or media is not available, then the promise is rejected with PermissionDeniedError or NotFoundError respectively. Note that it is possible for the returned promise to neither resolve nor reject, as the user is not required to make a choice." href="../MediaDevices/getUserMedia.html"><code>navigator.mediaDevices.getUserMedia()</code></a> is called to request a new <a title="The MediaStream interface represents a stream of media content. A stream consists of several tracks such as&nbsp;video or audio tracks. Each track is specified as an instance of MediaStreamTrack." href="../MediaStream.html"><code>MediaStream</code></a> that has both video and audio tracks. This is the stream we'll record.</dd>
 <dt>Lines 5-9</dt>
 <dd>When the Promise returned by <code>getUserMedia()</code> is resolved, the preview <a title="Use the &nbsp;HTML &lt;video&gt; element&nbsp;to embed video content in a document. The video element contains one or more video sources. To specify a video source, use either the src attribute or the &lt;source&gt; element; the browser will choose the most suitable one." href="/en-US/docs/Web/HTML/Element/video"><code>&lt;video&gt;</code></a> element's <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video#attr-srcobject">srcobject</a></code> attribute is set to be the input stream, which causes the video being captured by the user's camera to be displayed in the preview box. Since the <code>&lt;video&gt;</code> element is muted, the audio won't play. The "Download" button's link is then set to refer to the stream as well. Then, in line 8, we arrange for <code>preview.captureStream()</code> to call <code>preview.mozCaptureStream()</code> so that our code will work on Firefox, on which the <a title="The documentation about this has not yet been written; please consider contributing!" href="../MediaRecorder/captureStream.html" class="new"><code>MediaRecorder.captureStream()</code></a> method is prefixed. Then a new <a title="The Promise interface represents a proxy for a value not necessarily known at its creation time. It allows you to associate handlers to an asynchronous action's eventual success or failure. This lets asynchronous methods return values like synchronous methods: instead of the final value, the asynchronous method returns a promise of having a value at some point in the future." href="../../JavaScript/Reference/Global_Objects/Promise.html"><code>Promise</code></a> which resolves when the preview video starts to play is created and returned.</dd>
 <dt>Line 10</dt>
 <dd>When the preview video begins to play, we know there's media to record, so we respond by calling the <code><a href="#Starting_media_recording">startRecording()</a></code> function we created earlier, passing in the preview video stream (as the source media to be recorded) and <code>recordingTimeMS</code> as the number of milliseconds of media to record. As mentioned before, <code>startRecording()</code> returns a <a title="The Promise object is used for asynchronous computations. A Promise represents a value which may be available now, or in the future, or never." href="../../JavaScript/Reference/Global_Objects/Promise.html"><code>Promise</code></a> whose resolution handler is called (receiving as input an array of <a title="Technical review completed." href="../Blob.html"><code>Blob</code></a> objects containing the chunks of recorded media data) once recording has completed.</dd>
 <dt>Lines 11-15</dt>
 <dd>The recording process's resolution handler receives as input an array of media data <code>Blob</code>s locally known as <code>recordedChunks</code>. The first thing we do is merge the chunks into a single <a title="Technical review completed." href="../Blob.html"><code>Blob</code></a> whose MIME type is <code>"video/webm"</code> by taking advantage of the fact that the <a title="The Blob() constructor returns a new Blob object. The content of the blob consists of the concatenation of the values given in the parameter array." href="../Blob/Blob.html"><code>Blob()</code></a> constructor concatenates arrays of objects into one object. Then <a title="The URL.createObjectURL() static method creates a DOMString containing an URL representing the object given in parameter. The URL lifetime is tied to the document in the window on which it was created. The new object URL represents the specified File object or Blob object." href="../URL/createObjectURL.html"><code>URL.createObjectURL()</code></a> is used to create an URL that references the blob; this is then made the value of the recorded video playback element's <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video#attr-src">src</a></code> attribute (so that you can play the video from the blob) as well as the target of the download button's link.
 <p>Then the download button's <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-download">download</a></code> attribute is set. While the <code>download</code> attribute can be a Boolean, you can also set it to a string to use as the name for the downloaded file. So by setting the download link's <code>download</code> attribute to "RecordedVideo.webm", we tell the browser that clicking the button should download a file named <code>"RecordedVideo.webm"</code> whose contents are the recorded video.</p>
 </dd>
 <dt>Lines 17-18</dt>
 <dd>The size and type of the recorded media are output to the log area below the two videos and the download button.</dd>
 <dt>Line 20</dt>
 <dd>The <code>catch()</code> for all the <code>Promise</code>s outputs the error to the logging area by calling our <code>log()</code> function.</dd>
</dl>

<h3 id="Handling_the_stop_button">Handling the stop button</h3>

<p>The last bit of code adds a handler for the <code><a title="/en-US/docs/Web/Events/click" href="../../Events/click.html">click</a></code> event on the stop button using <a title="The EventTarget.addEventListener() method registers the specified listener on the EventTarget it's called on. The event target may be an Element in a document, the Document itself, a Window, or any other object that supports events (such as XMLHttpRequest)." href="../EventTarget/addEventListener.html"><code>addEventListener()</code></a>:</p>

<pre class="brush: js">stopButton.addEventListener("click", function() {
  stop(preview.srcObject);
}, false);</pre>

<p>This simply calls the <code><a href="#Stopping_the_input_stream">stop()</a></code> function we covered earlier.</p>
</div>

<h2 id="Result">Result</h2>

<p>When put all together with the rest of the HTML and the CSS not shown above, it looks and works like this:</p>

<p><iframe width="600" frameborder="0" id="frame_Example" src="../../../../../../mdn.mozillademos.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element%24samples/Example71e3.html?revision=1135521" height="440" class="live-sample-frame sample-code-frame"></iframe></p>

<p>You can <a href="../../../../../../mdn.mozillademos.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element%24samples/Example71e3.html?revision=1135521" class="external">take a look at all the code</a>, including the parts hidden above because they aren't critical to the explanation of how the APIs are being used.</p>

<h2 id="See_also">See also</h2>

<ul>
 <li><a href="../MediaStream_Recording_API.html">MediaStream Recording API</a></li>
 <li><a href="Using_the_MediaStream_Recording_API.html">Using the MediaStream Recording API</a></li>
 <li><a href="../Media_Streams_API.html">Media Capture and Streams API</a></li>
</ul>
                  
                
              </article>

              

                <!-- contributors -->
                <div class="wiki-block contributors">
                  <h2 class="offscreen">Document Tags and Contributors</h2>
                  
                  
  <div class="tag-attach-list contributors-sub">
    <i aria-hidden="true" class="icon-tags icon-fw"></i>
    <strong>Tags:</strong>&nbsp;
    <ul class="tags tags-small">
      
        <li><a href="../../../tag/API.html">API</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/Audio">Audio</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/audio">audio</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/Example">Example</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/Guide">Guide</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/Media">Media</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/Media Recording">Media Recording</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/MediaStream Recording">MediaStream Recording</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/Tutorial">Tutorial</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/Video">Video</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/video">video</a></li>
      
    </ul>
  </div>

                  
                    <div class="contributors-sub">
                      <i aria-hidden="true" class="icon-group icon-fw"></i>&nbsp;<strong>Contributors to this page:</strong> 
        <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>
    
                    </div>
                  

                  
                    <div class="contributors-sub">
                      <i aria-hidden="true" class="icon-clock-o icon-fw"></i>&nbsp;<strong>Last updated by:</strong>
                      <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>,
                      <time datetime="2016-10-28T17:10:00-07:00">Oct 28, 2016, 5:10:00 PM</time>
                    </div>
                  
                </div>
              

              
                  <div class="newsletter-box">
                    <div class="newsletter">
    <form id="newsletterForm" name="newsletter-form" class="nodisable" action="https://www.mozilla.org/en-US/newsletter/" method="post">
        <h2 class="newsletter-teaser">Learn the best of web development</h2>
        <p class="newsletter-description">Sign up for our newsletter:</p>
        <input type="hidden" id="fmt" name="fmt" value="H">
        <input type="hidden" id="newsletterNewslettersInput" name="newsletters" value="app-dev">

        <div id="newsletterErrors" class="newsletter-errors"></div>

        <div id="newsletterEmail" class="form-group">
            <label for="newsletterEmailInput" class="form-label offscreen">E-mail</label>
            <input type="email" id="newsletterEmailInput" name="email" class="form-input newsletter-input-email" required="" placeholder="you@example.com" size="30">
        </div>

        <div id="newsletterPrivacy" class="form-group form-group-agree hidden">
            <input type="checkbox" id="newsletterPrivacyInput" name="privacy" required="">
            <label for="newsletterPrivacyInput">
            I'm okay with Mozilla handling my info as explained in this <a href="https://www.mozilla.org/privacy/">Privacy Policy</a>.
            </label>
        </div>
        <div id="newsletterSubmit">
            <button id="newsletter-submit" type="submit" class="button positive">Sign up now</button>
        </div>
        
    </form>
    <div id="newsletterThanks" class="newsletter-thanks hidden">
        <h2>Thanks! Please check your inbox to confirm your subscription.</h2>
        <p>If you havenâ€™t previously confirmed a subscription to a Mozilla-related newsletter you may have to do so. Please check your inbox or your spam filter for an email from us.
        </p>
    </div>
    <button id="newsletterHide" type="button" class="only-icon newsletter-hide hidden"><span>Hide Newsletter Sign-up</span><i aria-hidden="true" class="icon-times"></i></button>
</div>
                  </div>
              
            </div>

            
              <!-- quick links and zone subnav strip -->
              <div id="wiki-left" class="column-strip wiki-column">

              

                

                
                  <!-- quick links -->
                  
  <div class="quick-links" id="quick-links">
    <div class="title see-also">See also</div>
    <ol><li><strong><a href="../MediaStream_Recording_API.html">MediaStream Recording API</a></strong></li><li data-default-state="open"><a href="#"><strong>Guides</strong></a><ol><li><a title="While the article Using the MediaStream Recording API demonstrates using the MediaRecorder interface to capture a MediaStream generated by a hardware device, as returned by navigator.mediaDevices.getUserMedia(), you can also use an HTML media element (namely &lt;audio&gt; or &lt;video&gt;) as the source of the MediaStream to be recorded. In this article, we'll look at an example that does just that." href="/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element">Recording a media element</a></li><li><a title="The MediaStream Recording API makes it easy to record audio and/or video streams. When used with navigator.mediaDevices.getUserMedia(), it provides an easy way to record from the user's input devices and instantly use the result in web apps. Both audio and video may be recorded, separately or together. This article aims to provide a basic guide on how to use the MediaRecorder interface, which provides this API." href="Using_the_MediaStream_Recording_API.html">Using the MediaStream Recording API</a></li></ol></li><li data-default-state="open"><a href="#"><strong>Interfaces</strong></a><ol><li><a href="../MediaRecorder.html"><code>MediaRecorder</code></a></li><li><a href="../BlobEvent.html"><code>BlobEvent</code></a></li></ol></li><li data-default-state="open"><a href="#"><strong>Events</strong></a><ol><li><a href="../../Events/start_(SpeechRecognition).html"><code>start</code></a></li><li><a href="../../Events/stop.html"><code>stop</code></a></li><li><a href="../../Events/dataavailable.html"><code>dataavailable</code></a></li><li><a href="../../Events/pause.html"><code>pause</code></a></li><li><a href="../../Events/resume.html"><code>resume</code></a></li><li><a href="../../Events/error.html"><code>error</code></a></li></ol></li></ol>
  </div>
                

                <!-- approvals -->
                

              

              </div>
            
          </div>
        </div>
      </div>
    </div> <!-- ends "main-content" -->

  <menu type="context" id="edit-history-menu">
    <menuitem data-action="/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element$edit" label="Edit page"></menuitem>
    <menuitem data-action="/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element$history" label="View page history"></menuitem>
  </menu>

  </div></main>

  <!-- Footer -->
  <footer id="main-footer"><div class="center">
    <div class="column-container">
      <div class="column-main">
        
        <div class="contentinfo">
          <p>Â© 2005-2017 Mozilla Developer Network and individual contributors.</p> <p>Content is available under <a href="https://developer.mozilla.org/en-US/docs/MDN/About#Copyrights_and_licenses">these licenses</a>.</p>
          <ul>
            <li><a href="https://developer.mozilla.org/docs/MDN/About">About MDN</a></li>
            <li><a href="http://www.mozilla.org/about/legal/terms/mozilla">Terms</a></li>
            <li><a href="http://www.mozilla.org/privacy/websites/">Privacy</a></li>
            <li><a href="http://www.mozilla.org/privacy/websites/#cookies">Cookies</a></li>
            <li><a href="http://github.com/mozilla/kuma">Contribute to the code</a></li>
          </ul>
        </div>
        
      </div>
      <div class="column-strip">
        
          
  

        
      </div>
    </div>
  </div></footer>

  <!-- site js -->
  
    
    <!--[if lte IE 8]><script type="text/javascript" src="https://developer.cdn.mozilla.net/static/build/js/selectivizr.091e18cf669b.js" charset="utf-8"></script><![endif]-->

    
    <script async="" type="text/javascript" src="../../../../../../developer.cdn.mozilla.net/static/build/js/main.69644b44d458.js" charset="utf-8"></script>
    
      <script>
        if(window.mdn && mdn.analytics) mdn.analytics.trackOutboundLinks();
      </script>
    
    
    <script type="text/javascript" src="../../../../../../developer.cdn.mozilla.net/static/jsi18n/en-us/javascript.b28203373cc1.js"></script>
  
    <script async="" type="text/javascript" src="../../../../../../developer.cdn.mozilla.net/static/build/js/syntax-prism-min.js" charset="utf-8"></script><script type="text/javascript" src="../../../../../../developer.cdn.mozilla.net/static/build/js/main.69644b44d458.js" charset="utf-8"></script>
    
      <script>
        if(window.mdn && mdn.analytics) mdn.analytics.trackOutboundLinks();
      </script>
    
    
    <script type="text/javascript" src="../../../../../../developer.cdn.mozilla.net/static/jsi18n/en-us/javascript.b28203373cc1.js"></script>
  
    <script async="" type="text/javascript" src="../../../../../../developer.cdn.mozilla.net/static/build/js/wiki.d85ddd33511e.js" charset="utf-8" id="wikiscript"></script>

  

  

  

  
    <script async="" type="text/javascript" src="../../../../../../developer.cdn.mozilla.net/static/build/js/newsletter.7cd3274169f2.js" charset="utf-8"></script>
  



<!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Jan 2017 20:17:34 GMT -->
</body></html>