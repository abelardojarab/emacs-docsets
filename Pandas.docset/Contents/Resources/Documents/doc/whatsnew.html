
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>What’s New &#8212; pandas 0.19.2 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.19.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="pandas 0.19.2 documentation" href="index.html" />
    <link rel="next" title="Installation" href="install.html" />
    <link rel="prev" title="pandas: powerful Python data analysis toolkit" href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="pandas: powerful Python data analysis toolkit"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pandas 0.19.2 documentation</a> &#187;</li> 
      </ul>
    </div>
<div class="content-wrapper">
    <div class="content">
        <div class="document">
            <div class="sphinxsidebar">
                <h3>Table Of Contents</h3>
                <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">What&#8217;s New</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#v0-19-2-december-24-2016">v0.19.2 (December 24, 2016)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#enhancements">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#performance-improvements">Performance Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-19-1-november-3-2016">v0.19.1 (November 3, 2016)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0191-performance">Performance Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0191-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-19-0-october-2-2016">v0.19.0 (October 2, 2016)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#new-features">New features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#merge-asof-for-asof-style-time-series-joining"><code class="docutils literal"><span class="pre">merge_asof</span></code> for asof-style time-series joining</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rolling-is-now-time-series-aware"><code class="docutils literal"><span class="pre">.rolling()</span></code> is now time-series aware</a></li>
<li class="toctree-l4"><a class="reference internal" href="#read-csv-has-improved-support-for-duplicate-column-names"><code class="docutils literal"><span class="pre">read_csv</span></code> has improved support for duplicate column names</a></li>
<li class="toctree-l4"><a class="reference internal" href="#read-csv-supports-parsing-categorical-directly"><code class="docutils literal"><span class="pre">read_csv</span></code> supports parsing <code class="docutils literal"><span class="pre">Categorical</span></code> directly</a></li>
<li class="toctree-l4"><a class="reference internal" href="#categorical-concatenation">Categorical Concatenation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#semi-month-offsets">Semi-Month Offsets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#new-index-methods">New Index methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="#google-bigquery-enhancements">Google BigQuery Enhancements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fine-grained-numpy-errstate">Fine-grained numpy errstate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-dummies-now-returns-integer-dtypes"><code class="docutils literal"><span class="pre">get_dummies</span></code> now returns integer dtypes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#downcast-values-to-smallest-possible-dtype-in-to-numeric">Downcast values to smallest possible dtype in <code class="docutils literal"><span class="pre">to_numeric</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pandas-development-api">pandas development API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-enhancements">Other enhancements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#api-changes">API changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#series-tolist-will-now-return-python-types"><code class="docutils literal"><span class="pre">Series.tolist()</span></code> will now return Python types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#series-operators-for-different-indexes"><code class="docutils literal"><span class="pre">Series</span></code> operators for different indexes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#series-type-promotion-on-assignment"><code class="docutils literal"><span class="pre">Series</span></code> type promotion on assignment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#to-datetime-changes"><code class="docutils literal"><span class="pre">.to_datetime()</span></code> changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#merging-changes">Merging changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#describe-changes"><code class="docutils literal"><span class="pre">.describe()</span></code> changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#period-changes"><code class="docutils literal"><span class="pre">Period</span></code> changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#index-no-longer-used-for-set-operations">Index <code class="docutils literal"><span class="pre">+</span></code> / <code class="docutils literal"><span class="pre">-</span></code> no longer used for set operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#index-difference-and-symmetric-difference-changes"><code class="docutils literal"><span class="pre">Index.difference</span></code> and <code class="docutils literal"><span class="pre">.symmetric_difference</span></code> changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#index-unique-consistently-returns-index"><code class="docutils literal"><span class="pre">Index.unique</span></code> consistently returns <code class="docutils literal"><span class="pre">Index</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multiindex-constructors-groupby-and-set-index-preserve-categorical-dtypes"><code class="docutils literal"><span class="pre">MultiIndex</span></code> constructors, <code class="docutils literal"><span class="pre">groupby</span></code> and <code class="docutils literal"><span class="pre">set_index</span></code> preserve categorical dtypes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#read-csv-will-progressively-enumerate-chunks"><code class="docutils literal"><span class="pre">read_csv</span></code> will progressively enumerate chunks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sparse-changes">Sparse Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#indexer-dtype-changes">Indexer dtype changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-api-changes">Other API Changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#deprecations">Deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#removal-of-prior-version-deprecations-changes">Removal of prior version deprecations/changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0190-performance">Performance Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0190-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-18-1-may-3-2016">v0.18.1 (May 3, 2016)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0181-new-features">New features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#custom-business-hour">Custom Business Hour</a></li>
<li class="toctree-l4"><a class="reference internal" href="#groupby-syntax-with-window-and-resample-operations"><code class="docutils literal"><span class="pre">.groupby(..)</span></code> syntax with window and resample operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#method-chaininng-improvements">Method chaininng improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#partial-string-indexing-on-datetimeindex-when-part-of-a-multiindex">Partial string indexing on <code class="docutils literal"><span class="pre">DateTimeIndex</span></code> when part of a <code class="docutils literal"><span class="pre">MultiIndex</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#assembling-datetimes">Assembling Datetimes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0181-other">Other Enhancements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0181-sparse">Sparse changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0181-api">API changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#groupby-nth-changes"><code class="docutils literal"><span class="pre">.groupby(..).nth()</span></code> changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#numpy-function-compatibility">numpy function compatibility</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-apply-on-groupby-resampling">Using <code class="docutils literal"><span class="pre">.apply</span></code> on groupby resampling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-read-csv-exceptions">Changes in <code class="docutils literal"><span class="pre">read_csv</span></code> exceptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#to-datetime-error-changes"><code class="docutils literal"><span class="pre">to_datetime</span></code> error changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0181-api-other">Other API changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0181-deprecations">Deprecations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0181-performance">Performance Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0181-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-18-0-march-13-2016">v0.18.0 (March 13, 2016)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0180-enhancements">New features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#window-functions-are-now-methods">Window functions are now methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-rename">Changes to rename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#range-index">Range Index</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-str-extract">Changes to str.extract</a></li>
<li class="toctree-l4"><a class="reference internal" href="#addition-of-str-extractall">Addition of str.extractall</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-str-cat">Changes to str.cat</a></li>
<li class="toctree-l4"><a class="reference internal" href="#datetimelike-rounding">Datetimelike rounding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#formatting-of-integers-in-floatindex">Formatting of Integers in FloatIndex</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-dtype-assignment-behaviors">Changes to dtype assignment behaviors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#to-xarray">to_xarray</a></li>
<li class="toctree-l4"><a class="reference internal" href="#latex-representation">Latex Representation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pd-read-sas-changes"><code class="docutils literal"><span class="pre">pd.read_sas()</span></code> changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0180-enhancements-other">Other enhancements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#backwards-incompatible-api-changes">Backwards incompatible API changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nat-and-timedelta-operations">NaT and Timedelta operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-msgpack">Changes to msgpack</a></li>
<li class="toctree-l4"><a class="reference internal" href="#signature-change-for-rank">Signature change for .rank</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bug-in-quarterbegin-with-n-0">Bug in QuarterBegin with n=0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resample-api">Resample API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-eval">Changes to eval</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0180-api">Other API Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0180-deprecations">Deprecations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#removal-of-deprecated-float-indexers">Removal of deprecated float indexers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0180-prior-deprecations">Removal of prior version deprecations/changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0180-performance">Performance Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0180-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-17-1-november-21-2015">v0.17.1 (November 21, 2015)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id20">New features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#conditional-html-formatting">Conditional HTML Formatting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0171-enhancements">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0171-api">API changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0171-deprecations">Deprecations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0171-performance">Performance Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0171-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-17-0-october-9-2015">v0.17.0 (October 9, 2015)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0170-enhancements">New features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#datetime-with-tz">Datetime with TZ</a></li>
<li class="toctree-l4"><a class="reference internal" href="#releasing-the-gil">Releasing the GIL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plot-submethods">Plot submethods</a></li>
<li class="toctree-l4"><a class="reference internal" href="#additional-methods-for-dt-accessor">Additional methods for <code class="docutils literal"><span class="pre">dt</span></code> accessor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#period-frequency-enhancement">Period Frequency Enhancement</a></li>
<li class="toctree-l4"><a class="reference internal" href="#support-for-sas-xport-files">Support for SAS XPORT files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#support-for-math-functions-in-eval">Support for Math Functions in .eval()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-excel-with-multiindex">Changes to Excel with <code class="docutils literal"><span class="pre">MultiIndex</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0170-gbq">Google BigQuery Enhancements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#display-alignment-with-unicode-east-asian-width">Display Alignment with Unicode East Asian Width</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0170-enhancements-other">Other enhancements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0170-api-breaking">Backwards incompatible API changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-sorting-api">Changes to sorting API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-to-datetime-and-to-timedelta">Changes to to_datetime and to_timedelta</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-index-comparisons">Changes to Index Comparisons</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-boolean-comparisons-vs-none">Changes to Boolean Comparisons vs. None</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hdfstore-dropna-behavior">HDFStore dropna behavior</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-display-precision-option">Changes to <code class="docutils literal"><span class="pre">display.precision</span></code> option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-categorical-unique">Changes to <code class="docutils literal"><span class="pre">Categorical.unique</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#changes-to-bool-passed-as-header-in-parsers">Changes to <code class="docutils literal"><span class="pre">bool</span></code> passed as <code class="docutils literal"><span class="pre">header</span></code> in Parsers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0170-api-breaking-other">Other API Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0170-deprecations">Deprecations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0170-prior-deprecations">Removal of prior version deprecations/changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0170-performance">Performance Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0170-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-16-2-june-12-2015">v0.16.2 (June 12, 2015)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0162-enhancements">New features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pipe">Pipe</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0162-enhancements-other">Other Enhancements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0162-api">API Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0162-performance">Performance Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0162-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-16-1-may-11-2015">v0.16.1 (May 11, 2015)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id41">Enhancements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#categoricalindex">CategoricalIndex</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sample">Sample</a></li>
<li class="toctree-l4"><a class="reference internal" href="#string-methods-enhancements">String Methods Enhancements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0161-enhancements-other">Other Enhancements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0161-api">API changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0161-deprecations">Deprecations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#index-representation">Index Representation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0161-performance">Performance Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0161-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-16-0-march-22-2015">v0.16.0 (March 22, 2015)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0160-enhancements">New features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dataframe-assign">DataFrame Assign</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interaction-with-scipy-sparse">Interaction with scipy.sparse</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0160-enhancements-string">String Methods Enhancements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0160-enhancements-other">Other enhancements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0160-api">Backwards incompatible API changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#changes-in-timedelta">Changes in Timedelta</a></li>
<li class="toctree-l4"><a class="reference internal" href="#indexing-changes">Indexing Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#categorical-changes">Categorical Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0160-api-breaking-other">Other API Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0160-deprecations">Deprecations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0160-prior-deprecations">Removal of prior version deprecations/changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0160-performance">Performance Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0160-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-15-2-december-12-2014">v0.15.2 (December 12, 2014)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0152-api">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0152-enhancements">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#performance">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0152-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-15-1-november-9-2014">v0.15.1 (November 9, 2014)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0151-api">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0151-enhancements">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0151-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-15-0-october-18-2014">v0.15.0 (October 18, 2014)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id65">New features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#categoricals-in-series-dataframe">Categoricals in Series/DataFrame</a></li>
<li class="toctree-l4"><a class="reference internal" href="#timedeltaindex-scalar">TimedeltaIndex/Scalar</a></li>
<li class="toctree-l4"><a class="reference internal" href="#memory-usage">Memory Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dt-accessor">.dt accessor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#timezone-handling-improvements">Timezone handling improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rolling-expanding-moments-improvements">Rolling/Expanding Moments improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#improvements-in-the-sql-io-module">Improvements in the sql io module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0150-api">Backwards incompatible API changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#breaking-changes">Breaking changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#internal-refactoring">Internal Refactoring</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0150-deprecations">Deprecations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#whatsnew-0150-prior-deprecations">Removal of prior version deprecations/changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0150-enhancements">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0150-performance">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0150-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-14-1-july-11-2014">v0.14.1 (July 11, 2014)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0141-api">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0141-enhancements">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0141-performance">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#experimental">Experimental</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0141-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-14-0-may-31-2014">v0.14.0 (May 31 , 2014)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0140-api">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#display-changes">Display Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#text-parsing-api-changes">Text Parsing API Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#groupby-api-changes">Groupby API Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sql">SQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multiindexing-using-slicers">MultiIndexing Using Slicers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plotting">Plotting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prior-version-deprecations-changes">Prior Version Deprecations/Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0140-deprecations">Deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#known-issues">Known Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0140-enhancements">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0140-performance">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id80">Experimental</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0140-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-13-1-february-3-2014">v0.13.1 (February 3, 2014)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#output-formatting-enhancements">Output Formatting Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id82">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id83">Prior Version Deprecations/Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id84">Deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id85">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id86">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id87">Experimental</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id88">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-13-0-january-3-2014">v0.13.0 (January 3, 2014)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id89">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id90">Prior Version Deprecations/Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id91">Deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#indexing-api-changes">Indexing API Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#float64index-api-change">Float64Index API Change</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hdfstore-api-changes">HDFStore API Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataframe-repr-changes">DataFrame repr Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id92">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0130-experimental">Experimental</a></li>
<li class="toctree-l3"><a class="reference internal" href="#whatsnew-0130-refactoring">Internal Refactoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id95">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-12-0-july-24-2013">v0.12.0 (July 24, 2013)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id96">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i-o-enhancements">I/O Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id97">Other Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#experimental-features">Experimental Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id98">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-11-0-april-22-2013">v0.11.0 (April 22, 2013)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#selection-choices">Selection Choices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#selection-deprecations">Selection Deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dtypes">Dtypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dtype-conversion">Dtype Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dtype-gotchas">Dtype Gotchas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#datetimes-conversion">Datetimes Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id99">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id100">Enhancements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-10-1-january-22-2013">v0.10.1 (January 22, 2013)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id101">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id102">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hdfstore">HDFStore</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-10-0-december-17-2012">v0.10.0 (December 17, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#file-parsing-new-features">File parsing new features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id103">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id104">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wide-dataframe-printing">Wide DataFrame Printing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#updated-pytables-support">Updated PyTables Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#n-dimensional-panels-experimental">N Dimensional Panels (Experimental)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-9-1-november-14-2012">v0.9.1 (November 14, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id105">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id106">API changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-9-0-october-7-2012">v0.9.0 (October 7, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id107">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id108">API changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-8-1-july-22-2012">v0.8.1 (July 22, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id109">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id110">Performance improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-8-0-june-29-2012">v0.8.0 (June 29, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#support-for-non-unique-indexes">Support for non-unique indexes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#numpy-datetime64-dtype-and-1-6-dependency">NumPy datetime64 dtype and 1.6 dependency</a></li>
<li class="toctree-l3"><a class="reference internal" href="#time-series-changes-and-improvements">Time series changes and improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-new-features">Other new features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#new-plotting-methods">New plotting methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id111">Other API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#potential-porting-issues-for-pandas-0-7-3-users">Potential porting issues for pandas &lt;= 0.7.3 users</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-7-3-april-12-2012">v.0.7.3 (April 12, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id112">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#na-boolean-comparison-api-change">NA Boolean Comparison API Change</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id113">Other API Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-7-2-march-16-2012">v.0.7.2 (March 16, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id114">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id115">Performance improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-7-1-february-29-2012">v.0.7.1 (February 29, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id116">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id117">Performance improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-7-0-february-9-2012">v.0.7.0 (February 9, 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id118">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api-changes-to-integer-indexing">API Changes to integer indexing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api-tweaks-regarding-label-based-slicing">API tweaks regarding label-based slicing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes-to-series-operator">Changes to Series <code class="docutils literal"><span class="pre">[]</span></code> operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id119">Other API Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id120">Performance improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-6-1-december-13-2011">v.0.6.1 (December 13, 2011)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id121">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id122">Performance improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-6-0-november-25-2011">v.0.6.0 (November 25, 2011)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id123">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#performance-enhancements">Performance Enhancements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-5-0-october-24-2011">v.0.5.0 (October 24, 2011)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id124">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id125">Performance Enhancements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v-0-4-3-through-v0-4-1-september-25-october-9-2011">v.0.4.3 through v0.4.1 (September 25 - October 9, 2011)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id126">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id127">Performance Enhancements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Package overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="10min.html">10 Minutes to pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookbook.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="dsintro.html">Intro to Data Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Essential Basic Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="text.html">Working with Text Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="options.html">Options and Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="indexing.html">Indexing and Selecting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">MultiIndex / Advanced Indexing</a></li>
<li class="toctree-l1"><a class="reference internal" href="computation.html">Computational tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="missing_data.html">Working with missing data</a></li>
<li class="toctree-l1"><a class="reference internal" href="groupby.html">Group By: split-apply-combine</a></li>
<li class="toctree-l1"><a class="reference internal" href="merging.html">Merge, join, and concatenate</a></li>
<li class="toctree-l1"><a class="reference internal" href="reshaping.html">Reshaping and Pivot Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="timeseries.html">Time Series / Date functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="timedeltas.html">Time Deltas</a></li>
<li class="toctree-l1"><a class="reference internal" href="categorical.html">Categorical Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="style.html">Style</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">IO Tools (Text, CSV, HDF5, ...)</a></li>
<li class="toctree-l1"><a class="reference internal" href="remote_data.html">Remote Data Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="enhancingperf.html">Enhancing Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="sparse.html">Sparse data structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="gotchas.html">Caveats and Gotchas</a></li>
<li class="toctree-l1"><a class="reference internal" href="r_interface.html">rpy2 / R interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="ecosystem.html">pandas Ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="comparison_with_r.html">Comparison with R / R libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="comparison_with_sql.html">Comparison with SQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="comparison_with_sas.html">Comparison with SAS</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="internals.html">Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="release.html">Release Notes</a></li>
</ul>

                <h3 style="margin-top: 1.5em;">Search</h3>

                <form class="search" action="search.html" method="get">
                    <input type="text" name="q" size="18"/>
                    <input type="submit" value="Go"/>
                    <input type="hidden" name="check_keywords" value="yes"/>
                    <input type="hidden" name="area" value="default"/>
                </form>
                <p class="searchtip" style="font-size: 90%">
                    Enter search terms or a module, class or function name.
                </p>

            </div>
             
            <div class="documentwrapper">
                <div class="bodywrapper">
                    <div class="body">
                        
  <div class="section" id="what-s-new">
<span id="whatsnew"></span><h1>What&#8217;s New<a class="headerlink" href="#what-s-new" title="Permalink to this headline">¶</a></h1>
<p>These are new features and improvements of note in each release.</p>
<div class="section" id="v0-19-2-december-24-2016">
<span id="whatsnew-0192"></span><h2>v0.19.2 (December 24, 2016)<a class="headerlink" href="#v0-19-2-december-24-2016" title="Permalink to this headline">¶</a></h2>
<p>This is a minor bug-fix release in the 0.19.x series and includes some small regression fixes,
bug fixes and performance improvements.
We recommend that all users upgrade to this version.</p>
<p>Highlights include:</p>
<ul class="simple">
<li>Compatibility with Python 3.6</li>
<li>Added a <a class="reference external" href="https://github.com/pandas-dev/pandas/tree/master/doc/cheatsheet/Pandas_Cheat_Sheet.pdf">Pandas Cheat Sheet</a>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13202">GH13202</a>).</li>
</ul>
<div class="contents local topic" id="what-s-new-in-v0-19-2">
<p class="topic-title first">What&#8217;s new in v0.19.2</p>
<ul class="simple">
<li><a class="reference internal" href="#enhancements" id="id128">Enhancements</a></li>
<li><a class="reference internal" href="#performance-improvements" id="id129">Performance Improvements</a></li>
<li><a class="reference internal" href="#bug-fixes" id="id130">Bug Fixes</a></li>
</ul>
</div>
<div class="section" id="enhancements">
<span id="whatsnew-0192-enhancements"></span><h3>Enhancements<a class="headerlink" href="#enhancements" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">pd.merge_asof()</span></code>, added in 0.19.0, gained some improvements:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">pd.merge_asof()</span></code> gained <code class="docutils literal"><span class="pre">left_index</span></code>/<code class="docutils literal"><span class="pre">right_index</span></code> and <code class="docutils literal"><span class="pre">left_by</span></code>/<code class="docutils literal"><span class="pre">right_by</span></code> arguments (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14253">GH14253</a>)</li>
<li><code class="docutils literal"><span class="pre">pd.merge_asof()</span></code> can take multiple columns in <code class="docutils literal"><span class="pre">by</span></code> parameter and has specialized dtypes for better performace (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13936">GH13936</a>)</li>
</ul>
</div>
<div class="section" id="performance-improvements">
<span id="whatsnew-0192-performance"></span><h3>Performance Improvements<a class="headerlink" href="#performance-improvements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Performance regression with <code class="docutils literal"><span class="pre">PeriodIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14822">GH14822</a>)</li>
<li>Performance regression in indexing with getitem (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14930">GH14930</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">.replace()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12745">GH12745</a>)</li>
<li>Improved performance <code class="docutils literal"><span class="pre">Series</span></code> creation with a datetime index and dictionary data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14894">GH14894</a>)</li>
</ul>
</div>
<div class="section" id="bug-fixes">
<span id="whatsnew-0192-bug-fixes"></span><h3>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Compat with python 3.6 for pickling of some offsets (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14685">GH14685</a>)</li>
<li>Compat with python 3.6 for some indexing exception types (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14684">GH14684</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14689">GH14689</a>)</li>
<li>Compat with python 3.6 for deprecation warnings in the test suite (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14681">GH14681</a>)</li>
<li>Compat with python 3.6 for Timestamp pickles (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14689">GH14689</a>)</li>
<li>Compat with <code class="docutils literal"><span class="pre">dateutil==2.6.0</span></code>; segfault reported in the testing suite (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14621">GH14621</a>)</li>
<li>Allow <code class="docutils literal"><span class="pre">nanoseconds</span></code> in <code class="docutils literal"><span class="pre">Timestamp.replace</span></code> as a kwarg (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14621">GH14621</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv</span></code> in which aliasing was being done for <code class="docutils literal"><span class="pre">na_values</span></code> when passed in as a dictionary (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14203">GH14203</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv</span></code> in which column indices for a dict-like <code class="docutils literal"><span class="pre">na_values</span></code> were not being respected (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14203">GH14203</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv</span></code> where reading files fails, if the number of headers is equal to the number of lines in the file (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14515">GH14515</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv</span></code> for the Python engine in which an unhelpful error message was being raised when multi-char delimiters were not being respected with quotes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14582">GH14582</a>)</li>
<li>Fix bugs (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14734">GH14734</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13654">GH13654</a>) in <code class="docutils literal"><span class="pre">pd.read_sas</span></code> and <code class="docutils literal"><span class="pre">pandas.io.sas.sas7bdat.SAS7BDATReader</span></code> that caused problems when reading a SAS file incrementally.</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv</span></code> for the Python engine in which an unhelpful error message was being raised when <code class="docutils literal"><span class="pre">skipfooter</span></code> was not being respected by Python&#8217;s CSV library (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13879">GH13879</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.fillna()</span></code> in which timezone aware datetime64 values were incorrectly rounded (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14872">GH14872</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.groupby(...,</span> <span class="pre">sort=True)</span></code> of a non-lexsorted MultiIndex when grouping with multiple levels (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14776">GH14776</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.cut</span></code> with negative values and a single bin (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14652">GH14652</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.to_numeric</span></code> where a 0 was not unsigned on a <code class="docutils literal"><span class="pre">downcast='unsigned'</span></code> argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14401">GH14401</a>)</li>
<li>Bug in plotting regular and irregular timeseries using shared axes
(<code class="docutils literal"><span class="pre">sharex=True</span></code> or <code class="docutils literal"><span class="pre">ax.twinx()</span></code>) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13341">GH13341</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14322">GH14322</a>).</li>
<li>Bug in not propogating exceptions in parsing invalid datetimes, noted in python 3.6 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14561">GH14561</a>)</li>
<li>Bug in resampling a <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> in local TZ, covering a DST change, which would raise <code class="docutils literal"><span class="pre">AmbiguousTimeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14682">GH14682</a>)</li>
<li>Bug in indexing that transformed <code class="docutils literal"><span class="pre">RecursionError</span></code> into <code class="docutils literal"><span class="pre">KeyError</span></code> or <code class="docutils literal"><span class="pre">IndexingError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14554">GH14554</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">HDFStore</span></code> when writing a <code class="docutils literal"><span class="pre">MultiIndex</span></code> when using <code class="docutils literal"><span class="pre">data_columns=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14435">GH14435</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">HDFStore.append()</span></code> when writing a <code class="docutils literal"><span class="pre">Series</span></code> and passing a <code class="docutils literal"><span class="pre">min_itemsize</span></code> argument containing a value for the <code class="docutils literal"><span class="pre">index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11412">GH11412</a>)</li>
<li>Bug when writing to a <code class="docutils literal"><span class="pre">HDFStore</span></code> in <code class="docutils literal"><span class="pre">table</span></code> format with a <code class="docutils literal"><span class="pre">min_itemsize</span></code> value for the <code class="docutils literal"><span class="pre">index</span></code> and without asking to append (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10381">GH10381</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.groupby.nunique()</span></code> raising an <code class="docutils literal"><span class="pre">IndexError</span></code> for an empty <code class="docutils literal"><span class="pre">Series</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12553">GH12553</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.nlargest</span></code> and <code class="docutils literal"><span class="pre">DataFrame.nsmallest</span></code> when the index had duplicate values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13412">GH13412</a>)</li>
<li>Bug in clipboard functions on linux with python2 with unicode and separators (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13747">GH13747</a>)</li>
<li>Bug in clipboard functions on Windows 10 and python 3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14362">GH14362</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12807">GH12807</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.to_clipboard()</span></code> and Excel compat (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12529">GH12529</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.combine_first()</span></code> for integer columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14687">GH14687</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> in which the <code class="docutils literal"><span class="pre">dtype</span></code> parameter was not being respected for empty data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14712">GH14712</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> in which the <code class="docutils literal"><span class="pre">nrows</span></code> parameter was not being respected for large input when using the C engine for parsing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7626">GH7626</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.merge_asof()</span></code> could not handle timezone-aware DatetimeIndex when a tolerance was specified (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14844">GH14844</a>)</li>
<li>Explicit check in <code class="docutils literal"><span class="pre">to_stata</span></code> and <code class="docutils literal"><span class="pre">StataWriter</span></code> for out-of-range values when writing doubles (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14618">GH14618</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.plot(kind='kde')</span></code> which did not drop missing values to generate the KDE Plot, instead generating an empty plot. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14821">GH14821</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">unstack()</span></code> if called with a list of column(s) as an argument, regardless of the dtypes of all columns, they get coerced to <code class="docutils literal"><span class="pre">object</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11847">GH11847</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v0-19-1-november-3-2016">
<span id="whatsnew-0191"></span><h2>v0.19.1 (November 3, 2016)<a class="headerlink" href="#v0-19-1-november-3-2016" title="Permalink to this headline">¶</a></h2>
<p>This is a minor bug-fix release from 0.19.0 and includes some small regression fixes,
bug fixes and performance improvements.
We recommend that all users upgrade to this version.</p>
<div class="contents local topic" id="what-s-new-in-v0-19-1">
<p class="topic-title first">What&#8217;s new in v0.19.1</p>
<ul class="simple">
<li><a class="reference internal" href="#whatsnew-0191-performance" id="id131">Performance Improvements</a></li>
<li><a class="reference internal" href="#whatsnew-0191-bug-fixes" id="id132">Bug Fixes</a></li>
</ul>
</div>
<div class="section" id="whatsnew-0191-performance">
<span id="id1"></span><h3>Performance Improvements<a class="headerlink" href="#whatsnew-0191-performance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed performance regression in factorization of <code class="docutils literal"><span class="pre">Period</span></code> data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14338">GH14338</a>)</li>
<li>Fixed performance regression in <code class="docutils literal"><span class="pre">Series.asof(where)</span></code> when <code class="docutils literal"><span class="pre">where</span></code> is a scalar (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14461">GH14461</a>)</li>
<li>Improved performance in <code class="docutils literal"><span class="pre">DataFrame.asof(where)</span></code> when <code class="docutils literal"><span class="pre">where</span></code> is a scalar (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14461">GH14461</a>)</li>
<li>Improved performance in <code class="docutils literal"><span class="pre">.to_json()</span></code> when <code class="docutils literal"><span class="pre">lines=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14408">GH14408</a>)</li>
<li>Improved performance in certain types of <cite>loc</cite> indexing with a MultiIndex (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14551">GH14551</a>).</li>
</ul>
</div>
<div class="section" id="whatsnew-0191-bug-fixes">
<span id="id2"></span><h3>Bug Fixes<a class="headerlink" href="#whatsnew-0191-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Source installs from PyPI will now again work without <code class="docutils literal"><span class="pre">cython</span></code> installed, as in previous versions (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14204">GH14204</a>)</li>
<li>Compat with Cython 0.25 for building (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14496">GH14496</a>)</li>
<li>Fixed regression where user-provided file handles were closed in <code class="docutils literal"><span class="pre">read_csv</span></code> (c engine) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14418">GH14418</a>).</li>
<li>Fixed regression in <code class="docutils literal"><span class="pre">DataFrame.quantile</span></code> when missing values where present in some columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14357">GH14357</a>).</li>
<li>Fixed regression in <code class="docutils literal"><span class="pre">Index.difference</span></code> where the <code class="docutils literal"><span class="pre">freq</span></code> of a <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> was incorrectly set (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14323">GH14323</a>)</li>
<li>Added back <code class="docutils literal"><span class="pre">pandas.core.common.array_equivalent</span></code> with a deprecation warning (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14555">GH14555</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv</span></code> for the C engine in which quotation marks were improperly parsed in skipped rows (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14459">GH14459</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv</span></code> for Python 2.x in which Unicode quote characters were no longer being respected (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14477">GH14477</a>)</li>
<li>Fixed regression in <code class="docutils literal"><span class="pre">Index.append</span></code> when categorical indices were appended (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14545">GH14545</a>).</li>
<li>Fixed regression in <code class="docutils literal"><span class="pre">pd.DataFrame</span></code> where constructor fails when given dict with <code class="docutils literal"><span class="pre">None</span></code> value (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14381">GH14381</a>)</li>
<li>Fixed regression in <code class="docutils literal"><span class="pre">DatetimeIndex._maybe_cast_slice_bound</span></code> when index is empty (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14354">GH14354</a>).</li>
<li>Bug in localizing an ambiguous timezone when a boolean is passed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14402">GH14402</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> addition with a Datetime-like object where addition overflow in the negative direction was not being caught (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14068">GH14068</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14453">GH14453</a>)</li>
<li>Bug in string indexing against data with <code class="docutils literal"><span class="pre">object</span></code> <code class="docutils literal"><span class="pre">Index</span></code> may raise <code class="docutils literal"><span class="pre">AttributeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14424">GH14424</a>)</li>
<li>Corrrecly raise <code class="docutils literal"><span class="pre">ValueError</span></code> on empty input to <code class="docutils literal"><span class="pre">pd.eval()</span></code> and <code class="docutils literal"><span class="pre">df.query()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13139">GH13139</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">RangeIndex.intersection</span></code> when result is a empty set (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14364">GH14364</a>).</li>
<li>Bug in groupby-transform broadcasting that could cause incorrect dtype coercion (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14457">GH14457</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.__setitem__</span></code> which allowed mutating read-only arrays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14359">GH14359</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.insert</span></code> where multiple calls with duplicate columns can fail (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14291">GH14291</a>)</li>
<li><code class="docutils literal"><span class="pre">pd.merge()</span></code> will raise <code class="docutils literal"><span class="pre">ValueError</span></code> with non-boolean parameters in passed boolean type arguments (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14434">GH14434</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Timestamp</span></code> where dates very near the minimum (1677-09) could underflow on creation (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14415">GH14415</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.concat</span></code> where names of the <code class="docutils literal"><span class="pre">keys</span></code> were not propagated to the resulting <code class="docutils literal"><span class="pre">MultiIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14252">GH14252</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.concat</span></code> where <code class="docutils literal"><span class="pre">axis</span></code> cannot take string parameters <code class="docutils literal"><span class="pre">'rows'</span></code> or <code class="docutils literal"><span class="pre">'columns'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14369">GH14369</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.concat</span></code> with dataframes heterogeneous in length and tuple <code class="docutils literal"><span class="pre">keys</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14438">GH14438</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">MultiIndex.set_levels</span></code> where illegal level values were still set after raising an error (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13754">GH13754</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_json</span></code> where <code class="docutils literal"><span class="pre">lines=True</span></code> and a value contained a <code class="docutils literal"><span class="pre">}</span></code> character (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14391">GH14391</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">df.groupby</span></code> causing an <code class="docutils literal"><span class="pre">AttributeError</span></code> when grouping a single index frame by a column and the index level (:issue`14327`)</li>
<li>Bug in <code class="docutils literal"><span class="pre">df.groupby</span></code> where <code class="docutils literal"><span class="pre">TypeError</span></code> raised when <code class="docutils literal"><span class="pre">pd.Grouper(key=...)</span></code> is passed in a list (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14334">GH14334</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.pivot_table</span></code> may raise <code class="docutils literal"><span class="pre">TypeError</span></code> or <code class="docutils literal"><span class="pre">ValueError</span></code> when <code class="docutils literal"><span class="pre">index</span></code> or <code class="docutils literal"><span class="pre">columns</span></code>
is not scalar and <code class="docutils literal"><span class="pre">values</span></code> is not specified (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14380">GH14380</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v0-19-0-october-2-2016">
<span id="whatsnew-0190"></span><h2>v0.19.0 (October 2, 2016)<a class="headerlink" href="#v0-19-0-october-2-2016" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.18.1 and includes number of API changes, several new features,
enhancements, and performance improvements along with a large number of bug fixes. We recommend that all
users upgrade to this version.</p>
<p>Highlights include:</p>
<ul class="simple">
<li><a class="reference internal" href="generated/pandas.merge_asof.html#pandas.merge_asof" title="pandas.merge_asof"><code class="xref py py-func docutils literal"><span class="pre">merge_asof()</span></code></a> for asof-style time-series joining, see <a class="reference internal" href="#whatsnew-0190-enhancements-asof-merge"><span class="std std-ref">here</span></a></li>
<li><code class="docutils literal"><span class="pre">.rolling()</span></code> is now time-series aware, see <a class="reference internal" href="#whatsnew-0190-enhancements-rolling-ts"><span class="std std-ref">here</span></a></li>
<li><a class="reference internal" href="generated/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal"><span class="pre">read_csv()</span></code></a> now supports parsing <code class="docutils literal"><span class="pre">Categorical</span></code> data, see <a class="reference internal" href="#whatsnew-0190-enhancements-read-csv-categorical"><span class="std std-ref">here</span></a></li>
<li>A function <code class="xref py py-func docutils literal"><span class="pre">union_categorical()</span></code> has been added for combining categoricals, see <a class="reference internal" href="#whatsnew-0190-enhancements-union-categoricals"><span class="std std-ref">here</span></a></li>
<li><code class="docutils literal"><span class="pre">PeriodIndex</span></code> now has its own <code class="docutils literal"><span class="pre">period</span></code> dtype, and changed to be more consistent with other <code class="docutils literal"><span class="pre">Index</span></code> classes. See <a class="reference internal" href="#whatsnew-0190-api-period"><span class="std std-ref">here</span></a></li>
<li>Sparse data structures gained enhanced support of <code class="docutils literal"><span class="pre">int</span></code> and <code class="docutils literal"><span class="pre">bool</span></code> dtypes, see <a class="reference internal" href="#whatsnew-0190-sparse"><span class="std std-ref">here</span></a></li>
<li>Comparison operations with <code class="docutils literal"><span class="pre">Series</span></code> no longer ignores the index, see <a class="reference internal" href="#whatsnew-0190-api-series-ops"><span class="std std-ref">here</span></a> for an overview of the API changes.</li>
<li>Introduction of a pandas development API for utility functions, see <a class="reference internal" href="#whatsnew-0190-dev-api"><span class="std std-ref">here</span></a>.</li>
<li>Deprecation of <code class="docutils literal"><span class="pre">Panel4D</span></code> and <code class="docutils literal"><span class="pre">PanelND</span></code>. We recommend to represent these types of n-dimensional data with the <a class="reference external" href="http://xarray.pydata.org/en/stable/">xarray package</a>.</li>
<li>Removal of the previously deprecated modules <code class="docutils literal"><span class="pre">pandas.io.data</span></code>, <code class="docutils literal"><span class="pre">pandas.io.wb</span></code>, <code class="docutils literal"><span class="pre">pandas.tools.rplot</span></code>.</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">pandas &gt;= 0.19.0 will no longer silence numpy ufunc warnings upon import, see <a class="reference internal" href="#whatsnew-0190-errstate"><span class="std std-ref">here</span></a>.</p>
</div>
<div class="contents local topic" id="what-s-new-in-v0-19-0">
<p class="topic-title first">What&#8217;s new in v0.19.0</p>
<ul class="simple">
<li><a class="reference internal" href="#new-features" id="id133">New features</a><ul>
<li><a class="reference internal" href="#merge-asof-for-asof-style-time-series-joining" id="id134"><code class="docutils literal"><span class="pre">merge_asof</span></code> for asof-style time-series joining</a></li>
<li><a class="reference internal" href="#rolling-is-now-time-series-aware" id="id135"><code class="docutils literal"><span class="pre">.rolling()</span></code> is now time-series aware</a></li>
<li><a class="reference internal" href="#read-csv-has-improved-support-for-duplicate-column-names" id="id136"><code class="docutils literal"><span class="pre">read_csv</span></code> has improved support for duplicate column names</a></li>
<li><a class="reference internal" href="#read-csv-supports-parsing-categorical-directly" id="id137"><code class="docutils literal"><span class="pre">read_csv</span></code> supports parsing <code class="docutils literal"><span class="pre">Categorical</span></code> directly</a></li>
<li><a class="reference internal" href="#categorical-concatenation" id="id138">Categorical Concatenation</a></li>
<li><a class="reference internal" href="#semi-month-offsets" id="id139">Semi-Month Offsets</a></li>
<li><a class="reference internal" href="#new-index-methods" id="id140">New Index methods</a></li>
<li><a class="reference internal" href="#google-bigquery-enhancements" id="id141">Google BigQuery Enhancements</a></li>
<li><a class="reference internal" href="#fine-grained-numpy-errstate" id="id142">Fine-grained numpy errstate</a></li>
<li><a class="reference internal" href="#get-dummies-now-returns-integer-dtypes" id="id143"><code class="docutils literal"><span class="pre">get_dummies</span></code> now returns integer dtypes</a></li>
<li><a class="reference internal" href="#downcast-values-to-smallest-possible-dtype-in-to-numeric" id="id144">Downcast values to smallest possible dtype in <code class="docutils literal"><span class="pre">to_numeric</span></code></a></li>
<li><a class="reference internal" href="#pandas-development-api" id="id145">pandas development API</a></li>
<li><a class="reference internal" href="#other-enhancements" id="id146">Other enhancements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-changes" id="id147">API changes</a><ul>
<li><a class="reference internal" href="#series-tolist-will-now-return-python-types" id="id148"><code class="docutils literal"><span class="pre">Series.tolist()</span></code> will now return Python types</a></li>
<li><a class="reference internal" href="#series-operators-for-different-indexes" id="id149"><code class="docutils literal"><span class="pre">Series</span></code> operators for different indexes</a><ul>
<li><a class="reference internal" href="#arithmetic-operators" id="id150">Arithmetic operators</a></li>
<li><a class="reference internal" href="#comparison-operators" id="id151">Comparison operators</a></li>
<li><a class="reference internal" href="#logical-operators" id="id152">Logical operators</a></li>
<li><a class="reference internal" href="#flexible-comparison-methods" id="id153">Flexible comparison methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#series-type-promotion-on-assignment" id="id154"><code class="docutils literal"><span class="pre">Series</span></code> type promotion on assignment</a></li>
<li><a class="reference internal" href="#to-datetime-changes" id="id155"><code class="docutils literal"><span class="pre">.to_datetime()</span></code> changes</a></li>
<li><a class="reference internal" href="#merging-changes" id="id156">Merging changes</a></li>
<li><a class="reference internal" href="#describe-changes" id="id157"><code class="docutils literal"><span class="pre">.describe()</span></code> changes</a></li>
<li><a class="reference internal" href="#period-changes" id="id158"><code class="docutils literal"><span class="pre">Period</span></code> changes</a><ul>
<li><a class="reference internal" href="#periodindex-now-has-period-dtype" id="id159"><code class="docutils literal"><span class="pre">PeriodIndex</span></code> now has <code class="docutils literal"><span class="pre">period</span></code> dtype</a></li>
<li><a class="reference internal" href="#period-nat-now-returns-pd-nat" id="id160"><code class="docutils literal"><span class="pre">Period('NaT')</span></code> now returns <code class="docutils literal"><span class="pre">pd.NaT</span></code></a></li>
<li><a class="reference internal" href="#periodindex-values-now-returns-array-of-period-object" id="id161"><code class="docutils literal"><span class="pre">PeriodIndex.values</span></code> now returns array of <code class="docutils literal"><span class="pre">Period</span></code> object</a></li>
</ul>
</li>
<li><a class="reference internal" href="#index-no-longer-used-for-set-operations" id="id162">Index <code class="docutils literal"><span class="pre">+</span></code> / <code class="docutils literal"><span class="pre">-</span></code> no longer used for set operations</a></li>
<li><a class="reference internal" href="#index-difference-and-symmetric-difference-changes" id="id163"><code class="docutils literal"><span class="pre">Index.difference</span></code> and <code class="docutils literal"><span class="pre">.symmetric_difference</span></code> changes</a></li>
<li><a class="reference internal" href="#index-unique-consistently-returns-index" id="id164"><code class="docutils literal"><span class="pre">Index.unique</span></code> consistently returns <code class="docutils literal"><span class="pre">Index</span></code></a></li>
<li><a class="reference internal" href="#multiindex-constructors-groupby-and-set-index-preserve-categorical-dtypes" id="id165"><code class="docutils literal"><span class="pre">MultiIndex</span></code> constructors, <code class="docutils literal"><span class="pre">groupby</span></code> and <code class="docutils literal"><span class="pre">set_index</span></code> preserve categorical dtypes</a></li>
<li><a class="reference internal" href="#read-csv-will-progressively-enumerate-chunks" id="id166"><code class="docutils literal"><span class="pre">read_csv</span></code> will progressively enumerate chunks</a></li>
<li><a class="reference internal" href="#sparse-changes" id="id167">Sparse Changes</a><ul>
<li><a class="reference internal" href="#int64-and-bool-support-enhancements" id="id168"><code class="docutils literal"><span class="pre">int64</span></code> and <code class="docutils literal"><span class="pre">bool</span></code> support enhancements</a></li>
<li><a class="reference internal" href="#operators-now-preserve-dtypes" id="id169">Operators now preserve dtypes</a></li>
<li><a class="reference internal" href="#other-sparse-fixes" id="id170">Other sparse fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indexer-dtype-changes" id="id171">Indexer dtype changes</a></li>
<li><a class="reference internal" href="#other-api-changes" id="id172">Other API Changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deprecations" id="id173">Deprecations</a></li>
<li><a class="reference internal" href="#removal-of-prior-version-deprecations-changes" id="id174">Removal of prior version deprecations/changes</a></li>
<li><a class="reference internal" href="#whatsnew-0190-performance" id="id175">Performance Improvements</a></li>
<li><a class="reference internal" href="#whatsnew-0190-bug-fixes" id="id176">Bug Fixes</a></li>
</ul>
</div>
<div class="section" id="new-features">
<span id="whatsnew-0190-new-features"></span><h3>New features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<div class="section" id="merge-asof-for-asof-style-time-series-joining">
<span id="whatsnew-0190-enhancements-asof-merge"></span><h4><code class="docutils literal"><span class="pre">merge_asof</span></code> for asof-style time-series joining<a class="headerlink" href="#merge-asof-for-asof-style-time-series-joining" title="Permalink to this headline">¶</a></h4>
<p>A long-time requested feature has been added through the <a class="reference internal" href="generated/pandas.merge_asof.html#pandas.merge_asof" title="pandas.merge_asof"><code class="xref py py-func docutils literal"><span class="pre">merge_asof()</span></code></a> function, to
support asof style joining of time-series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1870">GH1870</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13695">GH13695</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13709">GH13709</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13902">GH13902</a>). Full documentation is
<a class="reference internal" href="merging.html#merging-merge-asof"><span class="std std-ref">here</span></a>.</p>
<p>The <a class="reference internal" href="generated/pandas.merge_asof.html#pandas.merge_asof" title="pandas.merge_asof"><code class="xref py py-func docutils literal"><span class="pre">merge_asof()</span></code></a> performs an asof merge, which is similar to a left-join
except that we match on nearest key rather than equal keys.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">left</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
<span class="gp">   ...:</span>                      <span class="s1">&#39;left_val&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]})</span>
<span class="gp">   ...:</span> 

<span class="gp">In [2]: </span><span class="n">right</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
<span class="gp">   ...:</span>                      <span class="s1">&#39;right_val&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]})</span>
<span class="gp">   ...:</span> 

<span class="gp">In [3]: </span><span class="n">left</span>
<span class="gr">Out[3]: </span>
<span class="go">    a left_val</span>
<span class="go">0   1        a</span>
<span class="go">1   5        b</span>
<span class="go">2  10        c</span>

<span class="gp">In [4]: </span><span class="n">right</span>
<span class="gr">Out[4]: </span>
<span class="go">   a  right_val</span>
<span class="go">0  1          1</span>
<span class="go">1  2          2</span>
<span class="go">2  3          3</span>
<span class="go">3  6          6</span>
<span class="go">4  7          7</span>
</pre></div>
</div>
<p>We typically want to match exactly when possible, and use the most
recent value otherwise.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">pd</span><span class="o">.</span><span class="n">merge_asof</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gr">Out[5]: </span>
<span class="go">    a left_val  right_val</span>
<span class="go">0   1        a          1</span>
<span class="go">1   5        b          3</span>
<span class="go">2  10        c          7</span>
</pre></div>
</div>
<p>We can also match rows ONLY with prior data, and not an exact match.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">pd</span><span class="o">.</span><span class="n">merge_asof</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">allow_exact_matches</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gr">Out[6]: </span>
<span class="go">    a left_val  right_val</span>
<span class="go">0   1        a        NaN</span>
<span class="go">1   5        b        3.0</span>
<span class="go">2  10        c        7.0</span>
</pre></div>
</div>
<p>In a typical time-series example, we have <code class="docutils literal"><span class="pre">trades</span></code> and <code class="docutils literal"><span class="pre">quotes</span></code> and we want to <code class="docutils literal"><span class="pre">asof-join</span></code> them.
This also illustrates using the <code class="docutils literal"><span class="pre">by</span></code> parameter to group data before merging.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">trades</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">   ...:</span>     <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="s1">&#39;20160525 13:30:00.023&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                             <span class="s1">&#39;20160525 13:30:00.038&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                             <span class="s1">&#39;20160525 13:30:00.048&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                             <span class="s1">&#39;20160525 13:30:00.048&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                             <span class="s1">&#39;20160525 13:30:00.048&#39;</span><span class="p">]),</span>
<span class="gp">   ...:</span>     <span class="s1">&#39;ticker&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;MSFT&#39;</span><span class="p">,</span> <span class="s1">&#39;MSFT&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                <span class="s1">&#39;GOOG&#39;</span><span class="p">,</span> <span class="s1">&#39;GOOG&#39;</span><span class="p">,</span> <span class="s1">&#39;AAPL&#39;</span><span class="p">],</span>
<span class="gp">   ...:</span>     <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">51.95</span><span class="p">,</span> <span class="mf">51.95</span><span class="p">,</span>
<span class="gp">   ...:</span>               <span class="mf">720.77</span><span class="p">,</span> <span class="mf">720.92</span><span class="p">,</span> <span class="mf">98.00</span><span class="p">],</span>
<span class="gp">   ...:</span>     <span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">75</span><span class="p">,</span> <span class="mi">155</span><span class="p">,</span>
<span class="gp">   ...:</span>                  <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">]},</span>
<span class="gp">   ...:</span>     <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;ticker&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">])</span>
<span class="gp">   ...:</span> 

<span class="gp">In [8]: </span><span class="n">quotes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">   ...:</span>     <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="s1">&#39;20160525 13:30:00.023&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                             <span class="s1">&#39;20160525 13:30:00.023&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                             <span class="s1">&#39;20160525 13:30:00.030&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                             <span class="s1">&#39;20160525 13:30:00.041&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                             <span class="s1">&#39;20160525 13:30:00.048&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                             <span class="s1">&#39;20160525 13:30:00.049&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                             <span class="s1">&#39;20160525 13:30:00.072&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                             <span class="s1">&#39;20160525 13:30:00.075&#39;</span><span class="p">]),</span>
<span class="gp">   ...:</span>     <span class="s1">&#39;ticker&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;GOOG&#39;</span><span class="p">,</span> <span class="s1">&#39;MSFT&#39;</span><span class="p">,</span> <span class="s1">&#39;MSFT&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                <span class="s1">&#39;MSFT&#39;</span><span class="p">,</span> <span class="s1">&#39;GOOG&#39;</span><span class="p">,</span> <span class="s1">&#39;AAPL&#39;</span><span class="p">,</span> <span class="s1">&#39;GOOG&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                <span class="s1">&#39;MSFT&#39;</span><span class="p">],</span>
<span class="gp">   ...:</span>     <span class="s1">&#39;bid&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">720.50</span><span class="p">,</span> <span class="mf">51.95</span><span class="p">,</span> <span class="mf">51.97</span><span class="p">,</span> <span class="mf">51.99</span><span class="p">,</span>
<span class="gp">   ...:</span>             <span class="mf">720.50</span><span class="p">,</span> <span class="mf">97.99</span><span class="p">,</span> <span class="mf">720.50</span><span class="p">,</span> <span class="mf">52.01</span><span class="p">],</span>
<span class="gp">   ...:</span>     <span class="s1">&#39;ask&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">720.93</span><span class="p">,</span> <span class="mf">51.96</span><span class="p">,</span> <span class="mf">51.98</span><span class="p">,</span> <span class="mf">52.00</span><span class="p">,</span>
<span class="gp">   ...:</span>             <span class="mf">720.93</span><span class="p">,</span> <span class="mf">98.01</span><span class="p">,</span> <span class="mf">720.88</span><span class="p">,</span> <span class="mf">52.03</span><span class="p">]},</span>
<span class="gp">   ...:</span>     <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;ticker&#39;</span><span class="p">,</span> <span class="s1">&#39;bid&#39;</span><span class="p">,</span> <span class="s1">&#39;ask&#39;</span><span class="p">])</span>
<span class="gp">   ...:</span> 
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">trades</span>
<span class="gr">Out[9]: </span>
<span class="go">                     time ticker   price  quantity</span>
<span class="go">0 2016-05-25 13:30:00.023   MSFT   51.95        75</span>
<span class="go">1 2016-05-25 13:30:00.038   MSFT   51.95       155</span>
<span class="go">2 2016-05-25 13:30:00.048   GOOG  720.77       100</span>
<span class="go">3 2016-05-25 13:30:00.048   GOOG  720.92       100</span>
<span class="go">4 2016-05-25 13:30:00.048   AAPL   98.00       100</span>

<span class="gp">In [10]: </span><span class="n">quotes</span>
<span class="gr">Out[10]: </span>
<span class="go">                     time ticker     bid     ask</span>
<span class="go">0 2016-05-25 13:30:00.023   GOOG  720.50  720.93</span>
<span class="go">1 2016-05-25 13:30:00.023   MSFT   51.95   51.96</span>
<span class="go">2 2016-05-25 13:30:00.030   MSFT   51.97   51.98</span>
<span class="go">3 2016-05-25 13:30:00.041   MSFT   51.99   52.00</span>
<span class="go">4 2016-05-25 13:30:00.048   GOOG  720.50  720.93</span>
<span class="go">5 2016-05-25 13:30:00.049   AAPL   97.99   98.01</span>
<span class="go">6 2016-05-25 13:30:00.072   GOOG  720.50  720.88</span>
<span class="go">7 2016-05-25 13:30:00.075   MSFT   52.01   52.03</span>
</pre></div>
</div>
<p>An asof merge joins on the <code class="docutils literal"><span class="pre">on</span></code>, typically a datetimelike field, which is ordered, and
in this case we are using a grouper in the <code class="docutils literal"><span class="pre">by</span></code> field. This is like a left-outer join, except
that forward filling happens automatically taking the most recent non-NaN value.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">pd</span><span class="o">.</span><span class="n">merge_asof</span><span class="p">(</span><span class="n">trades</span><span class="p">,</span> <span class="n">quotes</span><span class="p">,</span>
<span class="gp">   ....:</span>               <span class="n">on</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>               <span class="n">by</span><span class="o">=</span><span class="s1">&#39;ticker&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[11]: </span>
<span class="go">                     time ticker   price  quantity     bid     ask</span>
<span class="go">0 2016-05-25 13:30:00.023   MSFT   51.95        75   51.95   51.96</span>
<span class="go">1 2016-05-25 13:30:00.038   MSFT   51.95       155   51.97   51.98</span>
<span class="go">2 2016-05-25 13:30:00.048   GOOG  720.77       100  720.50  720.93</span>
<span class="go">3 2016-05-25 13:30:00.048   GOOG  720.92       100  720.50  720.93</span>
<span class="go">4 2016-05-25 13:30:00.048   AAPL   98.00       100     NaN     NaN</span>
</pre></div>
</div>
<p>This returns a merged DataFrame with the entries in the same order as the original left
passed DataFrame (<code class="docutils literal"><span class="pre">trades</span></code> in this case), with the fields of the <code class="docutils literal"><span class="pre">quotes</span></code> merged.</p>
</div>
<div class="section" id="rolling-is-now-time-series-aware">
<span id="whatsnew-0190-enhancements-rolling-ts"></span><h4><code class="docutils literal"><span class="pre">.rolling()</span></code> is now time-series aware<a class="headerlink" href="#rolling-is-now-time-series-aware" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">.rolling()</span></code> objects are now time-series aware and can accept a time-series offset (or convertible) for the <code class="docutils literal"><span class="pre">window</span></code> argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13327">GH13327</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12995">GH12995</a>).
See the full documentation <a class="reference internal" href="computation.html#stats-moments-ts"><span class="std std-ref">here</span></a>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="n">dft</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">4</span><span class="p">]},</span>
<span class="gp">   ....:</span>                    <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101 09:00:00&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">))</span>
<span class="gp">   ....:</span> 

<span class="gp">In [13]: </span><span class="n">dft</span>
<span class="gr">Out[13]: </span>
<span class="go">                       B</span>
<span class="go">2013-01-01 09:00:00  0.0</span>
<span class="go">2013-01-01 09:00:01  1.0</span>
<span class="go">2013-01-01 09:00:02  2.0</span>
<span class="go">2013-01-01 09:00:03  NaN</span>
<span class="go">2013-01-01 09:00:04  4.0</span>
</pre></div>
</div>
<p>This is a regular frequency index. Using an integer window parameter works to roll along the window frequency.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [14]: </span><span class="n">dft</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gr">Out[14]: </span>
<span class="go">                       B</span>
<span class="go">2013-01-01 09:00:00  NaN</span>
<span class="go">2013-01-01 09:00:01  1.0</span>
<span class="go">2013-01-01 09:00:02  3.0</span>
<span class="go">2013-01-01 09:00:03  NaN</span>
<span class="go">2013-01-01 09:00:04  NaN</span>

<span class="gp">In [15]: </span><span class="n">dft</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gr">Out[15]: </span>
<span class="go">                       B</span>
<span class="go">2013-01-01 09:00:00  0.0</span>
<span class="go">2013-01-01 09:00:01  1.0</span>
<span class="go">2013-01-01 09:00:02  3.0</span>
<span class="go">2013-01-01 09:00:03  2.0</span>
<span class="go">2013-01-01 09:00:04  4.0</span>
</pre></div>
</div>
<p>Specifying an offset allows a more intuitive specification of the rolling frequency.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">dft</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="s1">&#39;2s&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gr">Out[16]: </span>
<span class="go">                       B</span>
<span class="go">2013-01-01 09:00:00  0.0</span>
<span class="go">2013-01-01 09:00:01  1.0</span>
<span class="go">2013-01-01 09:00:02  3.0</span>
<span class="go">2013-01-01 09:00:03  2.0</span>
<span class="go">2013-01-01 09:00:04  4.0</span>
</pre></div>
</div>
<p>Using a non-regular, but still monotonic index, rolling with an integer window does not impart any special calculation.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="n">dft</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">4</span><span class="p">]},</span>
<span class="gp">   ....:</span>                 <span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;20130101 09:00:00&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>                                   <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;20130101 09:00:02&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>                                   <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;20130101 09:00:03&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>                                   <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;20130101 09:00:05&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>                                   <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;20130101 09:00:06&#39;</span><span class="p">)],</span>
<span class="gp">   ....:</span>                                  <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">))</span>
<span class="gp">   ....:</span> 

<span class="gp">In [18]: </span><span class="n">dft</span>
<span class="gr">Out[18]: </span>
<span class="go">                       B</span>
<span class="go">foo                     </span>
<span class="go">2013-01-01 09:00:00  0.0</span>
<span class="go">2013-01-01 09:00:02  1.0</span>
<span class="go">2013-01-01 09:00:03  2.0</span>
<span class="go">2013-01-01 09:00:05  NaN</span>
<span class="go">2013-01-01 09:00:06  4.0</span>

<span class="gp">In [19]: </span><span class="n">dft</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gr">Out[19]: </span>
<span class="go">                       B</span>
<span class="go">foo                     </span>
<span class="go">2013-01-01 09:00:00  NaN</span>
<span class="go">2013-01-01 09:00:02  1.0</span>
<span class="go">2013-01-01 09:00:03  3.0</span>
<span class="go">2013-01-01 09:00:05  NaN</span>
<span class="go">2013-01-01 09:00:06  NaN</span>
</pre></div>
</div>
<p>Using the time-specification generates variable windows for this sparse data.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [20]: </span><span class="n">dft</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="s1">&#39;2s&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gr">Out[20]: </span>
<span class="go">                       B</span>
<span class="go">foo                     </span>
<span class="go">2013-01-01 09:00:00  0.0</span>
<span class="go">2013-01-01 09:00:02  1.0</span>
<span class="go">2013-01-01 09:00:03  3.0</span>
<span class="go">2013-01-01 09:00:05  NaN</span>
<span class="go">2013-01-01 09:00:06  4.0</span>
</pre></div>
</div>
<p>Furthermore, we now allow an optional <code class="docutils literal"><span class="pre">on</span></code> parameter to specify a column (rather than the
default of the index) in a DataFrame.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [21]: </span><span class="n">dft</span> <span class="o">=</span> <span class="n">dft</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="gp">In [22]: </span><span class="n">dft</span>
<span class="gr">Out[22]: </span>
<span class="go">                  foo    B</span>
<span class="go">0 2013-01-01 09:00:00  0.0</span>
<span class="go">1 2013-01-01 09:00:02  1.0</span>
<span class="go">2 2013-01-01 09:00:03  2.0</span>
<span class="go">3 2013-01-01 09:00:05  NaN</span>
<span class="go">4 2013-01-01 09:00:06  4.0</span>

<span class="gp">In [23]: </span><span class="n">dft</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="s1">&#39;2s&#39;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gr">Out[23]: </span>
<span class="go">                  foo    B</span>
<span class="go">0 2013-01-01 09:00:00  0.0</span>
<span class="go">1 2013-01-01 09:00:02  1.0</span>
<span class="go">2 2013-01-01 09:00:03  3.0</span>
<span class="go">3 2013-01-01 09:00:05  NaN</span>
<span class="go">4 2013-01-01 09:00:06  4.0</span>
</pre></div>
</div>
</div>
<div class="section" id="read-csv-has-improved-support-for-duplicate-column-names">
<span id="whatsnew-0190-enhancements-read-csv-dupe-col-names-support"></span><h4><code class="docutils literal"><span class="pre">read_csv</span></code> has improved support for duplicate column names<a class="headerlink" href="#read-csv-has-improved-support-for-duplicate-column-names" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="io.html#io-dupe-names"><span class="std std-ref">Duplicate column names</span></a> are now supported in <a class="reference internal" href="generated/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal"><span class="pre">read_csv()</span></code></a> whether
they are in the file or passed in as the <code class="docutils literal"><span class="pre">names</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7160">GH7160</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9424">GH9424</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [24]: </span><span class="n">data</span> <span class="o">=</span> <span class="s1">&#39;0,1,2</span><span class="se">\n</span><span class="s1">3,4,5&#39;</span>

<span class="gp">In [25]: </span><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">names</span><span class="o">=</span><span class="n">names</span><span class="p">)</span>
<span class="go">Out[2]:</span>
<span class="go">   a  b  a</span>
<span class="go">0  2  1  2</span>
<span class="go">1  5  4  5</span>
</pre></div>
</div>
<p>The first <code class="docutils literal"><span class="pre">a</span></code> column contained the same data as the second <code class="docutils literal"><span class="pre">a</span></code> column, when it should have
contained the values <code class="docutils literal"><span class="pre">[0,</span> <span class="pre">3]</span></code>.</p>
<p><strong>New behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [26]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">names</span><span class="o">=</span><span class="n">names</span><span class="p">)</span>
<span class="gr">Out[26]: </span>
<span class="go">   a  b  a.1</span>
<span class="go">0  0  1    2</span>
<span class="go">1  3  4    5</span>
</pre></div>
</div>
</div>
<div class="section" id="read-csv-supports-parsing-categorical-directly">
<span id="whatsnew-0190-enhancements-read-csv-categorical"></span><h4><code class="docutils literal"><span class="pre">read_csv</span></code> supports parsing <code class="docutils literal"><span class="pre">Categorical</span></code> directly<a class="headerlink" href="#read-csv-supports-parsing-categorical-directly" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="generated/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal"><span class="pre">read_csv()</span></code></a> function now supports parsing a <code class="docutils literal"><span class="pre">Categorical</span></code> column when
specified as a dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10153">GH10153</a>).  Depending on the structure of the data,
this can result in a faster parse time and lower memory usage compared to
converting to <code class="docutils literal"><span class="pre">Categorical</span></code> after parsing.  See the io <a class="reference internal" href="io.html#io-categorical"><span class="std std-ref">docs here</span></a>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [27]: </span><span class="n">data</span> <span class="o">=</span> <span class="s1">&#39;col1,col2,col3</span><span class="se">\n</span><span class="s1">a,b,1</span><span class="se">\n</span><span class="s1">a,b,2</span><span class="se">\n</span><span class="s1">c,d,3&#39;</span>

<span class="gp">In [28]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="gr">Out[28]: </span>
<span class="go">  col1 col2  col3</span>
<span class="go">0    a    b     1</span>
<span class="go">1    a    b     2</span>
<span class="go">2    c    d     3</span>

<span class="gp">In [29]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">))</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[29]: </span>
<span class="go">col1    object</span>
<span class="go">col2    object</span>
<span class="go">col3     int64</span>
<span class="go">dtype: object</span>

<span class="gp">In [30]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[30]: </span>
<span class="go">col1    category</span>
<span class="go">col2    category</span>
<span class="go">col3    category</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>Individual columns can be parsed as a <code class="docutils literal"><span class="pre">Categorical</span></code> using a dict specification</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [31]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;col1&#39;</span><span class="p">:</span> <span class="s1">&#39;category&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[31]: </span>
<span class="go">col1    category</span>
<span class="go">col2      object</span>
<span class="go">col3       int64</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The resulting categories will always be parsed as strings (object dtype).
If the categories are numeric they can be converted using the
<a class="reference internal" href="generated/pandas.to_numeric.html#pandas.to_numeric" title="pandas.to_numeric"><code class="xref py py-func docutils literal"><span class="pre">to_numeric()</span></code></a> function, or as appropriate, another converter
such as <a class="reference internal" href="generated/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal"><span class="pre">to_datetime()</span></code></a>.</p>
<div class="last highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [32]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="gp">In [33]: </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[33]: </span>
<span class="go">col1    category</span>
<span class="go">col2    category</span>
<span class="go">col3    category</span>
<span class="go">dtype: object</span>

<span class="gp">In [34]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;col3&#39;</span><span class="p">]</span>
<span class="gr">Out[34]: </span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">2    3</span>
<span class="go">Name: col3, dtype: category</span>
<span class="go">Categories (3, object): [1, 2, 3]</span>

<span class="gp">In [35]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;col3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;col3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span><span class="p">)</span>

<span class="gp">In [36]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;col3&#39;</span><span class="p">]</span>
<span class="gr">Out[36]: </span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">2    3</span>
<span class="go">Name: col3, dtype: category</span>
<span class="go">Categories (3, int64): [1, 2, 3]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="categorical-concatenation">
<span id="whatsnew-0190-enhancements-union-categoricals"></span><h4>Categorical Concatenation<a class="headerlink" href="#categorical-concatenation" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">A function <code class="xref py py-func docutils literal"><span class="pre">union_categoricals()</span></code> has been added for combining categoricals, see <a class="reference internal" href="categorical.html#categorical-union"><span class="std std-ref">Unioning Categoricals</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13361">GH13361</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/:13763">GH:13763</a>, issue:<cite>13846</cite>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14173">GH14173</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [37]: </span><span class="kn">from</span> <span class="nn">pandas.types.concat</span> <span class="kn">import</span> <span class="n">union_categoricals</span>

<span class="gp">In [38]: </span><span class="n">a</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">])</span>

<span class="gp">In [39]: </span><span class="n">b</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">])</span>

<span class="gp">In [40]: </span><span class="n">union_categoricals</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">])</span>
<span class="gr">Out[40]: </span>
<span class="go">[b, c, a, b]</span>
<span class="go">Categories (3, object): [b, c, a]</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">concat</span></code> and <code class="docutils literal"><span class="pre">append</span></code> now can concat <code class="docutils literal"><span class="pre">category</span></code> dtypes with different <code class="docutils literal"><span class="pre">categories</span></code> as <code class="docutils literal"><span class="pre">object</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13524">GH13524</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [41]: </span><span class="n">s1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="gp">In [42]: </span><span class="n">s2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">])</span>
<span class="go">ValueError: incompatible categories in categorical concat</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [43]: </span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">])</span>
<span class="gr">Out[43]: </span>
<span class="go">0    a</span>
<span class="go">1    b</span>
<span class="go">0    b</span>
<span class="go">1    c</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="semi-month-offsets">
<span id="whatsnew-0190-enhancements-semi-month-offsets"></span><h4>Semi-Month Offsets<a class="headerlink" href="#semi-month-offsets" title="Permalink to this headline">¶</a></h4>
<p>Pandas has gained new frequency offsets, <code class="docutils literal"><span class="pre">SemiMonthEnd</span></code> (&#8216;SM&#8217;) and <code class="docutils literal"><span class="pre">SemiMonthBegin</span></code> (&#8216;SMS&#8217;).
These provide date offsets anchored (by default) to the 15th and end of month, and 15th and 1st of month respectively.
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1543">GH1543</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [44]: </span><span class="kn">from</span> <span class="nn">pandas.tseries.offsets</span> <span class="kn">import</span> <span class="n">SemiMonthEnd</span><span class="p">,</span> <span class="n">SemiMonthBegin</span>
</pre></div>
</div>
<p><strong>SemiMonthEnd</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [45]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">SemiMonthEnd</span><span class="p">()</span>
<span class="gr">Out[45]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2016-01-15 00:00:00&#39;</span><span class="p">)</span>

<span class="gp">In [46]: </span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2015-01-01&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;SM&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gr">Out[46]: </span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;2015-01-15&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-01-31&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-02-15&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-02-28&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;SM-15&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>SemiMonthBegin</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [47]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">SemiMonthBegin</span><span class="p">()</span>
<span class="gr">Out[47]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2016-01-15 00:00:00&#39;</span><span class="p">)</span>

<span class="gp">In [48]: </span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2015-01-01&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;SMS&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gr">Out[48]: </span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;2015-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-01-15&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-02-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-02-15&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;SMS-15&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Using the anchoring suffix, you can also specify the day of month to use instead of the 15th.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [49]: </span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2015-01-01&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;SMS-16&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gr">Out[49]: </span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;2015-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-01-16&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-02-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-02-16&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;SMS-16&#39;</span><span class="p">)</span>

<span class="gp">In [50]: </span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2015-01-01&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;SM-14&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gr">Out[50]: </span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;2015-01-14&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-01-31&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-02-14&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-02-28&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;SM-14&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="new-index-methods">
<span id="whatsnew-0190-enhancements-index"></span><h4>New Index methods<a class="headerlink" href="#new-index-methods" title="Permalink to this headline">¶</a></h4>
<p>The following methods and options are added to <code class="docutils literal"><span class="pre">Index</span></code>, to be more consistent with the <code class="docutils literal"><span class="pre">Series</span></code> and <code class="docutils literal"><span class="pre">DataFrame</span></code> API.</p>
<p><code class="docutils literal"><span class="pre">Index</span></code> now supports the <code class="docutils literal"><span class="pre">.where()</span></code> function for same shape indexing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13170">GH13170</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [51]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>

<span class="gp">In [52]: </span><span class="n">idx</span><span class="o">.</span><span class="n">where</span><span class="p">([</span><span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">])</span>
<span class="gr">Out[52]: </span><span class="n">Index</span><span class="p">([</span><span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="s1">u&#39;c&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">Index</span></code> now supports <code class="docutils literal"><span class="pre">.dropna()</span></code> to exclude missing values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6194">GH6194</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [53]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>

<span class="gp">In [54]: </span><span class="n">idx</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="gr">Out[54]: </span><span class="n">Float64Index</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>For <code class="docutils literal"><span class="pre">MultiIndex</span></code>, values are dropped if any level is missing by default. Specifying
<code class="docutils literal"><span class="pre">how='all'</span></code> only drops values where all levels are missing.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [55]: </span><span class="n">midx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_arrays</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">   ....:</span>                                     <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [56]: </span><span class="n">midx</span>
<span class="gr">Out[56]: </span>
<span class="go">MultiIndex(levels=[[1, 2, 4], [1, 2]],</span>
<span class="go">           labels=[[0, 1, -1, 2], [0, 1, -1, -1]])</span>

<span class="gp">In [57]: </span><span class="n">midx</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="gr">Out[57]: </span>
<span class="go">MultiIndex(levels=[[1, 2, 4], [1, 2]],</span>
<span class="go">           labels=[[0, 1], [0, 1]])</span>

<span class="gp">In [58]: </span><span class="n">midx</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">how</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="gr">Out[58]: </span>
<span class="go">MultiIndex(levels=[[1, 2, 4], [1, 2]],</span>
<span class="go">           labels=[[0, 1, 2], [0, 1, -1]])</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">Index</span></code> now supports <code class="docutils literal"><span class="pre">.str.extractall()</span></code> which returns a <code class="docutils literal"><span class="pre">DataFrame</span></code>, see the <a class="reference internal" href="text.html#text-extractall"><span class="std std-ref">docs here</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10008">GH10008</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13156">GH13156</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [59]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="s2">&quot;a1a2&quot;</span><span class="p">,</span> <span class="s2">&quot;b1&quot;</span><span class="p">,</span> <span class="s2">&quot;c1&quot;</span><span class="p">])</span>

<span class="gp">In [60]: </span><span class="n">idx</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extractall</span><span class="p">(</span><span class="s2">&quot;[ab](?P&lt;digit&gt;\d)&quot;</span><span class="p">)</span>
<span class="gr">Out[60]: </span>
<span class="go">        digit</span>
<span class="go">  match      </span>
<span class="go">0 0         1</span>
<span class="go">  1         2</span>
<span class="go">1 0         1</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">Index.astype()</span></code> now accepts an optional boolean argument <code class="docutils literal"><span class="pre">copy</span></code>, which allows optional copying if the requirements on dtype are satisfied (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13209">GH13209</a>)</p>
</div>
<div class="section" id="google-bigquery-enhancements">
<span id="whatsnew-0190-gbq"></span><h4>Google BigQuery Enhancements<a class="headerlink" href="#google-bigquery-enhancements" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The <code class="xref py py-func docutils literal"><span class="pre">read_gbq()</span></code> method has gained the <code class="docutils literal"><span class="pre">dialect</span></code> argument to allow users to specify whether to use BigQuery&#8217;s legacy SQL or BigQuery&#8217;s standard SQL. See the <a class="reference internal" href="io.html#io-bigquery-reader"><span class="std std-ref">docs</span></a> for more details (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13615">GH13615</a>).</li>
<li>The <a class="reference internal" href="generated/pandas.DataFrame.to_gbq.html#pandas.DataFrame.to_gbq" title="pandas.DataFrame.to_gbq"><code class="xref py py-func docutils literal"><span class="pre">to_gbq()</span></code></a> method now allows the DataFrame column order to differ from the destination table schema (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11359">GH11359</a>).</li>
</ul>
</div>
<div class="section" id="fine-grained-numpy-errstate">
<span id="whatsnew-0190-errstate"></span><h4>Fine-grained numpy errstate<a class="headerlink" href="#fine-grained-numpy-errstate" title="Permalink to this headline">¶</a></h4>
<p>Previous versions of pandas would permanently silence numpy&#8217;s ufunc error handling when <code class="docutils literal"><span class="pre">pandas</span></code> was imported. Pandas did this in order to silence the warnings that would arise from using numpy ufuncs on missing data, which are usually represented as <code class="docutils literal"><span class="pre">NaN</span></code> s. Unfortunately, this silenced legitimate warnings arising in non-pandas code in the application. Starting with 0.19.0, pandas will use the <code class="docutils literal"><span class="pre">numpy.errstate</span></code> context manager to silence these warnings in a more fine-grained manner, only around where these operations are actually used in the pandas codebase. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13109">GH13109</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13145">GH13145</a>)</p>
<p>After upgrading pandas, you may see <em>new</em> <code class="docutils literal"><span class="pre">RuntimeWarnings</span></code> being issued from your code. These are likely legitimate, and the underlying cause likely existed in the code when using previous versions of pandas that simply silenced the warning. Use <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.errstate.html">numpy.errstate</a> around the source of the <code class="docutils literal"><span class="pre">RuntimeWarning</span></code> to control how these conditions are handled.</p>
</div>
<div class="section" id="get-dummies-now-returns-integer-dtypes">
<span id="whatsnew-0190-get-dummies-dtypes"></span><h4><code class="docutils literal"><span class="pre">get_dummies</span></code> now returns integer dtypes<a class="headerlink" href="#get-dummies-now-returns-integer-dtypes" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">pd.get_dummies</span></code> function now returns dummy-encoded columns as small integers, rather than floats (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8725">GH8725</a>). This should provide an improved memory footprint.</p>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dtypes</span>

<span class="go">Out[1]:</span>
<span class="go">a    float64</span>
<span class="go">b    float64</span>
<span class="go">c    float64</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [61]: </span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[61]: </span>
<span class="go">a    uint8</span>
<span class="go">b    uint8</span>
<span class="go">c    uint8</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</div>
<div class="section" id="downcast-values-to-smallest-possible-dtype-in-to-numeric">
<span id="whatsnew-0190-enhancements-to-numeric-downcast"></span><h4>Downcast values to smallest possible dtype in <code class="docutils literal"><span class="pre">to_numeric</span></code><a class="headerlink" href="#downcast-values-to-smallest-possible-dtype-in-to-numeric" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">pd.to_numeric()</span></code> now accepts a <code class="docutils literal"><span class="pre">downcast</span></code> parameter, which will downcast the data if possible to smallest specified numerical dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13352">GH13352</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [62]: </span><span class="n">s</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="gp">In [63]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">downcast</span><span class="o">=</span><span class="s1">&#39;unsigned&#39;</span><span class="p">)</span>
<span class="gr">Out[63]: </span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">)</span>

<span class="gp">In [64]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">downcast</span><span class="o">=</span><span class="s1">&#39;integer&#39;</span><span class="p">)</span>
<span class="gr">Out[64]: </span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int8</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="pandas-development-api">
<span id="whatsnew-0190-dev-api"></span><h4>pandas development API<a class="headerlink" href="#pandas-development-api" title="Permalink to this headline">¶</a></h4>
<p>As part of making pandas API more uniform and accessible in the future, we have created a standard
sub-package of pandas, <code class="docutils literal"><span class="pre">pandas.api</span></code> to hold public API&#8217;s. We are starting by exposing type
introspection functions in <code class="docutils literal"><span class="pre">pandas.api.types</span></code>. More sub-packages and officially sanctioned API&#8217;s
will be published in future versions of pandas (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13147">GH13147</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13634">GH13634</a>)</p>
<p>The following are now part of this API:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [65]: </span><span class="kn">import</span> <span class="nn">pprint</span>

<span class="gp">In [66]: </span><span class="kn">from</span> <span class="nn">pandas.api</span> <span class="kn">import</span> <span class="n">types</span>

<span class="gp">In [67]: </span><span class="n">funcs</span> <span class="o">=</span> <span class="p">[</span> <span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">types</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">f</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)</span> <span class="p">]</span>

<span class="gp">In [68]: </span><span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">funcs</span><span class="p">)</span>
<span class="go">[&#39;is_any_int_dtype&#39;,</span>
<span class="go"> &#39;is_bool&#39;,</span>
<span class="go"> &#39;is_bool_dtype&#39;,</span>
<span class="go"> &#39;is_categorical&#39;,</span>
<span class="go"> &#39;is_categorical_dtype&#39;,</span>
<span class="go"> &#39;is_complex&#39;,</span>
<span class="go"> &#39;is_complex_dtype&#39;,</span>
<span class="go"> &#39;is_datetime64_any_dtype&#39;,</span>
<span class="go"> &#39;is_datetime64_dtype&#39;,</span>
<span class="go"> &#39;is_datetime64_ns_dtype&#39;,</span>
<span class="go"> &#39;is_datetime64tz_dtype&#39;,</span>
<span class="go"> &#39;is_datetimetz&#39;,</span>
<span class="go"> &#39;is_dict_like&#39;,</span>
<span class="go"> &#39;is_dtype_equal&#39;,</span>
<span class="go"> &#39;is_extension_type&#39;,</span>
<span class="go"> &#39;is_float&#39;,</span>
<span class="go"> &#39;is_float_dtype&#39;,</span>
<span class="go"> &#39;is_floating_dtype&#39;,</span>
<span class="go"> &#39;is_hashable&#39;,</span>
<span class="go"> &#39;is_int64_dtype&#39;,</span>
<span class="go"> &#39;is_integer&#39;,</span>
<span class="go"> &#39;is_integer_dtype&#39;,</span>
<span class="go"> &#39;is_iterator&#39;,</span>
<span class="go"> &#39;is_list_like&#39;,</span>
<span class="go"> &#39;is_named_tuple&#39;,</span>
<span class="go"> &#39;is_number&#39;,</span>
<span class="go"> &#39;is_numeric_dtype&#39;,</span>
<span class="go"> &#39;is_object_dtype&#39;,</span>
<span class="go"> &#39;is_period&#39;,</span>
<span class="go"> &#39;is_period_dtype&#39;,</span>
<span class="go"> &#39;is_re&#39;,</span>
<span class="go"> &#39;is_re_compilable&#39;,</span>
<span class="go"> &#39;is_scalar&#39;,</span>
<span class="go"> &#39;is_sequence&#39;,</span>
<span class="go"> &#39;is_sparse&#39;,</span>
<span class="go"> &#39;is_string_dtype&#39;,</span>
<span class="go"> &#39;is_timedelta64_dtype&#39;,</span>
<span class="go"> &#39;is_timedelta64_ns_dtype&#39;,</span>
<span class="go"> &#39;pandas_dtype&#39;]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Calling these functions from the internal module <code class="docutils literal"><span class="pre">pandas.core.common</span></code> will now show a <code class="docutils literal"><span class="pre">DeprecationWarning</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13990">GH13990</a>)</p>
</div>
</div>
<div class="section" id="other-enhancements">
<span id="whatsnew-0190-enhancements-other"></span><h4>Other enhancements<a class="headerlink" href="#other-enhancements" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">Timestamp</span></code> can now accept positional and keyword parameters similar to <code class="xref py py-func docutils literal"><span class="pre">datetime.datetime()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10758">GH10758</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11630">GH11630</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [69]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gr">Out[69]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2012-01-01 00:00:00&#39;</span><span class="p">)</span>

<span class="gp">In [70]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2012</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="gr">Out[70]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2012-01-01 08:30:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">.resample()</span></code> function now accepts a <code class="docutils literal"><span class="pre">on=</span></code> or <code class="docutils literal"><span class="pre">level=</span></code> parameter for resampling on a datetimelike column or <code class="docutils literal"><span class="pre">MultiIndex</span></code> level (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13500">GH13500</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [71]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2015-01-01&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">   ....:</span>                    <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)},</span>
<span class="gp">   ....:</span>                   <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_arrays</span><span class="p">([</span>
<span class="gp">   ....:</span>                            <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
<span class="gp">   ....:</span>                            <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2015-01-01&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">)],</span>
<span class="gp">   ....:</span>                        <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;v&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">]))</span>
<span class="gp">   ....:</span> 

<span class="gp">In [72]: </span><span class="n">df</span>
<span class="gr">Out[72]: </span>
<span class="go">              a       date</span>
<span class="go">v d                       </span>
<span class="go">1 2015-01-04  0 2015-01-04</span>
<span class="go">2 2015-01-11  1 2015-01-11</span>
<span class="go">3 2015-01-18  2 2015-01-18</span>
<span class="go">4 2015-01-25  3 2015-01-25</span>
<span class="go">5 2015-02-01  4 2015-02-01</span>

<span class="gp">In [73]: </span><span class="n">df</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gr">Out[73]: </span>
<span class="go">            a</span>
<span class="go">date         </span>
<span class="go">2015-01-31  6</span>
<span class="go">2015-02-28  4</span>

<span class="gp">In [74]: </span><span class="n">df</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gr">Out[74]: </span>
<span class="go">            a</span>
<span class="go">d            </span>
<span class="go">2015-01-31  6</span>
<span class="go">2015-02-28  4</span>
</pre></div>
</div>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">.get_credentials()</span></code> method of <code class="docutils literal"><span class="pre">GbqConnector</span></code> can now first try to fetch <a class="reference external" href="https://developers.google.com/identity/protocols/application-default-credentials">the application default credentials</a>. See the <a class="reference internal" href="io.html#io-bigquery-authentication"><span class="std std-ref">docs</span></a> for more details (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13577">GH13577</a>).</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">.tz_localize()</span></code> method of <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> and <code class="docutils literal"><span class="pre">Timestamp</span></code> has gained the <code class="docutils literal"><span class="pre">errors</span></code> keyword, so you can potentially coerce nonexistent timestamps to <code class="docutils literal"><span class="pre">NaT</span></code>. The default behavior remains to raising a <code class="docutils literal"><span class="pre">NonExistentTimeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13057">GH13057</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">.to_hdf/read_hdf()</span></code> now accept path objects (e.g. <code class="docutils literal"><span class="pre">pathlib.Path</span></code>, <code class="docutils literal"><span class="pre">py.path.local</span></code>) for the file path (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11773">GH11773</a>)</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> with <code class="docutils literal"><span class="pre">engine='python'</span></code> has gained support for the
<code class="docutils literal"><span class="pre">decimal</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12933">GH12933</a>), <code class="docutils literal"><span class="pre">na_filter</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13321">GH13321</a>) and the <code class="docutils literal"><span class="pre">memory_map</span></code> option (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13381">GH13381</a>).</p>
</li>
<li><p class="first">Consistent with the Python API, <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> will now interpret <code class="docutils literal"><span class="pre">+inf</span></code> as positive infinity (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13274">GH13274</a>)</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">pd.read_html()</span></code> has gained support for the <code class="docutils literal"><span class="pre">na_values</span></code>, <code class="docutils literal"><span class="pre">converters</span></code>, <code class="docutils literal"><span class="pre">keep_default_na</span></code>  options (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13461">GH13461</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Categorical.astype()</span></code> now accepts an optional boolean argument <code class="docutils literal"><span class="pre">copy</span></code>, effective when dtype is categorical (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13209">GH13209</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame</span></code> has gained the <code class="docutils literal"><span class="pre">.asof()</span></code> method to return the last non-NaN values according to the selected subset (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13358">GH13358</a>)</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">DataFrame</span></code> constructor will now respect key ordering if a list of <code class="docutils literal"><span class="pre">OrderedDict</span></code> objects are passed in (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13304">GH13304</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_html()</span></code> has gained support for the <code class="docutils literal"><span class="pre">decimal</span></code> option (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12907">GH12907</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series</span></code> has gained the properties <code class="docutils literal"><span class="pre">.is_monotonic</span></code>, <code class="docutils literal"><span class="pre">.is_monotonic_increasing</span></code>, <code class="docutils literal"><span class="pre">.is_monotonic_decreasing</span></code>, similar to <code class="docutils literal"><span class="pre">Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13336">GH13336</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.to_sql()</span></code> now allows a single value as the SQL type for all columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11886">GH11886</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series.append</span></code> now supports the <code class="docutils literal"><span class="pre">ignore_index</span></code> option (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13677">GH13677</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">.to_stata()</span></code> and <code class="docutils literal"><span class="pre">StataWriter</span></code> can now write variable labels to Stata dta files using a dictionary to make column names to labels (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13535">GH13535</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13536">GH13536</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">.to_stata()</span></code> and <code class="docutils literal"><span class="pre">StataWriter</span></code> will automatically convert <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> columns to Stata format <code class="docutils literal"><span class="pre">%tc</span></code>, rather than raising a <code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12259">GH12259</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">read_stata()</span></code> and <code class="docutils literal"><span class="pre">StataReader</span></code> raise with a more explicit error message when reading Stata files with repeated value labels when <code class="docutils literal"><span class="pre">convert_categoricals=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13923">GH13923</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.style</span></code> will now render sparsified MultiIndexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11655">GH11655</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.style</span></code> will now show column level names (e.g. <code class="docutils literal"><span class="pre">DataFrame.columns.names</span></code>) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13775">GH13775</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame</span></code> has gained support to re-order the columns based on the values
in a row using <code class="docutils literal"><span class="pre">df.sort_values(by='...',</span> <span class="pre">axis=1)</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10806">GH10806</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [75]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">]},</span>
<span class="gp">   ....:</span>                   <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;row1&#39;</span><span class="p">,</span> <span class="s1">&#39;row2&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [76]: </span><span class="n">df</span>
<span class="gr">Out[76]: </span>
<span class="go">      A  B  C</span>
<span class="go">row1  2  3  4</span>
<span class="go">row2  7  5  8</span>

<span class="gp">In [77]: </span><span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;row2&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gr">Out[77]: </span>
<span class="go">      B  A  C</span>
<span class="go">row1  3  2  4</span>
<span class="go">row2  5  7  8</span>
</pre></div>
</div>
</li>
<li><p class="first">Added documentation to <a class="reference internal" href="io.html#io-dtypes"><span class="std std-ref">I/O</span></a> regarding the perils of reading in columns with mixed dtypes and how to handle it (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13746">GH13746</a>)</p>
</li>
<li><p class="first"><a class="reference internal" href="generated/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html" title="pandas.DataFrame.to_html"><code class="xref py py-meth docutils literal"><span class="pre">to_html()</span></code></a> now has a <code class="docutils literal"><span class="pre">border</span></code> argument to control the value in the opening <code class="docutils literal"><span class="pre">&lt;table&gt;</span></code> tag. The default is the value of the <code class="docutils literal"><span class="pre">html.border</span></code> option, which defaults to 1. This also affects the notebook HTML repr, but since Jupyter&#8217;s CSS includes a border-width attribute, the visual effect is the same. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11563">GH11563</a>).</p>
</li>
<li><p class="first">Raise <code class="docutils literal"><span class="pre">ImportError</span></code> in the sql functions when <code class="docutils literal"><span class="pre">sqlalchemy</span></code> is not installed and a connection string is used (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11920">GH11920</a>).</p>
</li>
<li><p class="first">Compatibility with matplotlib 2.0. Older versions of pandas should also work with matplotlib 2.0 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13333">GH13333</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Timestamp</span></code>, <code class="docutils literal"><span class="pre">Period</span></code>, <code class="docutils literal"><span class="pre">DatetimeIndex</span></code>, <code class="docutils literal"><span class="pre">PeriodIndex</span></code> and <code class="docutils literal"><span class="pre">.dt</span></code> accessor have gained a <code class="docutils literal"><span class="pre">.is_leap_year</span></code> property to check whether the date belongs to a leap year. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13727">GH13727</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">astype()</span></code> will now accept a dict of column name to data types mapping as the <code class="docutils literal"><span class="pre">dtype</span></code> argument. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12086">GH12086</a>)</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">pd.read_json</span></code> and <code class="docutils literal"><span class="pre">DataFrame.to_json</span></code> has gained support for reading and writing json lines with <code class="docutils literal"><span class="pre">lines</span></code> option see <a class="reference internal" href="io.html#io-jsonl"><span class="std std-ref">Line delimited json</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9180">GH9180</a>)</p>
</li>
<li><p class="first"><a class="reference internal" href="generated/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal"><span class="pre">read_excel()</span></code></a> now supports the true_values and false_values keyword arguments (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13347">GH13347</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">groupby()</span></code> will now accept a scalar and a single-element list for specifying <code class="docutils literal"><span class="pre">level</span></code> on a non-<code class="docutils literal"><span class="pre">MultiIndex</span></code> grouper. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13907">GH13907</a>)</p>
</li>
<li><p class="first">Non-convertible dates in an excel date column will be returned without conversion and the column will be <code class="docutils literal"><span class="pre">object</span></code> dtype, rather than raising an exception (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10001">GH10001</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.Timedelta(None)</span></code> is now accepted and will return <code class="docutils literal"><span class="pre">NaT</span></code>, mirroring <code class="docutils literal"><span class="pre">pd.Timestamp</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13687">GH13687</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_stata()</span></code> can now handle some format 111 files, which are produced by SAS when generating Stata dta files (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11526">GH11526</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series</span></code> and <code class="docutils literal"><span class="pre">Index</span></code> now support <code class="docutils literal"><span class="pre">divmod</span></code> which will return a tuple of
series or indices. This behaves like a standard binary operator with regards
to broadcasting rules (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14208">GH14208</a>).</p>
</li>
</ul>
</div>
</div>
<div class="section" id="api-changes">
<span id="whatsnew-0190-api"></span><h3>API changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h3>
<div class="section" id="series-tolist-will-now-return-python-types">
<h4><code class="docutils literal"><span class="pre">Series.tolist()</span></code> will now return Python types<a class="headerlink" href="#series-tolist-will-now-return-python-types" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">Series.tolist()</span></code> will now return Python types in the output, mimicking NumPy <code class="docutils literal"><span class="pre">.tolist()</span></code> behavior (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10904">GH10904</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [78]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">tolist</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">Out[7]:</span>
<span class="go"> &lt;class &#39;numpy.int64&#39;&gt;</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [79]: </span><span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">tolist</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="gr">Out[79]: </span><span class="nb">int</span>
</pre></div>
</div>
</div>
<div class="section" id="series-operators-for-different-indexes">
<span id="whatsnew-0190-api-series-ops"></span><h4><code class="docutils literal"><span class="pre">Series</span></code> operators for different indexes<a class="headerlink" href="#series-operators-for-different-indexes" title="Permalink to this headline">¶</a></h4>
<p>Following <code class="docutils literal"><span class="pre">Series</span></code> operators have been changed to make all operators consistent,
including <code class="docutils literal"><span class="pre">DataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1134">GH1134</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4581">GH4581</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13538">GH13538</a>)</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Series</span></code> comparison operators now raise <code class="docutils literal"><span class="pre">ValueError</span></code> when <code class="docutils literal"><span class="pre">index</span></code> are different.</li>
<li><code class="docutils literal"><span class="pre">Series</span></code> logical operators align both <code class="docutils literal"><span class="pre">index</span></code> of left and right hand side.</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Until 0.18.1, comparing <code class="docutils literal"><span class="pre">Series</span></code> with the same length, would succeed even if
the <code class="docutils literal"><span class="pre">.index</span></code> are different (the result ignores <code class="docutils literal"><span class="pre">.index</span></code>). As of 0.19.0, this will raises <code class="docutils literal"><span class="pre">ValueError</span></code> to be more strict. This section also describes how to keep previous behavior or align different indexes, using the flexible comparison methods like <code class="docutils literal"><span class="pre">.eq</span></code>.</p>
</div>
<p>As a result, <code class="docutils literal"><span class="pre">Series</span></code> and <code class="docutils literal"><span class="pre">DataFrame</span></code> operators behave as below:</p>
<div class="section" id="arithmetic-operators">
<h5>Arithmetic operators<a class="headerlink" href="#arithmetic-operators" title="Permalink to this headline">¶</a></h5>
<p>Arithmetic operators align both <code class="docutils literal"><span class="pre">index</span></code> (no changes).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [80]: </span><span class="n">s1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABC&#39;</span><span class="p">))</span>

<span class="gp">In [81]: </span><span class="n">s2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABD&#39;</span><span class="p">))</span>

<span class="gp">In [82]: </span><span class="n">s1</span> <span class="o">+</span> <span class="n">s2</span>
<span class="gr">Out[82]: </span>
<span class="go">A    3.0</span>
<span class="go">B    4.0</span>
<span class="go">C    NaN</span>
<span class="go">D    NaN</span>
<span class="go">dtype: float64</span>

<span class="gp">In [83]: </span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABC&#39;</span><span class="p">))</span>

<span class="gp">In [84]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABD&#39;</span><span class="p">))</span>

<span class="gp">In [85]: </span><span class="n">df1</span> <span class="o">+</span> <span class="n">df2</span>
<span class="gr">Out[85]: </span>
<span class="go">     0</span>
<span class="go">A  3.0</span>
<span class="go">B  4.0</span>
<span class="go">C  NaN</span>
<span class="go">D  NaN</span>
</pre></div>
</div>
</div>
<div class="section" id="comparison-operators">
<h5>Comparison operators<a class="headerlink" href="#comparison-operators" title="Permalink to this headline">¶</a></h5>
<p>Comparison operators raise <code class="docutils literal"><span class="pre">ValueError</span></code> when <code class="docutils literal"><span class="pre">.index</span></code> are different.</p>
<p><strong>Previous Behavior</strong> (<code class="docutils literal"><span class="pre">Series</span></code>):</p>
<p><code class="docutils literal"><span class="pre">Series</span></code> compared values ignoring the <code class="docutils literal"><span class="pre">.index</span></code> as long as both had the same length:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">s1</span> <span class="o">==</span> <span class="n">s2</span>
<span class="go">Out[1]:</span>
<span class="go">A    False</span>
<span class="go">B     True</span>
<span class="go">C    False</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
<p><strong>New behavior</strong> (<code class="docutils literal"><span class="pre">Series</span></code>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">s1</span> <span class="o">==</span> <span class="n">s2</span>
<span class="go">Out[2]:</span>
<span class="go">ValueError: Can only compare identically-labeled Series objects</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>To achieve the same result as previous versions (compare values based on locations ignoring <code class="docutils literal"><span class="pre">.index</span></code>), compare both <code class="docutils literal"><span class="pre">.values</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [86]: </span><span class="n">s1</span><span class="o">.</span><span class="n">values</span> <span class="o">==</span> <span class="n">s2</span><span class="o">.</span><span class="n">values</span>
<span class="gr">Out[86]: </span><span class="n">array</span><span class="p">([</span><span class="bp">False</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
</pre></div>
</div>
<p>If you want to compare <code class="docutils literal"><span class="pre">Series</span></code> aligning its <code class="docutils literal"><span class="pre">.index</span></code>, see flexible comparison methods section below:</p>
<div class="last highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [87]: </span><span class="n">s1</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="gr">Out[87]: </span>
<span class="go">A    False</span>
<span class="go">B     True</span>
<span class="go">C    False</span>
<span class="go">D    False</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
</div>
<p><strong>Current Behavior</strong> (<code class="docutils literal"><span class="pre">DataFrame</span></code>, no change):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">df1</span> <span class="o">==</span> <span class="n">df2</span>
<span class="go">Out[3]:</span>
<span class="go">ValueError: Can only compare identically-labeled DataFrame objects</span>
</pre></div>
</div>
</div>
<div class="section" id="logical-operators">
<h5>Logical operators<a class="headerlink" href="#logical-operators" title="Permalink to this headline">¶</a></h5>
<p>Logical operators align both <code class="docutils literal"><span class="pre">.index</span></code> of left and right hand side.</p>
<p><strong>Previous behavior</strong> (<code class="docutils literal"><span class="pre">Series</span></code>), only left hand side <code class="docutils literal"><span class="pre">index</span></code> was kept:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">s1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABC&#39;</span><span class="p">))</span>
<span class="gp">In [5]: </span><span class="n">s2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABD&#39;</span><span class="p">))</span>
<span class="gp">In [6]: </span><span class="n">s1</span> <span class="o">&amp;</span> <span class="n">s2</span>
<span class="go">Out[6]:</span>
<span class="go">A     True</span>
<span class="go">B    False</span>
<span class="go">C    False</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
<p><strong>New behavior</strong> (<code class="docutils literal"><span class="pre">Series</span></code>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [88]: </span><span class="n">s1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABC&#39;</span><span class="p">))</span>

<span class="gp">In [89]: </span><span class="n">s2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABD&#39;</span><span class="p">))</span>

<span class="gp">In [90]: </span><span class="n">s1</span> <span class="o">&amp;</span> <span class="n">s2</span>
<span class="gr">Out[90]: </span>
<span class="go">A     True</span>
<span class="go">B    False</span>
<span class="go">C    False</span>
<span class="go">D    False</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal"><span class="pre">Series</span></code> logical operators fill a <code class="docutils literal"><span class="pre">NaN</span></code> result with <code class="docutils literal"><span class="pre">False</span></code>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>To achieve the same result as previous versions (compare values based on only left hand side index), you can use <code class="docutils literal"><span class="pre">reindex_like</span></code>:</p>
<div class="last highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [91]: </span><span class="n">s1</span> <span class="o">&amp;</span> <span class="n">s2</span><span class="o">.</span><span class="n">reindex_like</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="gr">Out[91]: </span>
<span class="go">A     True</span>
<span class="go">B    False</span>
<span class="go">C    False</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
</div>
<p><strong>Current Behavior</strong> (<code class="docutils literal"><span class="pre">DataFrame</span></code>, no change):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [92]: </span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABC&#39;</span><span class="p">))</span>

<span class="gp">In [93]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABD&#39;</span><span class="p">))</span>

<span class="gp">In [94]: </span><span class="n">df1</span> <span class="o">&amp;</span> <span class="n">df2</span>
<span class="gr">Out[94]: </span>
<span class="go">       0</span>
<span class="go">A   True</span>
<span class="go">B  False</span>
<span class="go">C    NaN</span>
<span class="go">D    NaN</span>
</pre></div>
</div>
</div>
<div class="section" id="flexible-comparison-methods">
<h5>Flexible comparison methods<a class="headerlink" href="#flexible-comparison-methods" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal"><span class="pre">Series</span></code> flexible comparison methods like <code class="docutils literal"><span class="pre">eq</span></code>, <code class="docutils literal"><span class="pre">ne</span></code>, <code class="docutils literal"><span class="pre">le</span></code>, <code class="docutils literal"><span class="pre">lt</span></code>, <code class="docutils literal"><span class="pre">ge</span></code> and <code class="docutils literal"><span class="pre">gt</span></code> now align both <code class="docutils literal"><span class="pre">index</span></code>. Use these operators if you want to compare two <code class="docutils literal"><span class="pre">Series</span></code>
which has the different <code class="docutils literal"><span class="pre">index</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [95]: </span><span class="n">s1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>

<span class="gp">In [96]: </span><span class="n">s2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">])</span>

<span class="gp">In [97]: </span><span class="n">s1</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="gr">Out[97]: </span>
<span class="go">a    False</span>
<span class="go">b     True</span>
<span class="go">c    False</span>
<span class="go">d    False</span>
<span class="go">dtype: bool</span>

<span class="gp">In [98]: </span><span class="n">s1</span><span class="o">.</span><span class="n">ge</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="gr">Out[98]: </span>
<span class="go">a    False</span>
<span class="go">b     True</span>
<span class="go">c     True</span>
<span class="go">d    False</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
<p>Previously, this worked the same as comparison operators (see above).</p>
</div>
</div>
<div class="section" id="series-type-promotion-on-assignment">
<span id="whatsnew-0190-api-promote"></span><h4><code class="docutils literal"><span class="pre">Series</span></code> type promotion on assignment<a class="headerlink" href="#series-type-promotion-on-assignment" title="Permalink to this headline">¶</a></h4>
<p>A <code class="docutils literal"><span class="pre">Series</span></code> will now correctly promote its dtype for assignment with incompat values to the current dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13234">GH13234</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [99]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">s</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">s</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="go">TypeError: invalid type promotion</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [100]: </span><span class="n">s</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span>

<span class="gp">In [101]: </span><span class="n">s</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.0</span>

<span class="gp">In [102]: </span><span class="n">s</span>
<span class="gr">Out[102]: </span>
<span class="go">a    2016-01-01 00:00:00</span>
<span class="go">b                      3</span>
<span class="go">dtype: object</span>

<span class="gp">In [103]: </span><span class="n">s</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[103]: </span><span class="n">dtype</span><span class="p">(</span><span class="s1">&#39;O&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="to-datetime-changes">
<span id="whatsnew-0190-api-to-datetime-coerce"></span><h4><code class="docutils literal"><span class="pre">.to_datetime()</span></code> changes<a class="headerlink" href="#to-datetime-changes" title="Permalink to this headline">¶</a></h4>
<p>Previously if <code class="docutils literal"><span class="pre">.to_datetime()</span></code> encountered mixed integers/floats and strings, but no datetimes with <code class="docutils literal"><span class="pre">errors='coerce'</span></code> it would convert all to <code class="docutils literal"><span class="pre">NaT</span></code>.</p>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="gr">Out[2]: </span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;NaT&#39;</span><span class="p">,</span> <span class="s1">&#39;NaT&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Current behavior</strong>:</p>
<p>This will now convert integers/floats with the default unit of <code class="docutils literal"><span class="pre">ns</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [104]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="gr">Out[104]: </span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;1970-01-01 00:00:00.000000001&#39;</span><span class="p">,</span> <span class="s1">&#39;NaT&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Bug fixes related to <code class="docutils literal"><span class="pre">.to_datetime()</span></code>:</p>
<ul class="simple">
<li>Bug in <code class="docutils literal"><span class="pre">pd.to_datetime()</span></code> when passing integers or floats, and no <code class="docutils literal"><span class="pre">unit</span></code> and <code class="docutils literal"><span class="pre">errors='coerce'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13180">GH13180</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.to_datetime()</span></code> when passing invalid datatypes (e.g. bool); will now respect the <code class="docutils literal"><span class="pre">errors</span></code> keyword (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13176">GH13176</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.to_datetime()</span></code> which overflowed on <code class="docutils literal"><span class="pre">int8</span></code>, and <code class="docutils literal"><span class="pre">int16</span></code> dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13451">GH13451</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.to_datetime()</span></code> raise <code class="docutils literal"><span class="pre">AttributeError</span></code> with <code class="docutils literal"><span class="pre">NaN</span></code> and the other string is not valid when <code class="docutils literal"><span class="pre">errors='ignore'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12424">GH12424</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.to_datetime()</span></code> did not cast floats correctly when <code class="docutils literal"><span class="pre">unit</span></code> was specified, resulting in truncated datetime (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13834">GH13834</a>)</li>
</ul>
</div>
<div class="section" id="merging-changes">
<span id="whatsnew-0190-api-merging"></span><h4>Merging changes<a class="headerlink" href="#merging-changes" title="Permalink to this headline">¶</a></h4>
<p>Merging will now preserve the dtype of the join keys (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8596">GH8596</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [105]: </span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;v1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">]})</span>

<span class="gp">In [106]: </span><span class="n">df1</span>
<span class="gr">Out[106]: </span>
<span class="go">   key  v1</span>
<span class="go">0    1  10</span>

<span class="gp">In [107]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;v1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">]})</span>

<span class="gp">In [108]: </span><span class="n">df2</span>
<span class="gr">Out[108]: </span>
<span class="go">   key  v1</span>
<span class="go">0    1  20</span>
<span class="go">1    2  30</span>
</pre></div>
</div>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span>
<span class="go">Out[5]:</span>
<span class="go">   key    v1</span>
<span class="go">0  1.0  10.0</span>
<span class="go">1  1.0  20.0</span>
<span class="go">2  2.0  30.0</span>

<span class="gp">In [6]: </span><span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dtypes</span>
<span class="go">Out[6]:</span>
<span class="go">key    float64</span>
<span class="go">v1     float64</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<p>We are able to preserve the join keys</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [109]: </span><span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span>
<span class="gr">Out[109]: </span>
<span class="go">   key  v1</span>
<span class="go">0    1  10</span>
<span class="go">1    1  20</span>
<span class="go">2    2  30</span>

<span class="gp">In [110]: </span><span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[110]: </span>
<span class="go">key    int64</span>
<span class="go">v1     int64</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>Of course if you have missing values that are introduced, then the
resulting dtype will be upcast, which is unchanged from previous.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [111]: </span><span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;key&#39;</span><span class="p">)</span>
<span class="gr">Out[111]: </span>
<span class="go">   key  v1_x  v1_y</span>
<span class="go">0    1  10.0    20</span>
<span class="go">1    2   NaN    30</span>

<span class="gp">In [112]: </span><span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;key&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[112]: </span>
<span class="go">key       int64</span>
<span class="go">v1_x    float64</span>
<span class="go">v1_y      int64</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</div>
<div class="section" id="describe-changes">
<span id="whatsnew-0190-api-describe"></span><h4><code class="docutils literal"><span class="pre">.describe()</span></code> changes<a class="headerlink" href="#describe-changes" title="Permalink to this headline">¶</a></h4>
<p>Percentile identifiers in the index of a <code class="docutils literal"><span class="pre">.describe()</span></code> output will now be rounded to the least precision that keeps them distinct (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13104">GH13104</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [113]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>

<span class="gp">In [114]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>Previous behavior</strong>:</p>
<p>The percentiles were rounded to at most one decimal place, which could raise <code class="docutils literal"><span class="pre">ValueError</span></code> for a data frame if the percentiles were duplicated.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">s</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">percentiles</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0001</span><span class="p">,</span> <span class="mf">0.0005</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.999</span><span class="p">,</span> <span class="mf">0.9995</span><span class="p">,</span> <span class="mf">0.9999</span><span class="p">])</span>
<span class="go">Out[3]:</span>
<span class="go">count     5.000000</span>
<span class="go">mean      2.000000</span>
<span class="go">std       1.581139</span>
<span class="go">min       0.000000</span>
<span class="go">0.0%      0.000400</span>
<span class="go">0.1%      0.002000</span>
<span class="go">0.1%      0.004000</span>
<span class="go">50%       2.000000</span>
<span class="go">99.9%     3.996000</span>
<span class="go">100.0%    3.998000</span>
<span class="go">100.0%    3.999600</span>
<span class="go">max       4.000000</span>
<span class="go">dtype: float64</span>

<span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">percentiles</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0001</span><span class="p">,</span> <span class="mf">0.0005</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.999</span><span class="p">,</span> <span class="mf">0.9995</span><span class="p">,</span> <span class="mf">0.9999</span><span class="p">])</span>
<span class="go">Out[4]:</span>
<span class="go">...</span>
<span class="go">ValueError: cannot reindex from a duplicate axis</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [115]: </span><span class="n">s</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">percentiles</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0001</span><span class="p">,</span> <span class="mf">0.0005</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.999</span><span class="p">,</span> <span class="mf">0.9995</span><span class="p">,</span> <span class="mf">0.9999</span><span class="p">])</span>
<span class="gr">Out[115]: </span>
<span class="go">count     5.000000</span>
<span class="go">mean      2.000000</span>
<span class="go">std       1.581139</span>
<span class="go">min       0.000000</span>
<span class="go">0.01%     0.000400</span>
<span class="go">0.05%     0.002000</span>
<span class="go">0.1%      0.004000</span>
<span class="go">50%       2.000000</span>
<span class="go">99.9%     3.996000</span>
<span class="go">99.95%    3.998000</span>
<span class="go">99.99%    3.999600</span>
<span class="go">max       4.000000</span>
<span class="go">dtype: float64</span>

<span class="gp">In [116]: </span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">percentiles</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0001</span><span class="p">,</span> <span class="mf">0.0005</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.999</span><span class="p">,</span> <span class="mf">0.9995</span><span class="p">,</span> <span class="mf">0.9999</span><span class="p">])</span>
<span class="gr">Out[116]: </span>
<span class="go">               0</span>
<span class="go">count   5.000000</span>
<span class="go">mean    2.000000</span>
<span class="go">std     1.581139</span>
<span class="go">min     0.000000</span>
<span class="go">0.01%   0.000400</span>
<span class="go">0.05%   0.002000</span>
<span class="go">0.1%    0.004000</span>
<span class="go">50%     2.000000</span>
<span class="go">99.9%   3.996000</span>
<span class="go">99.95%  3.998000</span>
<span class="go">99.99%  3.999600</span>
<span class="go">max     4.000000</span>
</pre></div>
</div>
<p>Furthermore:</p>
<ul class="simple">
<li>Passing duplicated <code class="docutils literal"><span class="pre">percentiles</span></code> will now raise a <code class="docutils literal"><span class="pre">ValueError</span></code>.</li>
<li>Bug in <code class="docutils literal"><span class="pre">.describe()</span></code> on a DataFrame with a mixed-dtype column index, which would previously raise a <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13288">GH13288</a>)</li>
</ul>
</div>
<div class="section" id="period-changes">
<span id="whatsnew-0190-api-period"></span><h4><code class="docutils literal"><span class="pre">Period</span></code> changes<a class="headerlink" href="#period-changes" title="Permalink to this headline">¶</a></h4>
<div class="section" id="periodindex-now-has-period-dtype">
<h5><code class="docutils literal"><span class="pre">PeriodIndex</span></code> now has <code class="docutils literal"><span class="pre">period</span></code> dtype<a class="headerlink" href="#periodindex-now-has-period-dtype" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal"><span class="pre">PeriodIndex</span></code> now has its own <code class="docutils literal"><span class="pre">period</span></code> dtype. The <code class="docutils literal"><span class="pre">period</span></code> dtype is a
pandas extension dtype like <code class="docutils literal"><span class="pre">category</span></code> or the <a class="reference internal" href="timeseries.html#timeseries-timezone-series"><span class="std std-ref">timezone aware dtype</span></a> (<code class="docutils literal"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code>) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13941">GH13941</a>).
As a consequence of this change, <code class="docutils literal"><span class="pre">PeriodIndex</span></code> no longer has an integer dtype:</p>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">pi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">PeriodIndex</span><span class="p">([</span><span class="s1">&#39;2016-08-01&#39;</span><span class="p">],</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>

<span class="gp">In [2]: </span><span class="n">pi</span>
<span class="gr">Out[2]: </span><span class="n">PeriodIndex</span><span class="p">([</span><span class="s1">&#39;2016-08-01&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int64&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">pd</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">is_integer_dtype</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
<span class="gr">Out[3]: </span><span class="bp">True</span>

<span class="gp">In [4]: </span><span class="n">pi</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[4]: </span><span class="n">dtype</span><span class="p">(</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [117]: </span><span class="n">pi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">PeriodIndex</span><span class="p">([</span><span class="s1">&#39;2016-08-01&#39;</span><span class="p">],</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>

<span class="gp">In [118]: </span><span class="n">pi</span>
<span class="gr">Out[118]: </span><span class="n">PeriodIndex</span><span class="p">([</span><span class="s1">&#39;2016-08-01&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;period[D]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>

<span class="gp">In [119]: </span><span class="n">pd</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">is_integer_dtype</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
<span class="gr">Out[119]: </span><span class="bp">False</span>

<span class="gp">In [120]: </span><span class="n">pd</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">is_period_dtype</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
<span class="gr">Out[120]: </span><span class="bp">True</span>

<span class="gp">In [121]: </span><span class="n">pi</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[121]: </span><span class="n">period</span><span class="p">[</span><span class="n">D</span><span class="p">]</span>

<span class="gp">In [122]: </span><span class="nb">type</span><span class="p">(</span><span class="n">pi</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="gr">Out[122]: </span><span class="n">pandas</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">dtypes</span><span class="o">.</span><span class="n">PeriodDtype</span>
</pre></div>
</div>
</div>
<div class="section" id="period-nat-now-returns-pd-nat">
<span id="whatsnew-0190-api-periodnat"></span><h5><code class="docutils literal"><span class="pre">Period('NaT')</span></code> now returns <code class="docutils literal"><span class="pre">pd.NaT</span></code><a class="headerlink" href="#period-nat-now-returns-pd-nat" title="Permalink to this headline">¶</a></h5>
<p>Previously, <code class="docutils literal"><span class="pre">Period</span></code> has its own <code class="docutils literal"><span class="pre">Period('NaT')</span></code> representation different from <code class="docutils literal"><span class="pre">pd.NaT</span></code>. Now <code class="docutils literal"><span class="pre">Period('NaT')</span></code> has been changed to return <code class="docutils literal"><span class="pre">pd.NaT</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12759">GH12759</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13582">GH13582</a>)</p>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Period</span><span class="p">(</span><span class="s1">&#39;NaT&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>
<span class="gr">Out[5]: </span><span class="n">Period</span><span class="p">(</span><span class="s1">&#39;NaT&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<p>These result in <code class="docutils literal"><span class="pre">pd.NaT</span></code> without providing <code class="docutils literal"><span class="pre">freq</span></code> option.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [123]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Period</span><span class="p">(</span><span class="s1">&#39;NaT&#39;</span><span class="p">)</span>
<span class="gr">Out[123]: </span><span class="n">NaT</span>

<span class="gp">In [124]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Period</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gr">Out[124]: </span><span class="n">NaT</span>
</pre></div>
</div>
<p>To be compatible with <code class="docutils literal"><span class="pre">Period</span></code> addition and subtraction, <code class="docutils literal"><span class="pre">pd.NaT</span></code> now supports addition and subtraction with <code class="docutils literal"><span class="pre">int</span></code>. Previously it raised <code class="docutils literal"><span class="pre">ValueError</span></code>.</p>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">pd</span><span class="o">.</span><span class="n">NaT</span> <span class="o">+</span> <span class="mi">1</span>
<span class="go">...</span>
<span class="go">ValueError: Cannot add integral value to Timestamp without freq.</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [125]: </span><span class="n">pd</span><span class="o">.</span><span class="n">NaT</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gr">Out[125]: </span><span class="n">NaT</span>

<span class="gp">In [126]: </span><span class="n">pd</span><span class="o">.</span><span class="n">NaT</span> <span class="o">-</span> <span class="mi">1</span>
<span class="gr">Out[126]: </span><span class="n">NaT</span>
</pre></div>
</div>
</div>
<div class="section" id="periodindex-values-now-returns-array-of-period-object">
<h5><code class="docutils literal"><span class="pre">PeriodIndex.values</span></code> now returns array of <code class="docutils literal"><span class="pre">Period</span></code> object<a class="headerlink" href="#periodindex-values-now-returns-array-of-period-object" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal"><span class="pre">.values</span></code> is changed to return an array of <code class="docutils literal"><span class="pre">Period</span></code> objects, rather than an array
of integers (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13988">GH13988</a>).</p>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">pi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">PeriodIndex</span><span class="p">([</span><span class="s1">&#39;2011-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2011-02&#39;</span><span class="p">],</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">)</span>
<span class="gp">In [7]: </span><span class="n">pi</span><span class="o">.</span><span class="n">values</span>
<span class="go">array([492, 493])</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [127]: </span><span class="n">pi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">PeriodIndex</span><span class="p">([</span><span class="s1">&#39;2011-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2011-02&#39;</span><span class="p">],</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">)</span>

<span class="gp">In [128]: </span><span class="n">pi</span><span class="o">.</span><span class="n">values</span>
<span class="gr">Out[128]: </span><span class="n">array</span><span class="p">([</span><span class="n">Period</span><span class="p">(</span><span class="s1">&#39;2011-01&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">),</span> <span class="n">Period</span><span class="p">(</span><span class="s1">&#39;2011-02&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="index-no-longer-used-for-set-operations">
<span id="whatsnew-0190-api-setops"></span><h4>Index <code class="docutils literal"><span class="pre">+</span></code> / <code class="docutils literal"><span class="pre">-</span></code> no longer used for set operations<a class="headerlink" href="#index-no-longer-used-for-set-operations" title="Permalink to this headline">¶</a></h4>
<p>Addition and subtraction of the base Index type and of DatetimeIndex
(not the numeric index types)
previously performed set operations (set union and difference). This
behavior was already deprecated since 0.15.0 (in favor using the specific
<code class="docutils literal"><span class="pre">.union()</span></code> and <code class="docutils literal"><span class="pre">.difference()</span></code> methods), and is now disabled. When
possible, <code class="docutils literal"><span class="pre">+</span></code> and <code class="docutils literal"><span class="pre">-</span></code> are now used for element-wise operations, for
example for concatenating strings or subtracting datetimes
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8227">GH8227</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14127">GH14127</a>).</p>
<p>Previous behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="go">FutureWarning: using &#39;+&#39; to provide set union with Indexes is deprecated, use &#39;|&#39; or .union()</span>
<span class="gr">Out[1]: </span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>New behavior</strong>: the same operation will now perform element-wise addition:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [129]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gr">Out[129]: </span><span class="n">Index</span><span class="p">([</span><span class="s1">u&#39;aa&#39;</span><span class="p">,</span> <span class="s1">u&#39;bc&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that numeric Index objects already performed element-wise operations.
For example, the behavior of adding two integer Indexes is unchanged.
The base <code class="docutils literal"><span class="pre">Index</span></code> is now made consistent with this behavior.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [130]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gr">Out[130]: </span><span class="n">Int64Index</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Further, because of this change, it is now possible to subtract two
DatetimeIndex objects resulting in a TimedeltaIndex:</p>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2016-01-02&#39;</span><span class="p">])</span> <span class="o">-</span> <span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="s1">&#39;2016-01-03&#39;</span><span class="p">])</span>
<span class="go">FutureWarning: using &#39;-&#39; to provide set differences with datetimelike Indexes is deprecated, use .difference()</span>
<span class="gr">Out[1]: </span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [131]: </span><span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2016-01-02&#39;</span><span class="p">])</span> <span class="o">-</span> <span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="s1">&#39;2016-01-03&#39;</span><span class="p">])</span>
<span class="gr">Out[131]: </span><span class="n">TimedeltaIndex</span><span class="p">([</span><span class="s1">&#39;-1 days&#39;</span><span class="p">,</span> <span class="s1">&#39;-1 days&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;timedelta64[ns]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="index-difference-and-symmetric-difference-changes">
<span id="whatsnew-0190-api-difference"></span><h4><code class="docutils literal"><span class="pre">Index.difference</span></code> and <code class="docutils literal"><span class="pre">.symmetric_difference</span></code> changes<a class="headerlink" href="#index-difference-and-symmetric-difference-changes" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">Index.difference</span></code> and <code class="docutils literal"><span class="pre">Index.symmetric_difference</span></code> will now, more consistently, treat <code class="docutils literal"><span class="pre">NaN</span></code> values as any other values. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13514">GH13514</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [132]: </span><span class="n">idx1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span>

<span class="gp">In [133]: </span><span class="n">idx2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">idx1</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">idx2</span><span class="p">)</span>
<span class="gr">Out[3]: </span><span class="n">Float64Index</span><span class="p">([</span><span class="n">nan</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">idx1</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">idx2</span><span class="p">)</span>
<span class="gr">Out[4]: </span><span class="n">Float64Index</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [134]: </span><span class="n">idx1</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">idx2</span><span class="p">)</span>
<span class="gr">Out[134]: </span><span class="n">Float64Index</span><span class="p">([</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>

<span class="gp">In [135]: </span><span class="n">idx1</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">idx2</span><span class="p">)</span>
<span class="gr">Out[135]: </span><span class="n">Float64Index</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="index-unique-consistently-returns-index">
<span id="whatsnew-0190-api-unique-index"></span><h4><code class="docutils literal"><span class="pre">Index.unique</span></code> consistently returns <code class="docutils literal"><span class="pre">Index</span></code><a class="headerlink" href="#index-unique-consistently-returns-index" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">Index.unique()</span></code> now returns unique values as an
<code class="docutils literal"><span class="pre">Index</span></code> of the appropriate <code class="docutils literal"><span class="pre">dtype</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13395">GH13395</a>).
Previously, most <code class="docutils literal"><span class="pre">Index</span></code> classes returned <code class="docutils literal"><span class="pre">np.ndarray</span></code>, and <code class="docutils literal"><span class="pre">DatetimeIndex</span></code>,
<code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex</span></code> returned <code class="docutils literal"><span class="pre">Index</span></code> to keep metadata like timezone.</p>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="gr">Out[1]: </span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

<span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;2011-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2011-01-02&#39;</span><span class="p">,</span> <span class="s1">&#39;2011-01-03&#39;</span><span class="p">],</span> <span class="n">tz</span><span class="o">=</span><span class="s1">&#39;Asia/Tokyo&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="go">Out[2]:</span>
<span class="go">DatetimeIndex([&#39;2011-01-01 00:00:00+09:00&#39;, &#39;2011-01-02 00:00:00+09:00&#39;,</span>
<span class="go">               &#39;2011-01-03 00:00:00+09:00&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns, Asia/Tokyo]&#39;, freq=None)</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [136]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="gr">Out[136]: </span><span class="n">Int64Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>

<span class="gp">In [137]: </span><span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;2011-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2011-01-02&#39;</span><span class="p">,</span> <span class="s1">&#39;2011-01-03&#39;</span><span class="p">],</span> <span class="n">tz</span><span class="o">=</span><span class="s1">&#39;Asia/Tokyo&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="gr">Out[137]: </span>
<span class="go">DatetimeIndex([&#39;2011-01-01 00:00:00+09:00&#39;, &#39;2011-01-02 00:00:00+09:00&#39;,</span>
<span class="go">               &#39;2011-01-03 00:00:00+09:00&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns, Asia/Tokyo]&#39;, freq=None)</span>
</pre></div>
</div>
</div>
<div class="section" id="multiindex-constructors-groupby-and-set-index-preserve-categorical-dtypes">
<span id="whatsnew-0190-api-multiindex"></span><h4><code class="docutils literal"><span class="pre">MultiIndex</span></code> constructors, <code class="docutils literal"><span class="pre">groupby</span></code> and <code class="docutils literal"><span class="pre">set_index</span></code> preserve categorical dtypes<a class="headerlink" href="#multiindex-constructors-groupby-and-set-index-preserve-categorical-dtypes" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">MultiIndex.from_arrays</span></code> and <code class="docutils literal"><span class="pre">MultiIndex.from_product</span></code> will now preserve categorical dtype
in <code class="docutils literal"><span class="pre">MultiIndex</span></code> levels (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13743">GH13743</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13854">GH13854</a>).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [138]: </span><span class="n">cat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s2">&quot;bac&quot;</span><span class="p">))</span>

<span class="gp">In [139]: </span><span class="n">lvl1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">]</span>

<span class="gp">In [140]: </span><span class="n">midx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_arrays</span><span class="p">([</span><span class="n">cat</span><span class="p">,</span> <span class="n">lvl1</span><span class="p">])</span>

<span class="gp">In [141]: </span><span class="n">midx</span>
<span class="gr">Out[141]: </span>
<span class="go">MultiIndex(levels=[[u&#39;b&#39;, u&#39;a&#39;, u&#39;c&#39;], [u&#39;bar&#39;, u&#39;foo&#39;]],</span>
<span class="go">           labels=[[1, 0], [1, 0]])</span>
</pre></div>
</div>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">midx</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gr">Out[4]: </span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>

<span class="gp">In [5]: </span><span class="n">midx</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gr">Out[5]: </span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>New behavior</strong>: the single level is now a <code class="docutils literal"><span class="pre">CategoricalIndex</span></code>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [142]: </span><span class="n">midx</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gr">Out[142]: </span><span class="n">CategoricalIndex</span><span class="p">([</span><span class="s1">u&#39;b&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;c&#39;</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">u&#39;b&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;c&#39;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="gp">In [143]: </span><span class="n">midx</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[143]: </span><span class="n">CategoricalIndex</span><span class="p">([</span><span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;b&#39;</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">u&#39;b&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;c&#39;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>An analogous change has been made to <code class="docutils literal"><span class="pre">MultiIndex.from_product</span></code>.
As a consequence, <code class="docutils literal"><span class="pre">groupby</span></code> and <code class="docutils literal"><span class="pre">set_index</span></code> also preserve categorical dtypes in indexes</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [144]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="n">cat</span><span class="p">})</span>

<span class="gp">In [145]: </span><span class="n">df_grouped</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

<span class="gp">In [146]: </span><span class="n">df_set_idx</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">df_grouped</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gr">Out[11]: </span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">)</span>
<span class="gp">In [12]: </span><span class="n">df_grouped</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">dtypes</span>
<span class="go">Out[12]:</span>
<span class="go">A      int64</span>
<span class="go">C     object</span>
<span class="go">B    float64</span>
<span class="go">dtype: object</span>

<span class="gp">In [13]: </span><span class="n">df_set_idx</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gr">Out[13]: </span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">)</span>
<span class="gp">In [14]: </span><span class="n">df_set_idx</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">dtypes</span>
<span class="go">Out[14]:</span>
<span class="go">A      int64</span>
<span class="go">C     object</span>
<span class="go">B      int64</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [147]: </span><span class="n">df_grouped</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gr">Out[147]: </span><span class="n">CategoricalIndex</span><span class="p">([</span><span class="s1">u&#39;b&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;c&#39;</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">u&#39;b&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;c&#39;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">u&#39;C&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="gp">In [148]: </span><span class="n">df_grouped</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[148]: </span>
<span class="go">A       int64</span>
<span class="go">C    category</span>
<span class="go">B     float64</span>
<span class="go">dtype: object</span>

<span class="gp">In [149]: </span><span class="n">df_set_idx</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gr">Out[149]: </span><span class="n">CategoricalIndex</span><span class="p">([</span><span class="s1">u&#39;b&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;c&#39;</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">u&#39;b&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;c&#39;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">u&#39;C&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="gp">In [150]: </span><span class="n">df_set_idx</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[150]: </span>
<span class="go">A       int64</span>
<span class="go">C    category</span>
<span class="go">B       int64</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</div>
<div class="section" id="read-csv-will-progressively-enumerate-chunks">
<span id="whatsnew-0190-api-autogenerated-chunksize-index"></span><h4><code class="docutils literal"><span class="pre">read_csv</span></code> will progressively enumerate chunks<a class="headerlink" href="#read-csv-will-progressively-enumerate-chunks" title="Permalink to this headline">¶</a></h4>
<p>When <a class="reference internal" href="generated/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal"><span class="pre">read_csv()</span></code></a> is called with <code class="docutils literal"><span class="pre">chunksize=n</span></code> and without specifying an index,
each chunk used to have an independently generated index from <code class="docutils literal"><span class="pre">0</span></code> to <code class="docutils literal"><span class="pre">n-1</span></code>.
They are now given instead a progressive index, starting from <code class="docutils literal"><span class="pre">0</span></code> for the first chunk,
from <code class="docutils literal"><span class="pre">n</span></code> for the second, and so on, so that, when concatenated, they are identical to
the result of calling <a class="reference internal" href="generated/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal"><span class="pre">read_csv()</span></code></a> without the <code class="docutils literal"><span class="pre">chunksize=</span></code> argument
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12185">GH12185</a>).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [151]: </span><span class="n">data</span> <span class="o">=</span> <span class="s1">&#39;A,B</span><span class="se">\n</span><span class="s1">0,1</span><span class="se">\n</span><span class="s1">2,3</span><span class="se">\n</span><span class="s1">4,5</span><span class="se">\n</span><span class="s1">6,7&#39;</span>
</pre></div>
</div>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">chunksize</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="go">Out[2]:</span>
<span class="go">   A  B</span>
<span class="go">0  0  1</span>
<span class="go">1  2  3</span>
<span class="go">0  4  5</span>
<span class="go">1  6  7</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [152]: </span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">chunksize</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="gr">Out[152]: </span>
<span class="go">   A  B</span>
<span class="go">0  0  1</span>
<span class="go">1  2  3</span>
<span class="go">2  4  5</span>
<span class="go">3  6  7</span>
</pre></div>
</div>
</div>
<div class="section" id="sparse-changes">
<span id="whatsnew-0190-sparse"></span><h4>Sparse Changes<a class="headerlink" href="#sparse-changes" title="Permalink to this headline">¶</a></h4>
<p>These changes allow pandas to handle sparse data with more dtypes, and for work to make a smoother experience with data handling.</p>
<div class="section" id="int64-and-bool-support-enhancements">
<h5><code class="docutils literal"><span class="pre">int64</span></code> and <code class="docutils literal"><span class="pre">bool</span></code> support enhancements<a class="headerlink" href="#int64-and-bool-support-enhancements" title="Permalink to this headline">¶</a></h5>
<p>Sparse data structures now gained enhanced support of <code class="docutils literal"><span class="pre">int64</span></code> and <code class="docutils literal"><span class="pre">bool</span></code> <code class="docutils literal"><span class="pre">dtype</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/667">GH667</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13849">GH13849</a>).</p>
<p>Previously, sparse data were <code class="docutils literal"><span class="pre">float64</span></code> dtype by default, even if all inputs were of <code class="docutils literal"><span class="pre">int</span></code> or <code class="docutils literal"><span class="pre">bool</span></code> dtype. You had to specify <code class="docutils literal"><span class="pre">dtype</span></code> explicitly to create sparse data with <code class="docutils literal"><span class="pre">int64</span></code> dtype. Also, <code class="docutils literal"><span class="pre">fill_value</span></code> had to be specified explicitly because the default was <code class="docutils literal"><span class="pre">np.nan</span></code> which doesn&#8217;t appear in <code class="docutils literal"><span class="pre">int64</span></code> or <code class="docutils literal"><span class="pre">bool</span></code> data.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">pd</span><span class="o">.</span><span class="n">SparseArray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">Out[1]:</span>
<span class="go">[1.0, 2.0, 0.0, 0.0]</span>
<span class="go">Fill: nan</span>
<span class="go">IntIndex</span>
<span class="go">Indices: array([0, 1, 2, 3], dtype=int32)</span>

<span class="c"># specifying int64 dtype, but all values are stored in sp_values because</span>
<span class="c"># fill_value default is np.nan</span>
<span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">SparseArray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="go">Out[2]:</span>
<span class="go">[1, 2, 0, 0]</span>
<span class="go">Fill: nan</span>
<span class="go">IntIndex</span>
<span class="go">Indices: array([0, 1, 2, 3], dtype=int32)</span>

<span class="gp">In [3]: </span><span class="n">pd</span><span class="o">.</span><span class="n">SparseArray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Out[3]:</span>
<span class="go">[1, 2, 0, 0]</span>
<span class="go">Fill: 0</span>
<span class="go">IntIndex</span>
<span class="go">Indices: array([0, 1], dtype=int32)</span>
</pre></div>
</div>
<p>As of v0.19.0, sparse data keeps the input dtype, and uses more appropriate <code class="docutils literal"><span class="pre">fill_value</span></code> defaults (<code class="docutils literal"><span class="pre">0</span></code> for <code class="docutils literal"><span class="pre">int64</span></code> dtype, <code class="docutils literal"><span class="pre">False</span></code> for <code class="docutils literal"><span class="pre">bool</span></code> dtype).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [153]: </span><span class="n">pd</span><span class="o">.</span><span class="n">SparseArray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="gr">Out[153]: </span>
<span class="go">[1, 2, 0, 0]</span>
<span class="go">Fill: 0</span>
<span class="go">IntIndex</span>
<span class="go">Indices: array([0, 1], dtype=int32)</span>

<span class="gp">In [154]: </span><span class="n">pd</span><span class="o">.</span><span class="n">SparseArray</span><span class="p">([</span><span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">])</span>
<span class="gr">Out[154]: </span>
<span class="go">[True, False, False, False]</span>
<span class="go">Fill: False</span>
<span class="go">IntIndex</span>
<span class="go">Indices: array([0], dtype=int32)</span>
</pre></div>
</div>
<p>See the <a class="reference internal" href="sparse.html#sparse-dtype"><span class="std std-ref">docs</span></a> for more details.</p>
</div>
<div class="section" id="operators-now-preserve-dtypes">
<h5>Operators now preserve dtypes<a class="headerlink" href="#operators-now-preserve-dtypes" title="Permalink to this headline">¶</a></h5>
<ul>
<li><p class="first">Sparse data structure now can preserve <code class="docutils literal"><span class="pre">dtype</span></code> after arithmetic ops (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13848">GH13848</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [155]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">SparseSeries</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>

<span class="gp">In [156]: </span><span class="n">s</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[156]: </span><span class="n">dtype</span><span class="p">(</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>

<span class="gp">In [157]: </span><span class="n">s</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gr">Out[157]: </span>
<span class="go">0    1</span>
<span class="go">1    3</span>
<span class="go">2    1</span>
<span class="go">3    2</span>
<span class="go">dtype: int64</span>
<span class="go">BlockIndex</span>
<span class="go">Block locations: array([1, 3], dtype=int32)</span>
<span class="go">Block lengths: array([1, 1], dtype=int32)</span>
</pre></div>
</div>
</li>
<li><p class="first">Sparse data structure now support <code class="docutils literal"><span class="pre">astype</span></code> to convert internal <code class="docutils literal"><span class="pre">dtype</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13900">GH13900</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [158]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">SparseSeries</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="gp">In [159]: </span><span class="n">s</span>
<span class="gr">Out[159]: </span>
<span class="go">0    1.0</span>
<span class="go">1    0.0</span>
<span class="go">2    2.0</span>
<span class="go">3    0.0</span>
<span class="go">dtype: float64</span>
<span class="go">BlockIndex</span>
<span class="go">Block locations: array([0, 2], dtype=int32)</span>
<span class="go">Block lengths: array([1, 1], dtype=int32)</span>

<span class="gp">In [160]: </span><span class="n">s</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="gr">Out[160]: </span>
<span class="go">0    1</span>
<span class="go">1    0</span>
<span class="go">2    2</span>
<span class="go">3    0</span>
<span class="go">dtype: int64</span>
<span class="go">BlockIndex</span>
<span class="go">Block locations: array([0, 2], dtype=int32)</span>
<span class="go">Block lengths: array([1, 1], dtype=int32)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">astype</span></code> fails if data contains values which cannot be converted to specified <code class="docutils literal"><span class="pre">dtype</span></code>.
Note that the limitation is applied to <code class="docutils literal"><span class="pre">fill_value</span></code> which default is <code class="docutils literal"><span class="pre">np.nan</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">pd</span><span class="o">.</span><span class="n">SparseSeries</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="go">Out[7]:</span>
<span class="go">ValueError: unable to coerce current fill_value nan to int64 dtype</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="other-sparse-fixes">
<h5>Other sparse fixes<a class="headerlink" href="#other-sparse-fixes" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Subclassed <code class="docutils literal"><span class="pre">SparseDataFrame</span></code> and <code class="docutils literal"><span class="pre">SparseSeries</span></code> now preserve class types when slicing or transposing. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13787">GH13787</a>)</li>
<li><code class="docutils literal"><span class="pre">SparseArray</span></code> with <code class="docutils literal"><span class="pre">bool</span></code> dtype now supports logical (bool) operators (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14000">GH14000</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries</span></code> with <code class="docutils literal"><span class="pre">MultiIndex</span></code> <code class="docutils literal"><span class="pre">[]</span></code> indexing may raise <code class="docutils literal"><span class="pre">IndexError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13144">GH13144</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries</span></code> with <code class="docutils literal"><span class="pre">MultiIndex</span></code> <code class="docutils literal"><span class="pre">[]</span></code> indexing result may have normal <code class="docutils literal"><span class="pre">Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13144">GH13144</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseDataFrame</span></code> in which <code class="docutils literal"><span class="pre">axis=None</span></code> did not default to <code class="docutils literal"><span class="pre">axis=0</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13048">GH13048</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries</span></code> and <code class="docutils literal"><span class="pre">SparseDataFrame</span></code> creation with <code class="docutils literal"><span class="pre">object</span></code> dtype may raise <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11633">GH11633</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseDataFrame</span></code> doesn&#8217;t respect passed <code class="docutils literal"><span class="pre">SparseArray</span></code> or <code class="docutils literal"><span class="pre">SparseSeries</span></code> &#8216;s dtype and <code class="docutils literal"><span class="pre">fill_value</span></code>  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13866">GH13866</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseArray</span></code> and <code class="docutils literal"><span class="pre">SparseSeries</span></code> don&#8217;t apply ufunc to <code class="docutils literal"><span class="pre">fill_value</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13853">GH13853</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries.abs</span></code> incorrectly keeps negative <code class="docutils literal"><span class="pre">fill_value</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13853">GH13853</a>)</li>
<li>Bug in single row slicing on multi-type <code class="docutils literal"><span class="pre">SparseDataFrame</span></code> s, types were previously forced to float (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13917">GH13917</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries</span></code> slicing changes integer dtype to float (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8292">GH8292</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseDataFarme</span></code> comparison ops may raise <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13001">GH13001</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseDataFarme.isnull</span></code> raises <code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8276">GH8276</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries</span></code> representation with <code class="docutils literal"><span class="pre">bool</span></code> dtype may raise <code class="docutils literal"><span class="pre">IndexError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13110">GH13110</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries</span></code> and <code class="docutils literal"><span class="pre">SparseDataFrame</span></code> of <code class="docutils literal"><span class="pre">bool</span></code> or <code class="docutils literal"><span class="pre">int64</span></code> dtype may display its values like <code class="docutils literal"><span class="pre">float64</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13110">GH13110</a>)</li>
<li>Bug in sparse indexing using <code class="docutils literal"><span class="pre">SparseArray</span></code> with <code class="docutils literal"><span class="pre">bool</span></code> dtype may return incorrect result  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13985">GH13985</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseArray</span></code> created from <code class="docutils literal"><span class="pre">SparseSeries</span></code> may lose <code class="docutils literal"><span class="pre">dtype</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13999">GH13999</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries</span></code> comparison with dense returns normal <code class="docutils literal"><span class="pre">Series</span></code> rather than <code class="docutils literal"><span class="pre">SparseSeries</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13999">GH13999</a>)</li>
</ul>
</div>
</div>
<div class="section" id="indexer-dtype-changes">
<span id="whatsnew-0190-indexer-dtype"></span><h4>Indexer dtype changes<a class="headerlink" href="#indexer-dtype-changes" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This change only affects 64 bit python running on Windows, and only affects relatively advanced
indexing operations</p>
</div>
<p>Methods such as <code class="docutils literal"><span class="pre">Index.get_indexer</span></code> that return an indexer array, coerce that array to a &#8220;platform int&#8221;, so that it can be
directly used in 3rd party library operations like <code class="docutils literal"><span class="pre">numpy.take</span></code>.  Previously, a platform int was defined as <code class="docutils literal"><span class="pre">np.int_</span></code>
which corresponds to a C integer, but the correct type, and what is being used now, is <code class="docutils literal"><span class="pre">np.intp</span></code>, which corresponds
to the C integer size that can hold a pointer (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3033">GH3033</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13972">GH13972</a>).</p>
<p>These types are the same on many platform, but for 64 bit python on Windows,
<code class="docutils literal"><span class="pre">np.int_</span></code> is 32 bits, and <code class="docutils literal"><span class="pre">np.intp</span></code> is 64 bits.  Changing this behavior improves performance for many
operations on that platform.</p>
<p><strong>Previous behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">i</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>

<span class="gp">In [2]: </span><span class="n">i</span><span class="o">.</span><span class="n">get_indexer</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[2]: </span><span class="n">dtype</span><span class="p">(</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>New behavior</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">i</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>

<span class="gp">In [2]: </span><span class="n">i</span><span class="o">.</span><span class="n">get_indexer</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[2]: </span><span class="n">dtype</span><span class="p">(</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="other-api-changes">
<span id="whatsnew-0190-api-other"></span><h4>Other API Changes<a class="headerlink" href="#other-api-changes" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Timestamp.to_pydatetime</span></code> will issue a <code class="docutils literal"><span class="pre">UserWarning</span></code> when <code class="docutils literal"><span class="pre">warn=True</span></code>, and the instance has a non-zero number of nanoseconds, previously this would print a message to stdout (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14101">GH14101</a>).</li>
<li><code class="docutils literal"><span class="pre">Series.unique()</span></code> with datetime and timezone now returns return array of <code class="docutils literal"><span class="pre">Timestamp</span></code> with timezone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13565">GH13565</a>).</li>
<li><code class="docutils literal"><span class="pre">Panel.to_sparse()</span></code> will raise a <code class="docutils literal"><span class="pre">NotImplementedError</span></code> exception when called (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13778">GH13778</a>).</li>
<li><code class="docutils literal"><span class="pre">Index.reshape()</span></code> will raise a <code class="docutils literal"><span class="pre">NotImplementedError</span></code> exception when called (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12882">GH12882</a>).</li>
<li><code class="docutils literal"><span class="pre">.filter()</span></code> enforces mutual exclusion of the keyword arguments (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12399">GH12399</a>).</li>
<li><code class="docutils literal"><span class="pre">eval</span></code>&#8216;s upcasting rules for <code class="docutils literal"><span class="pre">float32</span></code> types have been updated to be more consistent with NumPy&#8217;s rules.  New behavior will not upcast to <code class="docutils literal"><span class="pre">float64</span></code> if you multiply a pandas <code class="docutils literal"><span class="pre">float32</span></code> object by a scalar float64 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12388">GH12388</a>).</li>
<li>An <code class="docutils literal"><span class="pre">UnsupportedFunctionCall</span></code> error is now raised if NumPy ufuncs like <code class="docutils literal"><span class="pre">np.mean</span></code> are called on groupby or resample objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12811">GH12811</a>).</li>
<li><code class="docutils literal"><span class="pre">__setitem__</span></code> will no longer apply a callable rhs as a function instead of storing it. Call <code class="docutils literal"><span class="pre">where</span></code> directly to get the previous behavior (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13299">GH13299</a>).</li>
<li>Calls to <code class="docutils literal"><span class="pre">.sample()</span></code> will respect the random seed set via <code class="docutils literal"><span class="pre">numpy.random.seed(n)</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13161">GH13161</a>)</li>
<li><code class="docutils literal"><span class="pre">Styler.apply</span></code> is now more strict about the outputs your function must return. For <code class="docutils literal"><span class="pre">axis=0</span></code> or <code class="docutils literal"><span class="pre">axis=1</span></code>, the output shape must be identical. For <code class="docutils literal"><span class="pre">axis=None</span></code>, the output must be a DataFrame with identical columns and index labels (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13222">GH13222</a>).</li>
<li><code class="docutils literal"><span class="pre">Float64Index.astype(int)</span></code> will now raise <code class="docutils literal"><span class="pre">ValueError</span></code> if <code class="docutils literal"><span class="pre">Float64Index</span></code> contains <code class="docutils literal"><span class="pre">NaN</span></code> values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13149">GH13149</a>)</li>
<li><code class="docutils literal"><span class="pre">TimedeltaIndex.astype(int)</span></code> and <code class="docutils literal"><span class="pre">DatetimeIndex.astype(int)</span></code> will now return <code class="docutils literal"><span class="pre">Int64Index</span></code> instead of <code class="docutils literal"><span class="pre">np.array</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13209">GH13209</a>)</li>
<li>Passing <code class="docutils literal"><span class="pre">Period</span></code> with multiple frequencies to normal <code class="docutils literal"><span class="pre">Index</span></code> now returns <code class="docutils literal"><span class="pre">Index</span></code> with <code class="docutils literal"><span class="pre">object</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13664">GH13664</a>)</li>
<li><code class="docutils literal"><span class="pre">PeriodIndex.fillna</span></code> with <code class="docutils literal"><span class="pre">Period</span></code> has different freq now coerces to <code class="docutils literal"><span class="pre">object</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13664">GH13664</a>)</li>
<li>Faceted boxplots from <code class="docutils literal"><span class="pre">DataFrame.boxplot(by=col)</span></code> now return a <code class="docutils literal"><span class="pre">Series</span></code> when <code class="docutils literal"><span class="pre">return_type</span></code> is not None. Previously these returned an <code class="docutils literal"><span class="pre">OrderedDict</span></code>. Note that when <code class="docutils literal"><span class="pre">return_type=None</span></code>, the default, these still return a 2-D NumPy array (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12216">GH12216</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7096">GH7096</a>).</li>
<li><code class="docutils literal"><span class="pre">pd.read_hdf</span></code> will now raise a <code class="docutils literal"><span class="pre">ValueError</span></code> instead of <code class="docutils literal"><span class="pre">KeyError</span></code>, if a mode other than <code class="docutils literal"><span class="pre">r</span></code>, <code class="docutils literal"><span class="pre">r+</span></code> and <code class="docutils literal"><span class="pre">a</span></code> is supplied. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13623">GH13623</a>)</li>
<li><code class="docutils literal"><span class="pre">pd.read_csv()</span></code>, <code class="docutils literal"><span class="pre">pd.read_table()</span></code>, and <code class="docutils literal"><span class="pre">pd.read_hdf()</span></code> raise the builtin <code class="docutils literal"><span class="pre">FileNotFoundError</span></code> exception for Python 3.x when called on a nonexistent file; this is back-ported as <code class="docutils literal"><span class="pre">IOError</span></code> in Python 2.x (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14086">GH14086</a>)</li>
<li>More informative exceptions are passed through the csv parser. The exception type would now be the original exception type instead of <code class="docutils literal"><span class="pre">CParserError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13652">GH13652</a>).</li>
<li><code class="docutils literal"><span class="pre">pd.read_csv()</span></code> in the C engine will now issue a <code class="docutils literal"><span class="pre">ParserWarning</span></code> or raise a <code class="docutils literal"><span class="pre">ValueError</span></code> when <code class="docutils literal"><span class="pre">sep</span></code> encoded is more than one character long (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14065">GH14065</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.values</span></code> will now return <code class="docutils literal"><span class="pre">float64</span></code> with a <code class="docutils literal"><span class="pre">DataFrame</span></code> of mixed <code class="docutils literal"><span class="pre">int64</span></code> and <code class="docutils literal"><span class="pre">uint64</span></code> dtypes, conforming to <code class="docutils literal"><span class="pre">np.find_common_type</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10364">GH10364</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13917">GH13917</a>)</li>
<li><code class="docutils literal"><span class="pre">.groupby.groups</span></code> will now return a dictionary of <code class="docutils literal"><span class="pre">Index</span></code> objects, rather than a dictionary of <code class="docutils literal"><span class="pre">np.ndarray</span></code> or <code class="docutils literal"><span class="pre">lists</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14293">GH14293</a>)</li>
</ul>
</div>
</div>
<div class="section" id="deprecations">
<span id="whatsnew-0190-deprecations"></span><h3>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Series.reshape</span></code> and <code class="docutils literal"><span class="pre">Categorical.reshape</span></code> have been deprecated and will be removed in a subsequent release (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12882">GH12882</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12882">GH12882</a>)</li>
<li><code class="docutils literal"><span class="pre">PeriodIndex.to_datetime</span></code> has been deprecated in favor of <code class="docutils literal"><span class="pre">PeriodIndex.to_timestamp</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8254">GH8254</a>)</li>
<li><code class="docutils literal"><span class="pre">Timestamp.to_datetime</span></code> has been deprecated in favor of <code class="docutils literal"><span class="pre">Timestamp.to_pydatetime</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8254">GH8254</a>)</li>
<li><code class="docutils literal"><span class="pre">Index.to_datetime</span></code> and <code class="docutils literal"><span class="pre">DatetimeIndex.to_datetime</span></code> have been deprecated in favor of <code class="docutils literal"><span class="pre">pd.to_datetime</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8254">GH8254</a>)</li>
<li><code class="docutils literal"><span class="pre">pandas.core.datetools</span></code> module has been deprecated and will be removed in a subsequent release (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14094">GH14094</a>)</li>
<li><code class="docutils literal"><span class="pre">SparseList</span></code> has been deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13784">GH13784</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.to_html()</span></code> and <code class="docutils literal"><span class="pre">DataFrame.to_latex()</span></code> have dropped the <code class="docutils literal"><span class="pre">colSpace</span></code> parameter in favor of <code class="docutils literal"><span class="pre">col_space</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13857">GH13857</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.to_sql()</span></code> has deprecated the <code class="docutils literal"><span class="pre">flavor</span></code> parameter, as it is superfluous when SQLAlchemy is not installed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13611">GH13611</a>)</li>
<li>Deprecated <code class="docutils literal"><span class="pre">read_csv</span></code> keywords:<ul>
<li><code class="docutils literal"><span class="pre">compact_ints</span></code> and <code class="docutils literal"><span class="pre">use_unsigned</span></code> have been deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13320">GH13320</a>)</li>
<li><code class="docutils literal"><span class="pre">buffer_lines</span></code> has been deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13360">GH13360</a>)</li>
<li><code class="docutils literal"><span class="pre">as_recarray</span></code> has been deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13373">GH13373</a>)</li>
<li><code class="docutils literal"><span class="pre">skip_footer</span></code> has been deprecated in favor of <code class="docutils literal"><span class="pre">skipfooter</span></code> and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13349">GH13349</a>)</li>
</ul>
</li>
<li>top-level <code class="docutils literal"><span class="pre">pd.ordered_merge()</span></code> has been renamed to <code class="docutils literal"><span class="pre">pd.merge_ordered()</span></code> and the original name will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13358">GH13358</a>)</li>
<li><code class="docutils literal"><span class="pre">Timestamp.offset</span></code> property (and named arg in the constructor), has been deprecated in favor of <code class="docutils literal"><span class="pre">freq</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12160">GH12160</a>)</li>
<li><code class="docutils literal"><span class="pre">pd.tseries.util.pivot_annual</span></code> is deprecated. Use <code class="docutils literal"><span class="pre">pivot_table</span></code> as alternative, an example is <a class="reference internal" href="cookbook.html#cookbook-pivot"><span class="std std-ref">here</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/736">GH736</a>)</li>
<li><code class="docutils literal"><span class="pre">pd.tseries.util.isleapyear</span></code> has been deprecated and will be removed in a subsequent release. Datetime-likes now have a <code class="docutils literal"><span class="pre">.is_leap_year</span></code> property (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13727">GH13727</a>)</li>
<li><code class="docutils literal"><span class="pre">Panel4D</span></code> and <code class="docutils literal"><span class="pre">PanelND</span></code> constructors are deprecated and will be removed in a future version. The recommended way to represent these types of n-dimensional data are with the <a class="reference external" href="http://xarray.pydata.org/en/stable/">xarray package</a>. Pandas provides a <a class="reference internal" href="generated/pandas.Panel4D.to_xarray.html#pandas.Panel4D.to_xarray" title="pandas.Panel4D.to_xarray"><code class="xref py py-meth docutils literal"><span class="pre">to_xarray()</span></code></a> method to automate this conversion (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13564">GH13564</a>).</li>
<li><code class="docutils literal"><span class="pre">pandas.tseries.frequencies.get_standard_freq</span></code> is deprecated. Use  <code class="docutils literal"><span class="pre">pandas.tseries.frequencies.to_offset(freq).rule_code</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13874">GH13874</a>)</li>
<li><code class="docutils literal"><span class="pre">pandas.tseries.frequencies.to_offset</span></code>&#8216;s <code class="docutils literal"><span class="pre">freqstr</span></code> keyword is deprecated in favor of <code class="docutils literal"><span class="pre">freq</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13874">GH13874</a>)</li>
<li><code class="docutils literal"><span class="pre">Categorical.from_array</span></code> has been deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13854">GH13854</a>)</li>
</ul>
</div>
<div class="section" id="removal-of-prior-version-deprecations-changes">
<span id="whatsnew-0190-prior-deprecations"></span><h3>Removal of prior version deprecations/changes<a class="headerlink" href="#removal-of-prior-version-deprecations-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">SparsePanel</span></code> class has been removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13778">GH13778</a>)</li>
<li>The <code class="docutils literal"><span class="pre">pd.sandbox</span></code> module has been removed in favor of the external library <code class="docutils literal"><span class="pre">pandas-qt</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13670">GH13670</a>)</li>
<li>The <code class="docutils literal"><span class="pre">pandas.io.data</span></code> and <code class="docutils literal"><span class="pre">pandas.io.wb</span></code> modules are removed in favor of
the <a class="reference external" href="https://github.com/pydata/pandas-datareader">pandas-datareader package</a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13724">GH13724</a>).</li>
<li>The <code class="docutils literal"><span class="pre">pandas.tools.rplot</span></code> module has been removed in favor of
the <a class="reference external" href="https://github.com/mwaskom/seaborn">seaborn package</a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13855">GH13855</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.to_csv()</span></code> has dropped the <code class="docutils literal"><span class="pre">engine</span></code> parameter, as was deprecated in 0.17.1 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11274">GH11274</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13419">GH13419</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.to_dict()</span></code> has dropped the <code class="docutils literal"><span class="pre">outtype</span></code> parameter in favor of <code class="docutils literal"><span class="pre">orient</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13627">GH13627</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8486">GH8486</a>)</li>
<li><code class="docutils literal"><span class="pre">pd.Categorical</span></code> has dropped setting of the <code class="docutils literal"><span class="pre">ordered</span></code> attribute directly in favor of the <code class="docutils literal"><span class="pre">set_ordered</span></code> method (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13671">GH13671</a>)</li>
<li><code class="docutils literal"><span class="pre">pd.Categorical</span></code> has dropped the <code class="docutils literal"><span class="pre">levels</span></code> attribute in favor of <code class="docutils literal"><span class="pre">categories</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8376">GH8376</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.to_sql()</span></code> has dropped the <code class="docutils literal"><span class="pre">mysql</span></code> option for the <code class="docutils literal"><span class="pre">flavor</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13611">GH13611</a>)</li>
<li><code class="docutils literal"><span class="pre">Panel.shift()</span></code> has dropped the <code class="docutils literal"><span class="pre">lags</span></code> parameter in favor of <code class="docutils literal"><span class="pre">periods</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14041">GH14041</a>)</li>
<li><code class="docutils literal"><span class="pre">pd.Index</span></code> has dropped the <code class="docutils literal"><span class="pre">diff</span></code> method in favor of <code class="docutils literal"><span class="pre">difference</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13669">GH13669</a>)</li>
<li><code class="docutils literal"><span class="pre">pd.DataFrame</span></code> has dropped the <code class="docutils literal"><span class="pre">to_wide</span></code> method in favor of <code class="docutils literal"><span class="pre">to_panel</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14039">GH14039</a>)</li>
<li><code class="docutils literal"><span class="pre">Series.to_csv</span></code> has dropped the <code class="docutils literal"><span class="pre">nanRep</span></code> parameter in favor of <code class="docutils literal"><span class="pre">na_rep</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13804">GH13804</a>)</li>
<li><code class="docutils literal"><span class="pre">Series.xs</span></code>, <code class="docutils literal"><span class="pre">DataFrame.xs</span></code>, <code class="docutils literal"><span class="pre">Panel.xs</span></code>, <code class="docutils literal"><span class="pre">Panel.major_xs</span></code>, and <code class="docutils literal"><span class="pre">Panel.minor_xs</span></code> have dropped the <code class="docutils literal"><span class="pre">copy</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13781">GH13781</a>)</li>
<li><code class="docutils literal"><span class="pre">str.split</span></code> has dropped the <code class="docutils literal"><span class="pre">return_type</span></code> parameter in favor of <code class="docutils literal"><span class="pre">expand</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13701">GH13701</a>)</li>
<li>Removal of the legacy time rules (offset aliases), deprecated since 0.17.0 (this has been alias since 0.8.0) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13590">GH13590</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13868">GH13868</a>). Now legacy time rules raises <code class="docutils literal"><span class="pre">ValueError</span></code>. For the list of currently supported offsets, see <a class="reference internal" href="timeseries.html#timeseries-offset-aliases"><span class="std std-ref">here</span></a>.</li>
<li>The default value for the <code class="docutils literal"><span class="pre">return_type</span></code> parameter for <code class="docutils literal"><span class="pre">DataFrame.plot.box</span></code> and <code class="docutils literal"><span class="pre">DataFrame.boxplot</span></code> changed from <code class="docutils literal"><span class="pre">None</span></code> to <code class="docutils literal"><span class="pre">&quot;axes&quot;</span></code>. These methods will now return a matplotlib axes by default instead of a dictionary of artists. See <a class="reference internal" href="visualization.html#visualization-box-return"><span class="std std-ref">here</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6581">GH6581</a>).</li>
<li>The <code class="docutils literal"><span class="pre">tquery</span></code> and <code class="docutils literal"><span class="pre">uquery</span></code> functions in the <code class="docutils literal"><span class="pre">pandas.io.sql</span></code> module are removed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5950">GH5950</a>).</li>
</ul>
</div>
<div class="section" id="whatsnew-0190-performance">
<span id="id3"></span><h3>Performance Improvements<a class="headerlink" href="#whatsnew-0190-performance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Improved performance of sparse <code class="docutils literal"><span class="pre">IntIndex.intersect</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13082">GH13082</a>)</li>
<li>Improved performance of sparse arithmetic with <code class="docutils literal"><span class="pre">BlockIndex</span></code> when the number of blocks are large, though recommended to use <code class="docutils literal"><span class="pre">IntIndex</span></code> in such cases (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13082">GH13082</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">DataFrame.quantile()</span></code> as it now operates per-block (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11623">GH11623</a>)</li>
<li>Improved performance of float64 hash table operations, fixing some very slow indexing and groupby operations in python 3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13166">GH13166</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13334">GH13334</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">DataFrameGroupBy.transform</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12737">GH12737</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">Index</span></code> and <code class="docutils literal"><span class="pre">Series</span></code> <code class="docutils literal"><span class="pre">.duplicated</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10235">GH10235</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">Index.difference</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12044">GH12044</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">RangeIndex.is_monotonic_increasing</span></code> and <code class="docutils literal"><span class="pre">is_monotonic_decreasing</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13749">GH13749</a>)</li>
<li>Improved performance of datetime string parsing in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13692">GH13692</a>)</li>
<li>Improved performance of hashing <code class="docutils literal"><span class="pre">Period</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12817">GH12817</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">factorize</span></code> of datetime with timezone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13750">GH13750</a>)</li>
<li>Improved performance of by lazily creating indexing hashtables on larger Indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14266">GH14266</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">groupby.groups</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14293">GH14293</a>)</li>
<li>Unecessary materializing of a MultiIndex when introspecting for memory usage (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14308">GH14308</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0190-bug-fixes">
<span id="id4"></span><h3>Bug Fixes<a class="headerlink" href="#whatsnew-0190-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Bug in <code class="docutils literal"><span class="pre">groupby().shift()</span></code>, which could cause a segfault or corruption in rare circumstances when grouping by columns with missing values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13813">GH13813</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby().cumsum()</span></code> calculating <code class="docutils literal"><span class="pre">cumprod</span></code> when <code class="docutils literal"><span class="pre">axis=1</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13994">GH13994</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.to_timedelta()</span></code> in which the <code class="docutils literal"><span class="pre">errors</span></code> parameter was not being respected (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13613">GH13613</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">io.json.json_normalize()</span></code>, where non-ascii keys raised an exception (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13213">GH13213</a>)</li>
<li>Bug when passing a not-default-indexed <code class="docutils literal"><span class="pre">Series</span></code> as <code class="docutils literal"><span class="pre">xerr</span></code> or <code class="docutils literal"><span class="pre">yerr</span></code> in <code class="docutils literal"><span class="pre">.plot()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11858">GH11858</a>)</li>
<li>Bug in area plot draws legend incorrectly if subplot is enabled or legend is moved after plot (matplotlib 1.5.0 is required to draw area plot legend properly) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9161">GH9161</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13544">GH13544</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame</span></code> assignment with an object-dtyped <code class="docutils literal"><span class="pre">Index</span></code> where the resultant column is mutable to the original object. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13522">GH13522</a>)</li>
<li>Bug in matplotlib <code class="docutils literal"><span class="pre">AutoDataFormatter</span></code>; this restores the second scaled formatting and re-adds micro-second scaled formatting (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13131">GH13131</a>)</li>
<li>Bug in selection from a <code class="docutils literal"><span class="pre">HDFStore</span></code> with a fixed format and <code class="docutils literal"><span class="pre">start</span></code> and/or <code class="docutils literal"><span class="pre">stop</span></code> specified will now return the selected range (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8287">GH8287</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Categorical.from_codes()</span></code> where an unhelpful error was raised when an invalid <code class="docutils literal"><span class="pre">ordered</span></code> parameter was passed in (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14058">GH14058</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series</span></code> construction from a tuple of integers on windows not returning default dtype (int64) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13646">GH13646</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> addition with a Datetime-like object where addition overflow was not being caught (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14068">GH14068</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.groupby(..).resample(..)</span></code> when the same object is called multiple times (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13174">GH13174</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.to_records()</span></code> when index name is a unicode string (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13172">GH13172</a>)</li>
<li>Bug in calling <code class="docutils literal"><span class="pre">.memory_usage()</span></code> on object which doesn&#8217;t implement (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12924">GH12924</a>)</li>
<li>Regression in <code class="docutils literal"><span class="pre">Series.quantile</span></code> with nans (also shows up in <code class="docutils literal"><span class="pre">.median()</span></code> and <code class="docutils literal"><span class="pre">.describe()</span></code> ); furthermore now names the <code class="docutils literal"><span class="pre">Series</span></code> with the quantile (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13098">GH13098</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13146">GH13146</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SeriesGroupBy.transform</span></code> with datetime values and missing groups (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13191">GH13191</a>)</li>
<li>Bug where empty <code class="docutils literal"><span class="pre">Series</span></code> were incorrectly coerced in datetime-like numeric operations (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13844">GH13844</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Categorical</span></code> constructor when passed a <code class="docutils literal"><span class="pre">Categorical</span></code> containing datetimes with timezones (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14190">GH14190</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.str.extractall()</span></code> with <code class="docutils literal"><span class="pre">str</span></code> index raises <code class="docutils literal"><span class="pre">ValueError</span></code>  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13156">GH13156</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.str.extractall()</span></code> with single group and quantifier  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13382">GH13382</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> and <code class="docutils literal"><span class="pre">Period</span></code> subtraction raises <code class="docutils literal"><span class="pre">ValueError</span></code> or <code class="docutils literal"><span class="pre">AttributeError</span></code> rather than <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13078">GH13078</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index</span></code> and <code class="docutils literal"><span class="pre">Series</span></code> created with <code class="docutils literal"><span class="pre">NaN</span></code> and <code class="docutils literal"><span class="pre">NaT</span></code> mixed data may not have <code class="docutils literal"><span class="pre">datetime64</span></code> dtype  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13324">GH13324</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index</span></code> and <code class="docutils literal"><span class="pre">Series</span></code> may ignore <code class="docutils literal"><span class="pre">np.datetime64('nat')</span></code> and <code class="docutils literal"><span class="pre">np.timdelta64('nat')</span></code> to infer dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13324">GH13324</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">PeriodIndex</span></code> and <code class="docutils literal"><span class="pre">Period</span></code> subtraction raises <code class="docutils literal"><span class="pre">AttributeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13071">GH13071</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">PeriodIndex</span></code> construction returning a <code class="docutils literal"><span class="pre">float64</span></code> index in some circumstances (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13067">GH13067</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.resample(..)</span></code> with a <code class="docutils literal"><span class="pre">PeriodIndex</span></code> not changing its <code class="docutils literal"><span class="pre">freq</span></code> appropriately when empty (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13067">GH13067</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.resample(..)</span></code> with a <code class="docutils literal"><span class="pre">PeriodIndex</span></code> not retaining its type or name with an empty <code class="docutils literal"><span class="pre">DataFrame</span></code> appropriately when empty (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13212">GH13212</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby(..).apply(..)</span></code> when the passed function returns scalar values per group (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13468">GH13468</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby(..).resample(..)</span></code> where passing some keywords would raise an exception (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13235">GH13235</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.tz_convert</span></code> on a tz-aware <code class="docutils literal"><span class="pre">DateTimeIndex</span></code> that relied on index being sorted for correct results (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13306">GH13306</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.tz_localize</span></code> with <code class="docutils literal"><span class="pre">dateutil.tz.tzlocal</span></code> may return incorrect result (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13583">GH13583</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeTZDtype</span></code> dtype with <code class="docutils literal"><span class="pre">dateutil.tz.tzlocal</span></code> cannot be regarded as valid dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13583">GH13583</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_hdf()</span></code> where attempting to load an HDF file with a single dataset, that had one or more categorical columns, failed unless the key argument was set to the name of the dataset. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13231">GH13231</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.rolling()</span></code> that allowed a negative integer window in contruction of the <code class="docutils literal"><span class="pre">Rolling()</span></code> object, but would later fail on aggregation (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13383">GH13383</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series</span></code> indexing with tuple-valued data and a numeric index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13509">GH13509</a>)</li>
<li>Bug in printing <code class="docutils literal"><span class="pre">pd.DataFrame</span></code> where unusual elements with the <code class="docutils literal"><span class="pre">object</span></code> dtype were causing segfaults (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13717">GH13717</a>)</li>
<li>Bug in ranking <code class="docutils literal"><span class="pre">Series</span></code> which could result in segfaults (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13445">GH13445</a>)</li>
<li>Bug in various index types, which did not propagate the name of passed index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12309">GH12309</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code>, which did not honour the <code class="docutils literal"><span class="pre">copy=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13205">GH13205</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex.is_normalized</span></code> returns incorrectly for normalized date_range in case of local timezones (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13459">GH13459</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.concat</span></code> and <code class="docutils literal"><span class="pre">.append</span></code> may coerces <code class="docutils literal"><span class="pre">datetime64</span></code> and <code class="docutils literal"><span class="pre">timedelta</span></code> to <code class="docutils literal"><span class="pre">object</span></code> dtype containing python built-in <code class="docutils literal"><span class="pre">datetime</span></code> or <code class="docutils literal"><span class="pre">timedelta</span></code> rather than <code class="docutils literal"><span class="pre">Timestamp</span></code> or <code class="docutils literal"><span class="pre">Timedelta</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13626">GH13626</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">PeriodIndex.append</span></code> may raises <code class="docutils literal"><span class="pre">AttributeError</span></code> when the result is <code class="docutils literal"><span class="pre">object</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13221">GH13221</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">CategoricalIndex.append</span></code> may accept normal <code class="docutils literal"><span class="pre">list</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13626">GH13626</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.concat</span></code> and <code class="docutils literal"><span class="pre">.append</span></code> with the same timezone get reset to UTC (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7795">GH7795</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series</span></code> and <code class="docutils literal"><span class="pre">DataFrame</span></code> <code class="docutils literal"><span class="pre">.append</span></code> raises <code class="docutils literal"><span class="pre">AmbiguousTimeError</span></code> if data contains datetime near DST boundary (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13626">GH13626</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_csv()</span></code> in which float values were being quoted even though quotations were specified for non-numeric values only (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12922">GH12922</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13259">GH13259</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.describe()</span></code> raising <code class="docutils literal"><span class="pre">ValueError</span></code> with only boolean columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13898">GH13898</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">MultiIndex</span></code> slicing where extra elements were returned when level is non-unique (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12896">GH12896</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.str.replace</span></code> does not raise <code class="docutils literal"><span class="pre">TypeError</span></code> for invalid replacement (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13438">GH13438</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">MultiIndex.from_arrays</span></code> which didn&#8217;t check for input array lengths matching (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13599">GH13599</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">cartesian_product</span></code> and <code class="docutils literal"><span class="pre">MultiIndex.from_product</span></code> which may raise with empty input arrays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12258">GH12258</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> which may cause a segfault or corruption when iterating in large chunks over a stream/file under rare circumstances (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13703">GH13703</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> which caused errors to be raised when a dictionary containing scalars is passed in for <code class="docutils literal"><span class="pre">na_values</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12224">GH12224</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> which caused BOM files to be incorrectly parsed by not ignoring the BOM (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4793">GH4793</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> with <code class="docutils literal"><span class="pre">engine='python'</span></code> which raised errors when a numpy array was passed in for <code class="docutils literal"><span class="pre">usecols</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12546">GH12546</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> where the index columns were being incorrectly parsed when parsed as dates with a <code class="docutils literal"><span class="pre">thousands</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14066">GH14066</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> with <code class="docutils literal"><span class="pre">engine='python'</span></code> in which <code class="docutils literal"><span class="pre">NaN</span></code> values weren&#8217;t being detected after data was converted to numeric values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13314">GH13314</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> in which the <code class="docutils literal"><span class="pre">nrows</span></code> argument was not properly validated for both engines (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10476">GH10476</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> with <code class="docutils literal"><span class="pre">engine='python'</span></code> in which infinities of mixed-case forms were not being interpreted properly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13274">GH13274</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> with <code class="docutils literal"><span class="pre">engine='python'</span></code> in which trailing <code class="docutils literal"><span class="pre">NaN</span></code> values were not being parsed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13320">GH13320</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> with <code class="docutils literal"><span class="pre">engine='python'</span></code> when reading from a <code class="docutils literal"><span class="pre">tempfile.TemporaryFile</span></code> on Windows with Python 3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13398">GH13398</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> that prevents <code class="docutils literal"><span class="pre">usecols</span></code> kwarg from accepting single-byte unicode strings (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13219">GH13219</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> that prevents <code class="docutils literal"><span class="pre">usecols</span></code> from being an empty set (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13402">GH13402</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> in the C engine where the NULL character was not being parsed as NULL (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14012">GH14012</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> with <code class="docutils literal"><span class="pre">engine='c'</span></code> in which NULL <code class="docutils literal"><span class="pre">quotechar</span></code> was not accepted even though <code class="docutils literal"><span class="pre">quoting</span></code> was specified as <code class="docutils literal"><span class="pre">None</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13411">GH13411</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> with <code class="docutils literal"><span class="pre">engine='c'</span></code> in which fields were not properly cast to float when quoting was specified as non-numeric (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13411">GH13411</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> in Python 2.x with non-UTF8 encoded, multi-character separated data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3404">GH3404</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code>, where aliases for utf-xx (e.g. UTF-xx, UTF_xx, utf_xx) raised UnicodeDecodeError (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13549">GH13549</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv</span></code>, <code class="docutils literal"><span class="pre">pd.read_table</span></code>, <code class="docutils literal"><span class="pre">pd.read_fwf</span></code>, <code class="docutils literal"><span class="pre">pd.read_stata</span></code> and <code class="docutils literal"><span class="pre">pd.read_sas</span></code> where files were opened by parsers but not closed if both <code class="docutils literal"><span class="pre">chunksize</span></code> and <code class="docutils literal"><span class="pre">iterator</span></code> were <code class="docutils literal"><span class="pre">None</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13940">GH13940</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">StataReader</span></code>, <code class="docutils literal"><span class="pre">StataWriter</span></code>, <code class="docutils literal"><span class="pre">XportReader</span></code> and <code class="docutils literal"><span class="pre">SAS7BDATReader</span></code> where a file was not properly closed when an error was raised. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13940">GH13940</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.pivot_table()</span></code> where <code class="docutils literal"><span class="pre">margins_name</span></code> is ignored when <code class="docutils literal"><span class="pre">aggfunc</span></code> is a list (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13354">GH13354</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.Series.str.zfill</span></code>, <code class="docutils literal"><span class="pre">center</span></code>, <code class="docutils literal"><span class="pre">ljust</span></code>, <code class="docutils literal"><span class="pre">rjust</span></code>, and <code class="docutils literal"><span class="pre">pad</span></code> when passing non-integers, did not raise <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13598">GH13598</a>)</li>
<li>Bug in checking for any null objects in a <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code>, which always returned <code class="docutils literal"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13603">GH13603</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series</span></code> arithmetic raises <code class="docutils literal"><span class="pre">TypeError</span></code> if it contains datetime-like as <code class="docutils literal"><span class="pre">object</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13043">GH13043</a>)</li>
<li>Bug <code class="docutils literal"><span class="pre">Series.isnull()</span></code> and <code class="docutils literal"><span class="pre">Series.notnull()</span></code> ignore <code class="docutils literal"><span class="pre">Period('NaT')</span></code>  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13737">GH13737</a>)</li>
<li>Bug <code class="docutils literal"><span class="pre">Series.fillna()</span></code> and <code class="docutils literal"><span class="pre">Series.dropna()</span></code> don&#8217;t affect to <code class="docutils literal"><span class="pre">Period('NaT')</span></code>  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13737">GH13737</a></li>
<li>Bug in <code class="docutils literal"><span class="pre">.fillna(value=np.nan)</span></code> incorrectly raises <code class="docutils literal"><span class="pre">KeyError</span></code> on a <code class="docutils literal"><span class="pre">category</span></code> dtyped <code class="docutils literal"><span class="pre">Series</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14021">GH14021</a>)</li>
<li>Bug in extension dtype creation where the created types were not is/identical (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13285">GH13285</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.resample(..)</span></code> where incorrect warnings were triggered by IPython introspection (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13618">GH13618</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">NaT</span></code> - <code class="docutils literal"><span class="pre">Period</span></code> raises <code class="docutils literal"><span class="pre">AttributeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13071">GH13071</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series</span></code> comparison may output incorrect result if rhs contains <code class="docutils literal"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9005">GH9005</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series</span></code> and <code class="docutils literal"><span class="pre">Index</span></code> comparison may output incorrect result if it contains <code class="docutils literal"><span class="pre">NaT</span></code> with <code class="docutils literal"><span class="pre">object</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13592">GH13592</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Period</span></code> addition raises <code class="docutils literal"><span class="pre">TypeError</span></code> if <code class="docutils literal"><span class="pre">Period</span></code> is on right hand side (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13069">GH13069</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Peirod</span></code> and <code class="docutils literal"><span class="pre">Series</span></code> or <code class="docutils literal"><span class="pre">Index</span></code> comparison raises <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13200">GH13200</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.set_eng_float_format()</span></code> that would prevent NaN and Inf from formatting (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11981">GH11981</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.unstack</span></code> with <code class="docutils literal"><span class="pre">Categorical</span></code> dtype resets <code class="docutils literal"><span class="pre">.ordered</span></code> to <code class="docutils literal"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13249">GH13249</a>)</li>
<li>Clean some compile time warnings in datetime parsing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13607">GH13607</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">factorize</span></code> raises <code class="docutils literal"><span class="pre">AmbiguousTimeError</span></code> if data contains datetime near DST boundary (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13750">GH13750</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.set_index</span></code> raises <code class="docutils literal"><span class="pre">AmbiguousTimeError</span></code> if new index contains DST boundary and multi levels (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12920">GH12920</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.shift</span></code> raises <code class="docutils literal"><span class="pre">AmbiguousTimeError</span></code> if data contains datetime near DST boundary (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13926">GH13926</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_hdf()</span></code> returns incorrect result when a <code class="docutils literal"><span class="pre">DataFrame</span></code> with a <code class="docutils literal"><span class="pre">categorical</span></code> column and a query which doesn&#8217;t match any values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13792">GH13792</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.iloc</span></code> when indexing with a non lex-sorted MultiIndex (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13797">GH13797</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.loc</span></code> when indexing with date strings in a reverse sorted <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14316">GH14316</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series</span></code> comparison operators when dealing with zero dim NumPy arrays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13006">GH13006</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.combine_first</span></code> may return incorrect <code class="docutils literal"><span class="pre">dtype</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7630">GH7630</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10567">GH10567</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby</span></code> where <code class="docutils literal"><span class="pre">apply</span></code> returns different result depending on whether first result is <code class="docutils literal"><span class="pre">None</span></code> or not (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12824">GH12824</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby(..).nth()</span></code> where the group key is included inconsistently if called after <code class="docutils literal"><span class="pre">.head()/.tail()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12839">GH12839</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.to_html</span></code>, <code class="docutils literal"><span class="pre">.to_latex</span></code> and <code class="docutils literal"><span class="pre">.to_string</span></code> silently ignore custom datetime formatter passed through the <code class="docutils literal"><span class="pre">formatters</span></code> key word (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10690">GH10690</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.iterrows()</span></code>, not yielding a <code class="docutils literal"><span class="pre">Series</span></code> subclasse if defined (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13977">GH13977</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.to_numeric</span></code> when <code class="docutils literal"><span class="pre">errors='coerce'</span></code> and input contains non-hashable objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13324">GH13324</a>)</li>
<li>Bug in invalid <code class="docutils literal"><span class="pre">Timedelta</span></code> arithmetic and comparison may raise <code class="docutils literal"><span class="pre">ValueError</span></code> rather than <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13624">GH13624</a>)</li>
<li>Bug in invalid datetime parsing in <code class="docutils literal"><span class="pre">to_datetime</span></code> and <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> may raise <code class="docutils literal"><span class="pre">TypeError</span></code> rather than <code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11169">GH11169</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11287">GH11287</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index</span></code> created with tz-aware <code class="docutils literal"><span class="pre">Timestamp</span></code> and mismatched <code class="docutils literal"><span class="pre">tz</span></code> option incorrectly coerces timezone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13692">GH13692</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> with nanosecond frequency does not include timestamp specified with <code class="docutils literal"><span class="pre">end</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13672">GH13672</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">`Series`</span></code> when setting a slice with a <code class="docutils literal"><span class="pre">`np.timedelta64`</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14155">GH14155</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index</span></code> raises <code class="docutils literal"><span class="pre">OutOfBoundsDatetime</span></code> if <code class="docutils literal"><span class="pre">datetime</span></code> exceeds <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> bounds, rather than coercing to <code class="docutils literal"><span class="pre">object</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13663">GH13663</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index</span></code> may ignore specified <code class="docutils literal"><span class="pre">datetime64</span></code> or <code class="docutils literal"><span class="pre">timedelta64</span></code> passed as <code class="docutils literal"><span class="pre">dtype</span></code>  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13981">GH13981</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">RangeIndex</span></code> can be created without no arguments rather than raises <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13793">GH13793</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.value_counts()</span></code> raises <code class="docutils literal"><span class="pre">OutOfBoundsDatetime</span></code> if data exceeds <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> bounds (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13663">GH13663</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> may raise <code class="docutils literal"><span class="pre">OutOfBoundsDatetime</span></code> if input <code class="docutils literal"><span class="pre">np.datetime64</span></code> has other unit than <code class="docutils literal"><span class="pre">ns</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9114">GH9114</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series</span></code> creation with <code class="docutils literal"><span class="pre">np.datetime64</span></code> which has other unit than <code class="docutils literal"><span class="pre">ns</span></code> as <code class="docutils literal"><span class="pre">object</span></code> dtype results in incorrect values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13876">GH13876</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">resample</span></code> with timedelta data where data was casted to float (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13119">GH13119</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.isnull()</span></code> <code class="docutils literal"><span class="pre">pd.notnull()</span></code> raise <code class="docutils literal"><span class="pre">TypeError</span></code> if input datetime-like has other unit than <code class="docutils literal"><span class="pre">ns</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13389">GH13389</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.merge()</span></code> may raise <code class="docutils literal"><span class="pre">TypeError</span></code> if input datetime-like has other unit than <code class="docutils literal"><span class="pre">ns</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13389">GH13389</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">HDFStore</span></code>/<code class="docutils literal"><span class="pre">read_hdf()</span></code> discarded <code class="docutils literal"><span class="pre">DatetimeIndex.name</span></code> if <code class="docutils literal"><span class="pre">tz</span></code> was set (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13884">GH13884</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Categorical.remove_unused_categories()</span></code> changes <code class="docutils literal"><span class="pre">.codes</span></code> dtype to platform int (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13261">GH13261</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby</span></code> with <code class="docutils literal"><span class="pre">as_index=False</span></code> returns all NaN&#8217;s when grouping on multiple columns including a categorical one (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13204">GH13204</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">df.groupby(...)[...]</span></code> where getitem with <code class="docutils literal"><span class="pre">Int64Index</span></code> raised an error (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13731">GH13731</a>)</li>
<li>Bug in the CSS classes assigned to <code class="docutils literal"><span class="pre">DataFrame.style</span></code> for index names. Previously they were assigned <code class="docutils literal"><span class="pre">&quot;col_heading</span> <span class="pre">level&lt;n&gt;</span> <span class="pre">col&lt;c&gt;&quot;</span></code> where <code class="docutils literal"><span class="pre">n</span></code> was the number of levels + 1. Now they are assigned <code class="docutils literal"><span class="pre">&quot;index_name</span> <span class="pre">level&lt;n&gt;&quot;</span></code>, where <code class="docutils literal"><span class="pre">n</span></code> is the correct level for that MultiIndex.</li>
<li>Bug where <code class="docutils literal"><span class="pre">pd.read_gbq()</span></code> could throw <code class="docutils literal"><span class="pre">ImportError:</span> <span class="pre">No</span> <span class="pre">module</span> <span class="pre">named</span> <span class="pre">discovery</span></code> as a result of a naming conflict with another python package called apiclient  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13454">GH13454</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index.union</span></code> returns an incorrect result with a named empty index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13432">GH13432</a>)</li>
<li>Bugs in <code class="docutils literal"><span class="pre">Index.difference</span></code> and <code class="docutils literal"><span class="pre">DataFrame.join</span></code> raise in Python3 when using mixed-integer indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13432">GH13432</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12814">GH12814</a>)</li>
<li>Bug in subtract tz-aware <code class="docutils literal"><span class="pre">datetime.datetime</span></code> from tz-aware <code class="docutils literal"><span class="pre">datetime64</span></code> series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14088">GH14088</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.to_excel()</span></code> when DataFrame contains a MultiIndex which contains a label with a NaN value (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13511">GH13511</a>)</li>
<li>Bug in invalid frequency offset string like &#8220;D1&#8221;, &#8220;-2-3H&#8221; may not raise <code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13930">GH13930</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">concat</span></code> and <code class="docutils literal"><span class="pre">groupby</span></code> for hierarchical frames with <code class="docutils literal"><span class="pre">RangeIndex</span></code> levels (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13542">GH13542</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.str.contains()</span></code> for Series containing only <code class="docutils literal"><span class="pre">NaN</span></code> values of <code class="docutils literal"><span class="pre">object</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14171">GH14171</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">agg()</span></code> function on groupby dataframe changes dtype of <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> column to <code class="docutils literal"><span class="pre">float64</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12821">GH12821</a>)</li>
<li>Bug in using NumPy ufunc with <code class="docutils literal"><span class="pre">PeriodIndex</span></code> to add or subtract integer raise <code class="docutils literal"><span class="pre">IncompatibleFrequency</span></code>. Note that using standard operator like <code class="docutils literal"><span class="pre">+</span></code> or <code class="docutils literal"><span class="pre">-</span></code> is recommended, because standard operators use more efficient path (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13980">GH13980</a>)</li>
<li>Bug in operations on <code class="docutils literal"><span class="pre">NaT</span></code> returning <code class="docutils literal"><span class="pre">float</span></code> instead of <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12941">GH12941</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series</span></code> flexible arithmetic methods (like <code class="docutils literal"><span class="pre">.add()</span></code>) raises <code class="docutils literal"><span class="pre">ValueError</span></code> when <code class="docutils literal"><span class="pre">axis=None</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13894">GH13894</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_csv()</span></code> with <code class="docutils literal"><span class="pre">MultiIndex</span></code> columns in which a stray empty line was added (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6618">GH6618</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code>, <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex.equals()</span></code> may return <code class="docutils literal"><span class="pre">True</span></code> when input isn&#8217;t <code class="docutils literal"><span class="pre">Index</span></code> but contains the same values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13107">GH13107</a>)</li>
<li>Bug in assignment against datetime with timezone may not work if it contains datetime near DST boundary (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14146">GH14146</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.eval()</span></code> and <code class="docutils literal"><span class="pre">HDFStore</span></code> query truncating long float literals with python 2 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14241">GH14241</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index</span></code> raises <code class="docutils literal"><span class="pre">KeyError</span></code> displaying incorrect column when column is not in the df and columns contains duplicate values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13822">GH13822</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Period</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex</span></code> creating wrong dates when frequency has combined offset aliases (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13874">GH13874</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.to_string()</span></code> when called with an integer <code class="docutils literal"><span class="pre">line_width</span></code> and <code class="docutils literal"><span class="pre">index=False</span></code> raises an UnboundLocalError exception because <code class="docutils literal"><span class="pre">idx</span></code> referenced before assignment.</li>
<li>Bug in <code class="docutils literal"><span class="pre">eval()</span></code> where the <code class="docutils literal"><span class="pre">resolvers</span></code> argument would not accept a list (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14095">GH14095</a>)</li>
<li>Bugs in <code class="docutils literal"><span class="pre">stack</span></code>, <code class="docutils literal"><span class="pre">get_dummies</span></code>, <code class="docutils literal"><span class="pre">make_axis_dummies</span></code> which don&#8217;t preserve categorical dtypes in (multi)indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13854">GH13854</a>)</li>
<li><code class="docutils literal"><span class="pre">PeriodIndex</span></code> can now accept <code class="docutils literal"><span class="pre">list</span></code> and <code class="docutils literal"><span class="pre">array</span></code> which contains <code class="docutils literal"><span class="pre">pd.NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13430">GH13430</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">df.groupby</span></code> where <code class="docutils literal"><span class="pre">.median()</span></code> returns arbitrary values if grouped dataframe contains empty bins (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13629">GH13629</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index.copy()</span></code> where <code class="docutils literal"><span class="pre">name</span></code> parameter was ignored (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/14302">GH14302</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v0-18-1-may-3-2016">
<span id="whatsnew-0181"></span><h2>v0.18.1 (May 3, 2016)<a class="headerlink" href="#v0-18-1-may-3-2016" title="Permalink to this headline">¶</a></h2>
<p>This is a minor bug-fix release from 0.18.0 and includes a large number of
bug fixes along with several new features, enhancements, and performance improvements.
We recommend that all users upgrade to this version.</p>
<p>Highlights include:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">.groupby(...)</span></code> has been enhanced to provide convenient syntax when working with <code class="docutils literal"><span class="pre">.rolling(..)</span></code>, <code class="docutils literal"><span class="pre">.expanding(..)</span></code> and <code class="docutils literal"><span class="pre">.resample(..)</span></code> per group, see <a class="reference internal" href="#whatsnew-0181-deferred-ops"><span class="std std-ref">here</span></a></li>
<li><code class="docutils literal"><span class="pre">pd.to_datetime()</span></code> has gained the ability to assemble dates from a <code class="docutils literal"><span class="pre">DataFrame</span></code>, see <a class="reference internal" href="#whatsnew-0181-enhancements-assembling"><span class="std std-ref">here</span></a></li>
<li>Method chaining improvements, see <a class="reference internal" href="#whatsnew-0181-enhancements-method-chain"><span class="std std-ref">here</span></a>.</li>
<li>Custom business hour offset, see <a class="reference internal" href="#whatsnew-0181-enhancements-custombusinesshour"><span class="std std-ref">here</span></a>.</li>
<li>Many bug fixes in the handling of <code class="docutils literal"><span class="pre">sparse</span></code>, see <a class="reference internal" href="#whatsnew-0181-sparse"><span class="std std-ref">here</span></a></li>
<li>Expanded the <a class="reference internal" href="tutorials.html#tutorial-modern"><span class="std std-ref">Tutorials section</span></a> with a feature on modern pandas, courtesy of <a class="reference external" href="https://twitter.com/TomAugspurger">&#64;TomAugsburger</a>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13045">GH13045</a>).</li>
</ul>
<div class="contents local topic" id="what-s-new-in-v0-18-1">
<p class="topic-title first">What&#8217;s new in v0.18.1</p>
<ul class="simple">
<li><a class="reference internal" href="#whatsnew-0181-new-features" id="id177">New features</a><ul>
<li><a class="reference internal" href="#custom-business-hour" id="id178">Custom Business Hour</a></li>
<li><a class="reference internal" href="#groupby-syntax-with-window-and-resample-operations" id="id179"><code class="docutils literal"><span class="pre">.groupby(..)</span></code> syntax with window and resample operations</a></li>
<li><a class="reference internal" href="#method-chaininng-improvements" id="id180">Method chaininng improvements</a><ul>
<li><a class="reference internal" href="#where-and-mask" id="id181"><code class="docutils literal"><span class="pre">.where()</span></code> and <code class="docutils literal"><span class="pre">.mask()</span></code></a></li>
<li><a class="reference internal" href="#loc-iloc-ix" id="id182"><code class="docutils literal"><span class="pre">.loc[]</span></code>, <code class="docutils literal"><span class="pre">.iloc[]</span></code>, <code class="docutils literal"><span class="pre">.ix[]</span></code></a></li>
<li><a class="reference internal" href="#indexing" id="id183"><code class="docutils literal"><span class="pre">[]</span></code> indexing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#partial-string-indexing-on-datetimeindex-when-part-of-a-multiindex" id="id184">Partial string indexing on <code class="docutils literal"><span class="pre">DateTimeIndex</span></code> when part of a <code class="docutils literal"><span class="pre">MultiIndex</span></code></a></li>
<li><a class="reference internal" href="#assembling-datetimes" id="id185">Assembling Datetimes</a></li>
<li><a class="reference internal" href="#whatsnew-0181-other" id="id186">Other Enhancements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#whatsnew-0181-sparse" id="id187">Sparse changes</a></li>
<li><a class="reference internal" href="#whatsnew-0181-api" id="id188">API changes</a><ul>
<li><a class="reference internal" href="#groupby-nth-changes" id="id189"><code class="docutils literal"><span class="pre">.groupby(..).nth()</span></code> changes</a></li>
<li><a class="reference internal" href="#numpy-function-compatibility" id="id190">numpy function compatibility</a></li>
<li><a class="reference internal" href="#using-apply-on-groupby-resampling" id="id191">Using <code class="docutils literal"><span class="pre">.apply</span></code> on groupby resampling</a></li>
<li><a class="reference internal" href="#changes-in-read-csv-exceptions" id="id192">Changes in <code class="docutils literal"><span class="pre">read_csv</span></code> exceptions</a></li>
<li><a class="reference internal" href="#to-datetime-error-changes" id="id193"><code class="docutils literal"><span class="pre">to_datetime</span></code> error changes</a></li>
<li><a class="reference internal" href="#whatsnew-0181-api-other" id="id194">Other API changes</a></li>
<li><a class="reference internal" href="#whatsnew-0181-deprecations" id="id195">Deprecations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#whatsnew-0181-performance" id="id196">Performance Improvements</a></li>
<li><a class="reference internal" href="#whatsnew-0181-bug-fixes" id="id197">Bug Fixes</a></li>
</ul>
</div>
<div class="section" id="whatsnew-0181-new-features">
<span id="id5"></span><h3>New features<a class="headerlink" href="#whatsnew-0181-new-features" title="Permalink to this headline">¶</a></h3>
<div class="section" id="custom-business-hour">
<span id="whatsnew-0181-enhancements-custombusinesshour"></span><h4>Custom Business Hour<a class="headerlink" href="#custom-business-hour" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">CustomBusinessHour</span></code> is a mixture of <code class="docutils literal"><span class="pre">BusinessHour</span></code> and <code class="docutils literal"><span class="pre">CustomBusinessDay</span></code> which
allows you to specify arbitrary holidays. For details,
see <a class="reference internal" href="timeseries.html#timeseries-custombusinesshour"><span class="std std-ref">Custom Business Hour</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11514">GH11514</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">pandas.tseries.offsets</span> <span class="kn">import</span> <span class="n">CustomBusinessHour</span>

<span class="gp">In [2]: </span><span class="kn">from</span> <span class="nn">pandas.tseries.holiday</span> <span class="kn">import</span> <span class="n">USFederalHolidayCalendar</span>

<span class="gp">In [3]: </span><span class="n">bhour_us</span> <span class="o">=</span> <span class="n">CustomBusinessHour</span><span class="p">(</span><span class="n">calendar</span><span class="o">=</span><span class="n">USFederalHolidayCalendar</span><span class="p">())</span>
</pre></div>
</div>
<p>Friday before MLK Day</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>

<span class="gp">In [5]: </span><span class="n">dt</span> <span class="o">+</span> <span class="n">bhour_us</span>
<span class="gr">Out[5]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-01-17 16:00:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Tuesday after MLK Day (Monday is skipped because it&#8217;s a holiday)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">dt</span> <span class="o">+</span> <span class="n">bhour_us</span> <span class="o">*</span> <span class="mi">2</span>
<span class="gr">Out[6]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-01-20 09:00:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="groupby-syntax-with-window-and-resample-operations">
<span id="whatsnew-0181-deferred-ops"></span><h4><code class="docutils literal"><span class="pre">.groupby(..)</span></code> syntax with window and resample operations<a class="headerlink" href="#groupby-syntax-with-window-and-resample-operations" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">.groupby(...)</span></code> has been enhanced to provide convenient syntax when working with <code class="docutils literal"><span class="pre">.rolling(..)</span></code>, <code class="docutils literal"><span class="pre">.expanding(..)</span></code> and <code class="docutils literal"><span class="pre">.resample(..)</span></code> per group, see (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12486">GH12486</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12738">GH12738</a>).</p>
<p>You can now use <code class="docutils literal"><span class="pre">.rolling(..)</span></code> and <code class="docutils literal"><span class="pre">.expanding(..)</span></code> as methods on groupbys. These return another deferred object (similar to what <code class="docutils literal"><span class="pre">.rolling()</span></code> and <code class="docutils literal"><span class="pre">.expanding()</span></code> do on ungrouped pandas objects). You can then operate on these <code class="docutils literal"><span class="pre">RollingGroupby</span></code> objects in a similar manner.</p>
<p>Previously you would have to do this to get a rolling window mean per-group:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">20</span> <span class="o">+</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">12</span> <span class="o">+</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="mi">8</span><span class="p">,</span>
<span class="gp">   ...:</span>                    <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">40</span><span class="p">)})</span>
<span class="gp">   ...:</span> 

<span class="gp">In [8]: </span><span class="n">df</span>
<span class="gr">Out[8]: </span>
<span class="go">    A   B</span>
<span class="go">0   1   0</span>
<span class="go">1   1   1</span>
<span class="go">2   1   2</span>
<span class="go">3   1   3</span>
<span class="go">4   1   4</span>
<span class="go">5   1   5</span>
<span class="go">6   1   6</span>
<span class="go">.. ..  ..</span>
<span class="go">33  3  33</span>
<span class="go">34  3  34</span>
<span class="go">35  3  35</span>
<span class="go">36  3  36</span>
<span class="go">37  3  37</span>
<span class="go">38  3  38</span>
<span class="go">39  3  39</span>

<span class="go">[40 rows x 2 columns]</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">B</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
<span class="gr">Out[9]: </span>
<span class="go">A    </span>
<span class="go">1  0      NaN</span>
<span class="go">   1      NaN</span>
<span class="go">   2      NaN</span>
<span class="go">   3      1.5</span>
<span class="go">   4      2.5</span>
<span class="go">   5      3.5</span>
<span class="go">   6      4.5</span>
<span class="go">         ... </span>
<span class="go">3  33     NaN</span>
<span class="go">   34     NaN</span>
<span class="go">   35    33.5</span>
<span class="go">   36    34.5</span>
<span class="go">   37    35.5</span>
<span class="go">   38    36.5</span>
<span class="go">   39    37.5</span>
<span class="go">Name: B, dtype: float64</span>
</pre></div>
</div>
<p>Now you can do:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [10]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">B</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gr">Out[10]: </span>
<span class="go">A    </span>
<span class="go">1  0      NaN</span>
<span class="go">   1      NaN</span>
<span class="go">   2      NaN</span>
<span class="go">   3      1.5</span>
<span class="go">   4      2.5</span>
<span class="go">   5      3.5</span>
<span class="go">   6      4.5</span>
<span class="go">         ... </span>
<span class="go">3  33     NaN</span>
<span class="go">   34     NaN</span>
<span class="go">   35    33.5</span>
<span class="go">   36    34.5</span>
<span class="go">   37    35.5</span>
<span class="go">   38    36.5</span>
<span class="go">   39    37.5</span>
<span class="go">Name: B, dtype: float64</span>
</pre></div>
</div>
<p>For <code class="docutils literal"><span class="pre">.resample(..)</span></code> type of operations, previously you would have to:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>                                          <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="gp">   ....:</span>                                          <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;W&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>                    <span class="s1">&#39;group&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">   ....:</span>                    <span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]})</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 

<span class="gp">In [12]: </span><span class="n">df</span>
<span class="gr">Out[12]: </span>
<span class="go">            group  val</span>
<span class="go">date                  </span>
<span class="go">2016-01-03      1    5</span>
<span class="go">2016-01-10      1    6</span>
<span class="go">2016-01-17      2    7</span>
<span class="go">2016-01-24      2    8</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;group&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;1D&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">ffill</span><span class="p">())</span>
<span class="gr">Out[13]: </span>
<span class="go">                  group  val</span>
<span class="go">group date                  </span>
<span class="go">1     2016-01-03      1    5</span>
<span class="go">      2016-01-04      1    5</span>
<span class="go">      2016-01-05      1    5</span>
<span class="go">      2016-01-06      1    5</span>
<span class="go">      2016-01-07      1    5</span>
<span class="go">      2016-01-08      1    5</span>
<span class="go">      2016-01-09      1    5</span>
<span class="go">...                 ...  ...</span>
<span class="go">2     2016-01-18      2    7</span>
<span class="go">      2016-01-19      2    7</span>
<span class="go">      2016-01-20      2    7</span>
<span class="go">      2016-01-21      2    7</span>
<span class="go">      2016-01-22      2    7</span>
<span class="go">      2016-01-23      2    7</span>
<span class="go">      2016-01-24      2    8</span>

<span class="go">[16 rows x 2 columns]</span>
</pre></div>
</div>
<p>Now you can do:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [14]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;group&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;1D&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span>
<span class="gr">Out[14]: </span>
<span class="go">                  group  val</span>
<span class="go">group date                  </span>
<span class="go">1     2016-01-03      1    5</span>
<span class="go">      2016-01-04      1    5</span>
<span class="go">      2016-01-05      1    5</span>
<span class="go">      2016-01-06      1    5</span>
<span class="go">      2016-01-07      1    5</span>
<span class="go">      2016-01-08      1    5</span>
<span class="go">      2016-01-09      1    5</span>
<span class="go">...                 ...  ...</span>
<span class="go">2     2016-01-18      2    7</span>
<span class="go">      2016-01-19      2    7</span>
<span class="go">      2016-01-20      2    7</span>
<span class="go">      2016-01-21      2    7</span>
<span class="go">      2016-01-22      2    7</span>
<span class="go">      2016-01-23      2    7</span>
<span class="go">      2016-01-24      2    8</span>

<span class="go">[16 rows x 2 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="method-chaininng-improvements">
<span id="whatsnew-0181-enhancements-method-chain"></span><h4>Method chaininng improvements<a class="headerlink" href="#method-chaininng-improvements" title="Permalink to this headline">¶</a></h4>
<p>The following methods / indexers now accept a <code class="docutils literal"><span class="pre">callable</span></code>. It is intended to make
these more useful in method chains, see the <a class="reference internal" href="indexing.html#indexing-callable"><span class="std std-ref">documentation</span></a>.
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11485">GH11485</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12533">GH12533</a>)</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">.where()</span></code> and <code class="docutils literal"><span class="pre">.mask()</span></code></li>
<li><code class="docutils literal"><span class="pre">.loc[]</span></code>, <code class="docutils literal"><span class="pre">iloc[]</span></code> and <code class="docutils literal"><span class="pre">.ix[]</span></code></li>
<li><code class="docutils literal"><span class="pre">[]</span></code> indexing</li>
</ul>
<div class="section" id="where-and-mask">
<h5><code class="docutils literal"><span class="pre">.where()</span></code> and <code class="docutils literal"><span class="pre">.mask()</span></code><a class="headerlink" href="#where-and-mask" title="Permalink to this headline">¶</a></h5>
<p>These can accept a callable for the condition and <code class="docutils literal"><span class="pre">other</span></code>
arguments.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">   ....:</span>                    <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
<span class="gp">   ....:</span>                    <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]})</span>
<span class="gp">   ....:</span> 

<span class="gp">In [16]: </span><span class="n">df</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span>
<span class="gr">Out[16]: </span>
<span class="go">    A   B  C</span>
<span class="go">0  11  14  7</span>
<span class="go">1  12   5  8</span>
<span class="go">2  13   6  9</span>
</pre></div>
</div>
</div>
<div class="section" id="loc-iloc-ix">
<h5><code class="docutils literal"><span class="pre">.loc[]</span></code>, <code class="docutils literal"><span class="pre">.iloc[]</span></code>, <code class="docutils literal"><span class="pre">.ix[]</span></code><a class="headerlink" href="#loc-iloc-ix" title="Permalink to this headline">¶</a></h5>
<p>These can accept a callable, and a tuple of callable as a slicer. The callable
can return a valid boolean indexer or anything which is valid for these indexer&#8217;s input.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># callable returns bool indexer</span>
<span class="gp">In [17]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">A</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">]</span>
<span class="gr">Out[17]: </span>
<span class="go">   B  C</span>
<span class="go">1  5  8</span>
<span class="go">2  6  9</span>

<span class="c"># callable returns list of labels</span>
<span class="gp">In [18]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">]]</span>
<span class="gr">Out[18]: </span>
<span class="go">   A  B</span>
<span class="go">1  2  5</span>
<span class="go">2  3  6</span>
</pre></div>
</div>
</div>
<div class="section" id="indexing">
<h5><code class="docutils literal"><span class="pre">[]</span></code> indexing<a class="headerlink" href="#indexing" title="Permalink to this headline">¶</a></h5>
<p>Finally, you can use a callable in <code class="docutils literal"><span class="pre">[]</span></code> indexing of Series, DataFrame and Panel.
The callable must return a valid input for <code class="docutils literal"><span class="pre">[]</span></code> indexing depending on its
class and index type.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">df</span><span class="p">[</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">]</span>
<span class="gr">Out[19]: </span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">2    3</span>
<span class="go">Name: A, dtype: int64</span>
</pre></div>
</div>
<p>Using these methods / indexers, you can chain data selection operations
without using temporary variable.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [20]: </span><span class="n">bb</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/baseball.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>

<span class="gp">In [21]: </span><span class="p">(</span><span class="n">bb</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;team&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span>    <span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gp">   ....:</span>    <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">r</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">]</span>
<span class="gp">   ....:</span> <span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[21]: </span>
<span class="go">           stint    g    ab    r    h  X2b  X3b  hr    rbi    sb   cs   bb  \</span>
<span class="go">year team                                                                    </span>
<span class="go">2007 CIN       6  379   745  101  203   35    2  36  125.0  10.0  1.0  105   </span>
<span class="go">     DET       5  301  1062  162  283   54    4  37  144.0  24.0  7.0   97   </span>
<span class="go">     HOU       4  311   926  109  218   47    6  14   77.0  10.0  4.0   60   </span>
<span class="go">     LAN      11  413  1021  153  293   61    3  36  154.0   7.0  5.0  114   </span>
<span class="go">     NYN      13  622  1854  240  509  101    3  61  243.0  22.0  4.0  174   </span>
<span class="go">     SFN       5  482  1305  198  337   67    6  40  171.0  26.0  7.0  235   </span>
<span class="go">     TEX       2  198   729  115  200   40    4  28  115.0  21.0  4.0   73   </span>
<span class="go">     TOR       4  459  1408  187  378   96    2  58  223.0   4.0  2.0  190   </span>

<span class="go">              so   ibb   hbp    sh    sf  gidp  </span>
<span class="go">year team                                       </span>
<span class="go">2007 CIN   127.0  14.0   1.0   1.0  15.0  18.0  </span>
<span class="go">     DET   176.0   3.0  10.0   4.0   8.0  28.0  </span>
<span class="go">     HOU   212.0   3.0   9.0  16.0   6.0  17.0  </span>
<span class="go">     LAN   141.0   8.0   9.0   3.0   8.0  29.0  </span>
<span class="go">     NYN   310.0  24.0  23.0  18.0  15.0  48.0  </span>
<span class="go">     SFN   188.0  51.0   8.0  16.0   6.0  41.0  </span>
<span class="go">     TEX   140.0   4.0   5.0   2.0   8.0  16.0  </span>
<span class="go">     TOR   265.0  16.0  12.0   4.0  16.0  38.0  </span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="partial-string-indexing-on-datetimeindex-when-part-of-a-multiindex">
<span id="whatsnew-0181-partial-string-indexing"></span><h4>Partial string indexing on <code class="docutils literal"><span class="pre">DateTimeIndex</span></code> when part of a <code class="docutils literal"><span class="pre">MultiIndex</span></code><a class="headerlink" href="#partial-string-indexing-on-datetimeindex-when-part-of-a-multiindex" title="Permalink to this headline">¶</a></h4>
<p>Partial string indexing now matches on <code class="docutils literal"><span class="pre">DateTimeIndex</span></code> when part of a <code class="docutils literal"><span class="pre">MultiIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10331">GH10331</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [22]: </span><span class="n">dft2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">   ....:</span>                     <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>                     <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>                                                                     <span class="n">periods</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="gp">   ....:</span>                                                                     <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;12H&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>                                                      <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]]))</span>
<span class="gp">   ....:</span> 

<span class="gp">In [23]: </span><span class="n">dft2</span>
<span class="gr">Out[23]: </span>
<span class="go">                              A</span>
<span class="go">2013-01-01 00:00:00 a  1.474071</span>
<span class="go">                    b -0.064034</span>
<span class="go">2013-01-01 12:00:00 a -1.282782</span>
<span class="go">                    b  0.781836</span>
<span class="go">2013-01-02 00:00:00 a -1.071357</span>
<span class="go">                    b  0.441153</span>
<span class="go">2013-01-02 12:00:00 a  2.353925</span>
<span class="go">...                         ...</span>
<span class="go">2013-01-04 00:00:00 b -0.845696</span>
<span class="go">2013-01-04 12:00:00 a -1.340896</span>
<span class="go">                    b  1.846883</span>
<span class="go">2013-01-05 00:00:00 a -1.328865</span>
<span class="go">                    b  1.682706</span>
<span class="go">2013-01-05 12:00:00 a -1.717693</span>
<span class="go">                    b  0.888782</span>

<span class="go">[20 rows x 1 columns]</span>

<span class="gp">In [24]: </span><span class="n">dft2</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;2013-01-05&#39;</span><span class="p">]</span>
<span class="gr">Out[24]: </span>
<span class="go">                              A</span>
<span class="go">2013-01-05 00:00:00 a -1.328865</span>
<span class="go">                    b  1.682706</span>
<span class="go">2013-01-05 12:00:00 a -1.717693</span>
<span class="go">                    b  0.888782</span>
</pre></div>
</div>
<p>On other levels</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [25]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span>

<span class="gp">In [26]: </span><span class="n">dft2</span> <span class="o">=</span> <span class="n">dft2</span><span class="o">.</span><span class="n">swaplevel</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>

<span class="gp">In [27]: </span><span class="n">dft2</span>
<span class="gr">Out[27]: </span>
<span class="go">                              A</span>
<span class="go">a 2013-01-01 00:00:00  1.474071</span>
<span class="go">  2013-01-01 12:00:00 -1.282782</span>
<span class="go">  2013-01-02 00:00:00 -1.071357</span>
<span class="go">  2013-01-02 12:00:00  2.353925</span>
<span class="go">  2013-01-03 00:00:00  0.221471</span>
<span class="go">  2013-01-03 12:00:00  0.758527</span>
<span class="go">  2013-01-04 00:00:00 -0.964980</span>
<span class="go">...                         ...</span>
<span class="go">b 2013-01-02 12:00:00  0.583787</span>
<span class="go">  2013-01-03 00:00:00 -0.744471</span>
<span class="go">  2013-01-03 12:00:00  1.729689</span>
<span class="go">  2013-01-04 00:00:00 -0.845696</span>
<span class="go">  2013-01-04 12:00:00  1.846883</span>
<span class="go">  2013-01-05 00:00:00  1.682706</span>
<span class="go">  2013-01-05 12:00:00  0.888782</span>

<span class="go">[20 rows x 1 columns]</span>

<span class="gp">In [28]: </span><span class="n">dft2</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">[:,</span> <span class="s1">&#39;2013-01-05&#39;</span><span class="p">],</span> <span class="p">:]</span>
<span class="gr">Out[28]: </span>
<span class="go">                              A</span>
<span class="go">a 2013-01-05 00:00:00 -1.328865</span>
<span class="go">  2013-01-05 12:00:00 -1.717693</span>
<span class="go">b 2013-01-05 00:00:00  1.682706</span>
<span class="go">  2013-01-05 12:00:00  0.888782</span>
</pre></div>
</div>
</div>
<div class="section" id="assembling-datetimes">
<span id="whatsnew-0181-enhancements-assembling"></span><h4>Assembling Datetimes<a class="headerlink" href="#assembling-datetimes" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">pd.to_datetime()</span></code> has gained the ability to assemble datetimes from a passed in <code class="docutils literal"><span class="pre">DataFrame</span></code> or a dict. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8158">GH8158</a>).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [29]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">2016</span><span class="p">],</span>
<span class="gp">   ....:</span>                    <span class="s1">&#39;month&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">   ....:</span>                    <span class="s1">&#39;day&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">   ....:</span>                    <span class="s1">&#39;hour&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>
<span class="gp">   ....:</span> 

<span class="gp">In [30]: </span><span class="n">df</span>
<span class="gr">Out[30]: </span>
<span class="go">   day  hour  month  year</span>
<span class="go">0    4     2      2  2015</span>
<span class="go">1    5     3      3  2016</span>
</pre></div>
</div>
<p>Assembling using the passed frame.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [31]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gr">Out[31]: </span>
<span class="go">0   2015-02-04 02:00:00</span>
<span class="go">1   2016-03-05 03:00:00</span>
<span class="go">dtype: datetime64[ns]</span>
</pre></div>
</div>
<p>You can pass only the columns that you need to assemble.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [32]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;month&#39;</span><span class="p">,</span> <span class="s1">&#39;day&#39;</span><span class="p">]])</span>
<span class="gr">Out[32]: </span>
<span class="go">0   2015-02-04</span>
<span class="go">1   2016-03-05</span>
<span class="go">dtype: datetime64[ns]</span>
</pre></div>
</div>
</div>
<div class="section" id="whatsnew-0181-other">
<span id="id6"></span><h4>Other Enhancements<a class="headerlink" href="#whatsnew-0181-other" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_csv()</span></code> now supports <code class="docutils literal"><span class="pre">delim_whitespace=True</span></code> for the Python engine (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12958">GH12958</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_csv()</span></code> now supports opening ZIP files that contains a single CSV, via extension inference or explict <code class="docutils literal"><span class="pre">compression='zip'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12175">GH12175</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_csv()</span></code> now supports opening files using xz compression, via extension inference or explicit <code class="docutils literal"><span class="pre">compression='xz'</span></code> is specified; <code class="docutils literal"><span class="pre">xz</span></code> compressions is also supported by <code class="docutils literal"><span class="pre">DataFrame.to_csv</span></code> in the same way (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11852">GH11852</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_msgpack()</span></code> now always gives writeable ndarrays even when compression is used (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12359">GH12359</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_msgpack()</span></code> now supports serializing and de-serializing categoricals with msgpack (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12573">GH12573</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">.to_json()</span></code> now supports <code class="docutils literal"><span class="pre">NDFrames</span></code> that contain categorical and sparse data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10778">GH10778</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">interpolate()</span></code> now supports <code class="docutils literal"><span class="pre">method='akima'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7588">GH7588</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_excel()</span></code> now accepts path objects (e.g. <code class="docutils literal"><span class="pre">pathlib.Path</span></code>, <code class="docutils literal"><span class="pre">py.path.local</span></code>) for the file path, in line with other <code class="docutils literal"><span class="pre">read_*</span></code> functions (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12655">GH12655</a>)</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">.weekday_name</span></code> property as a component to <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> and the <code class="docutils literal"><span class="pre">.dt</span></code> accessor. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11128">GH11128</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Index.take</span></code> now handles <code class="docutils literal"><span class="pre">allow_fill</span></code> and <code class="docutils literal"><span class="pre">fill_value</span></code> consistently (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12631">GH12631</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [33]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>

<span class="c"># default, allow_fill=True, fill_value=None</span>
<span class="gp">In [34]: </span><span class="n">idx</span><span class="o">.</span><span class="n">take</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gr">Out[34]: </span><span class="n">Float64Index</span><span class="p">([</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>

<span class="gp">In [35]: </span><span class="n">idx</span><span class="o">.</span><span class="n">take</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">fill_value</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[35]: </span><span class="n">Float64Index</span><span class="p">([</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Index</span></code> now supports <code class="docutils literal"><span class="pre">.str.get_dummies()</span></code> which returns <code class="docutils literal"><span class="pre">MultiIndex</span></code>, see <a class="reference internal" href="text.html#text-indicator"><span class="std std-ref">Creating Indicator Variables</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10008">GH10008</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10103">GH10103</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [36]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a|b&#39;</span><span class="p">,</span> <span class="s1">&#39;a|c&#39;</span><span class="p">,</span> <span class="s1">&#39;b|c&#39;</span><span class="p">])</span>

<span class="gp">In [37]: </span><span class="n">idx</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">)</span>
<span class="gr">Out[37]: </span>
<span class="go">MultiIndex(levels=[[0, 1], [0, 1], [0, 1]],</span>
<span class="go">           labels=[[1, 1, 0], [1, 0, 1], [0, 1, 1]],</span>
<span class="go">           names=[u&#39;a&#39;, u&#39;b&#39;, u&#39;c&#39;])</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.crosstab()</span></code> has gained a <code class="docutils literal"><span class="pre">normalize</span></code> argument for normalizing frequency tables (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12569">GH12569</a>). Examples in the updated docs <a class="reference internal" href="reshaping.html#reshaping-crosstabulations"><span class="std std-ref">here</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">.resample(..).interpolate()</span></code> is now supported (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12925">GH12925</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">.isin()</span></code> now accepts passed <code class="docutils literal"><span class="pre">sets</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12988">GH12988</a>)</p>
</li>
</ul>
</div>
</div>
<div class="section" id="whatsnew-0181-sparse">
<span id="id7"></span><h3>Sparse changes<a class="headerlink" href="#whatsnew-0181-sparse" title="Permalink to this headline">¶</a></h3>
<p>These changes conform sparse handling to return the correct types and work to make a smoother experience with indexing.</p>
<p><code class="docutils literal"><span class="pre">SparseArray.take</span></code> now returns a scalar for scalar input, <code class="docutils literal"><span class="pre">SparseArray</span></code> for others. Furthermore, it handles a negative indexer with the same rule as <code class="docutils literal"><span class="pre">Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10560">GH10560</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12796">GH12796</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [38]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">SparseArray</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>

<span class="gp">In [39]: </span><span class="n">s</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[39]: </span><span class="n">nan</span>

<span class="gp">In [40]: </span><span class="n">s</span><span class="o">.</span><span class="n">take</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gr">Out[40]: </span>
<span class="go">[nan, 1.0, 2.0]</span>
<span class="go">Fill: nan</span>
<span class="go">IntIndex</span>
<span class="go">Indices: array([1, 2], dtype=int32)</span>
</pre></div>
</div>
<ul class="simple">
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries[]</span></code> indexing with <code class="docutils literal"><span class="pre">Ellipsis</span></code> raises <code class="docutils literal"><span class="pre">KeyError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9467">GH9467</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseArray[]</span></code> indexing with tuples are not handled properly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12966">GH12966</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries.loc[]</span></code> with list-like input raises <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10560">GH10560</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries.iloc[]</span></code> with scalar input may raise <code class="docutils literal"><span class="pre">IndexError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10560">GH10560</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries.loc[]</span></code>, <code class="docutils literal"><span class="pre">.iloc[]</span></code> with <code class="docutils literal"><span class="pre">slice</span></code> returns <code class="docutils literal"><span class="pre">SparseArray</span></code>, rather than <code class="docutils literal"><span class="pre">SparseSeries</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10560">GH10560</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseDataFrame.loc[]</span></code>, <code class="docutils literal"><span class="pre">.iloc[]</span></code> may results in dense <code class="docutils literal"><span class="pre">Series</span></code>, rather than <code class="docutils literal"><span class="pre">SparseSeries</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12787">GH12787</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseArray</span></code> addition ignores <code class="docutils literal"><span class="pre">fill_value</span></code> of right hand side (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12910">GH12910</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseArray</span></code> mod raises <code class="docutils literal"><span class="pre">AttributeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12910">GH12910</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseArray</span></code> pow calculates <code class="docutils literal"><span class="pre">1</span> <span class="pre">**</span> <span class="pre">np.nan</span></code> as <code class="docutils literal"><span class="pre">np.nan</span></code> which must be 1 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12910">GH12910</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseArray</span></code> comparison output may incorrect result or raise <code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12971">GH12971</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries.__repr__</span></code> raises <code class="docutils literal"><span class="pre">TypeError</span></code> when it is longer than <code class="docutils literal"><span class="pre">max_rows</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10560">GH10560</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries.shape</span></code> ignores <code class="docutils literal"><span class="pre">fill_value</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10452">GH10452</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries</span></code> and <code class="docutils literal"><span class="pre">SparseArray</span></code> may have different <code class="docutils literal"><span class="pre">dtype</span></code> from its dense values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12908">GH12908</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries.reindex</span></code> incorrectly handle <code class="docutils literal"><span class="pre">fill_value</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12797">GH12797</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseArray.to_frame()</span></code> results in <code class="docutils literal"><span class="pre">DataFrame</span></code>, rather than <code class="docutils literal"><span class="pre">SparseDataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9850">GH9850</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries.value_counts()</span></code> does not count <code class="docutils literal"><span class="pre">fill_value</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6749">GH6749</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseArray.to_dense()</span></code> does not preserve <code class="docutils literal"><span class="pre">dtype</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10648">GH10648</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseArray.to_dense()</span></code> incorrectly handle <code class="docutils literal"><span class="pre">fill_value</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12797">GH12797</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.concat()</span></code> of <code class="docutils literal"><span class="pre">SparseSeries</span></code> results in dense (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10536">GH10536</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.concat()</span></code> of <code class="docutils literal"><span class="pre">SparseDataFrame</span></code> incorrectly handle <code class="docutils literal"><span class="pre">fill_value</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9765">GH9765</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.concat()</span></code> of <code class="docutils literal"><span class="pre">SparseDataFrame</span></code> may raise <code class="docutils literal"><span class="pre">AttributeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12174">GH12174</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseArray.shift()</span></code> may raise <code class="docutils literal"><span class="pre">NameError</span></code> or <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12908">GH12908</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0181-api">
<span id="id8"></span><h3>API changes<a class="headerlink" href="#whatsnew-0181-api" title="Permalink to this headline">¶</a></h3>
<div class="section" id="groupby-nth-changes">
<span id="whatsnew-0181-api-groubynth"></span><h4><code class="docutils literal"><span class="pre">.groupby(..).nth()</span></code> changes<a class="headerlink" href="#groupby-nth-changes" title="Permalink to this headline">¶</a></h4>
<p>The index in <code class="docutils literal"><span class="pre">.groupby(..).nth()</span></code> output is now more consistent when the <code class="docutils literal"><span class="pre">as_index</span></code> argument is passed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11039">GH11039</a>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [41]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>                 <span class="s1">&#39;B&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>
<span class="gp">   ....:</span> 

<span class="gp">In [42]: </span><span class="n">df</span>
<span class="gr">Out[42]: </span>
<span class="go">   A  B</span>
<span class="go">0  a  1</span>
<span class="go">1  b  2</span>
<span class="go">2  a  3</span>
</pre></div>
</div>
<p>Previous Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="bp">True</span><span class="p">)[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Out[3]:</span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">Name: B, dtype: int64</span>

<span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Out[4]:</span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">Name: B, dtype: int64</span>
</pre></div>
</div>
<p>New Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [43]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="bp">True</span><span class="p">)[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[43]: </span>
<span class="go">A</span>
<span class="go">a    1</span>
<span class="go">b    2</span>
<span class="go">Name: B, dtype: int64</span>

<span class="gp">In [44]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[44]: </span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">Name: B, dtype: int64</span>
</pre></div>
</div>
<p>Furthermore, previously, a <code class="docutils literal"><span class="pre">.groupby</span></code> would always sort, regardless if <code class="docutils literal"><span class="pre">sort=False</span></code> was passed with <code class="docutils literal"><span class="pre">.nth()</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [45]: </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1234</span><span class="p">)</span>

<span class="gp">In [46]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span>

<span class="gp">In [47]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>Previous Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Out[4]:</span>
<span class="go">          a         b</span>
<span class="go">c</span>
<span class="go">0 -0.334077  0.002118</span>
<span class="go">1  0.036142 -2.074978</span>
<span class="go">2 -0.720589  0.887163</span>
<span class="go">3  0.859588 -0.636524</span>

<span class="gp">In [5]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Out[5]:</span>
<span class="go">          a         b</span>
<span class="go">c</span>
<span class="go">0 -0.334077  0.002118</span>
<span class="go">1  0.036142 -2.074978</span>
<span class="go">2 -0.720589  0.887163</span>
<span class="go">3  0.859588 -0.636524</span>
</pre></div>
</div>
<p>New Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [48]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gr">Out[48]: </span>
<span class="go">          a         b</span>
<span class="go">c                    </span>
<span class="go">0 -0.334077  0.002118</span>
<span class="go">1  0.036142 -2.074978</span>
<span class="go">2 -0.720589  0.887163</span>
<span class="go">3  0.859588 -0.636524</span>

<span class="gp">In [49]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gr">Out[49]: </span>
<span class="go">          a         b</span>
<span class="go">c                    </span>
<span class="go">2 -0.720589  0.887163</span>
<span class="go">3  0.859588 -0.636524</span>
<span class="go">0 -0.334077  0.002118</span>
<span class="go">1  0.036142 -2.074978</span>
</pre></div>
</div>
</div>
<div class="section" id="numpy-function-compatibility">
<span id="whatsnew-0181-numpy-compatibility"></span><h4>numpy function compatibility<a class="headerlink" href="#numpy-function-compatibility" title="Permalink to this headline">¶</a></h4>
<p>Compatibility between pandas array-like methods (e.g. <code class="docutils literal"><span class="pre">sum</span></code> and <code class="docutils literal"><span class="pre">take</span></code>) and their <code class="docutils literal"><span class="pre">numpy</span></code>
counterparts has been greatly increased by augmenting the signatures of the <code class="docutils literal"><span class="pre">pandas</span></code> methods so
as to accept arguments that can be passed in from <code class="docutils literal"><span class="pre">numpy</span></code>, even if they are not necessarily
used in the <code class="docutils literal"><span class="pre">pandas</span></code> implementation (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12644">GH12644</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12638">GH12638</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12687">GH12687</a>)</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">.searchsorted()</span></code> for <code class="docutils literal"><span class="pre">Index</span></code> and <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> now accept a <code class="docutils literal"><span class="pre">sorter</span></code> argument to maintain compatibility with numpy&#8217;s <code class="docutils literal"><span class="pre">searchsorted</span></code> function (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12238">GH12238</a>)</li>
<li>Bug in numpy compatibility of <code class="docutils literal"><span class="pre">np.round()</span></code> on a <code class="docutils literal"><span class="pre">Series</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12600">GH12600</a>)</li>
</ul>
<p>An example of this signature augmentation is illustrated below:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [50]: </span><span class="n">sp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">SparseDataFrame</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

<span class="gp">In [51]: </span><span class="n">sp</span>
<span class="gr">Out[51]: </span>
<span class="go">   0</span>
<span class="go">0  1</span>
<span class="go">1  2</span>
<span class="go">2  3</span>
</pre></div>
</div>
<p>Previous behaviour:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">sp</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">...</span>
<span class="go">TypeError: cumsum() takes at most 2 arguments (4 given)</span>
</pre></div>
</div>
<p>New behaviour:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [52]: </span><span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">sp</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[52]: </span>
<span class="go">   0</span>
<span class="go">0  1</span>
<span class="go">1  3</span>
<span class="go">2  6</span>
</pre></div>
</div>
</div>
<div class="section" id="using-apply-on-groupby-resampling">
<span id="whatsnew-0181-apply-resample"></span><h4>Using <code class="docutils literal"><span class="pre">.apply</span></code> on groupby resampling<a class="headerlink" href="#using-apply-on-groupby-resampling" title="Permalink to this headline">¶</a></h4>
<p>Using <code class="docutils literal"><span class="pre">apply</span></code> on resampling groupby operations (using a <code class="docutils literal"><span class="pre">pd.TimeGrouper</span></code>) now has the same output types as similar <code class="docutils literal"><span class="pre">apply</span></code> calls on other groupby operations. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11742">GH11742</a>).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [53]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="s1">&#39;10/10/2000&#39;</span><span class="p">,</span> <span class="s1">&#39;11/10/2000&#39;</span><span class="p">]),</span>
<span class="gp">   ....:</span>                   <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">13</span><span class="p">]})</span>
<span class="gp">   ....:</span> 

<span class="gp">In [54]: </span><span class="n">df</span>
<span class="gr">Out[54]: </span>
<span class="go">        date  value</span>
<span class="go">0 2000-10-10     10</span>
<span class="go">1 2000-11-10     13</span>
</pre></div>
</div>
<p>Previous behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">TimeGrouper</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="go">Out[1]:</span>
<span class="go">...</span>
<span class="go">TypeError: cannot concatenate a non-NDFrame object</span>

<span class="c"># Output is a Series</span>
<span class="gp">In [2]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">TimeGrouper</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[[</span><span class="s1">&#39;value&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="go">Out[2]:</span>
<span class="go">date</span>
<span class="go">2000-10-31  value    10</span>
<span class="go">2000-11-30  value    13</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>New Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># Output is a Series</span>
<span class="gp">In [55]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">TimeGrouper</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="gr">Out[55]: </span>
<span class="go">date</span>
<span class="go">2000-10-31    10</span>
<span class="go">2000-11-30    13</span>
<span class="go">Freq: M, dtype: int64</span>

<span class="c"># Output is a DataFrame</span>
<span class="gp">In [56]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">TimeGrouper</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[[</span><span class="s1">&#39;value&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="gr">Out[56]: </span>
<span class="go">            value</span>
<span class="go">date             </span>
<span class="go">2000-10-31     10</span>
<span class="go">2000-11-30     13</span>
</pre></div>
</div>
</div>
<div class="section" id="changes-in-read-csv-exceptions">
<span id="whatsnew-0181-read-csv-exceptions"></span><h4>Changes in <code class="docutils literal"><span class="pre">read_csv</span></code> exceptions<a class="headerlink" href="#changes-in-read-csv-exceptions" title="Permalink to this headline">¶</a></h4>
<p>In order to standardize the <code class="docutils literal"><span class="pre">read_csv</span></code> API for both the <code class="docutils literal"><span class="pre">c</span></code> and <code class="docutils literal"><span class="pre">python</span></code> engines, both will now raise an
<code class="docutils literal"><span class="pre">EmptyDataError</span></code>, a subclass of <code class="docutils literal"><span class="pre">ValueError</span></code>, in response to empty columns or header (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12493">GH12493</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12506">GH12506</a>)</p>
<p>Previous behaviour:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">),</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="go">...</span>
<span class="go">ValueError: No columns to parse from file</span>

<span class="gp">In [2]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">),</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;python&#39;</span><span class="p">)</span>
<span class="go">...</span>
<span class="go">StopIteration</span>
</pre></div>
</div>
<p>New behaviour:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">),</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="go">...</span>
<span class="go">pandas.io.common.EmptyDataError: No columns to parse from file</span>

<span class="gp">In [2]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">),</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;python&#39;</span><span class="p">)</span>
<span class="go">...</span>
<span class="go">pandas.io.common.EmptyDataError: No columns to parse from file</span>
</pre></div>
</div>
<p>In addition to this error change, several others have been made as well:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">CParserError</span></code> now sub-classes <code class="docutils literal"><span class="pre">ValueError</span></code> instead of just a <code class="docutils literal"><span class="pre">Exception</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12551">GH12551</a>)</li>
<li>A <code class="docutils literal"><span class="pre">CParserError</span></code> is now raised instead of a generic <code class="docutils literal"><span class="pre">Exception</span></code> in <code class="docutils literal"><span class="pre">read_csv</span></code> when the <code class="docutils literal"><span class="pre">c</span></code> engine cannot parse a column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12506">GH12506</a>)</li>
<li>A <code class="docutils literal"><span class="pre">ValueError</span></code> is now raised instead of a generic <code class="docutils literal"><span class="pre">Exception</span></code> in <code class="docutils literal"><span class="pre">read_csv</span></code> when the <code class="docutils literal"><span class="pre">c</span></code> engine encounters a <code class="docutils literal"><span class="pre">NaN</span></code> value in an integer column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12506">GH12506</a>)</li>
<li>A <code class="docutils literal"><span class="pre">ValueError</span></code> is now raised instead of a generic <code class="docutils literal"><span class="pre">Exception</span></code> in <code class="docutils literal"><span class="pre">read_csv</span></code> when <code class="docutils literal"><span class="pre">true_values</span></code> is specified, and the <code class="docutils literal"><span class="pre">c</span></code> engine encounters an element in a column containing unencodable bytes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12506">GH12506</a>)</li>
<li><code class="docutils literal"><span class="pre">pandas.parser.OverflowError</span></code> exception has been removed and has been replaced with Python&#8217;s built-in <code class="docutils literal"><span class="pre">OverflowError</span></code> exception (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12506">GH12506</a>)</li>
<li><code class="docutils literal"><span class="pre">pd.read_csv()</span></code> no longer allows a combination of strings and integers for the <code class="docutils literal"><span class="pre">usecols</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12678">GH12678</a>)</li>
</ul>
</div>
<div class="section" id="to-datetime-error-changes">
<span id="whatsnew-0181-api-to-datetime"></span><h4><code class="docutils literal"><span class="pre">to_datetime</span></code> error changes<a class="headerlink" href="#to-datetime-error-changes" title="Permalink to this headline">¶</a></h4>
<p>Bugs in <code class="docutils literal"><span class="pre">pd.to_datetime()</span></code> when passing a <code class="docutils literal"><span class="pre">unit</span></code> with convertible entries and <code class="docutils literal"><span class="pre">errors='coerce'</span></code> or non-convertible with <code class="docutils literal"><span class="pre">errors='ignore'</span></code>. Furthermore, an <code class="docutils literal"><span class="pre">OutOfBoundsDateime</span></code> exception will be raised when an out-of-range value is encountered for that unit when <code class="docutils literal"><span class="pre">errors='raise'</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11758">GH11758</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13052">GH13052</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13059">GH13059</a>)</p>
<p>Previous behaviour:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [27]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="mi">1420043460</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="gr">Out[27]: </span><span class="n">NaT</span>

<span class="gp">In [28]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="mi">11111111</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
<span class="go">OverflowError: Python int too large to convert to C long</span>

<span class="gp">In [29]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="mi">11111111</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;raise&#39;</span><span class="p">)</span>
<span class="go">OverflowError: Python int too large to convert to C long</span>
</pre></div>
</div>
<p>New behaviour:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="mi">1420043460</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="gr">Out[2]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-12-31 16:31:00&#39;</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="mi">11111111</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
<span class="gr">Out[3]: </span><span class="mi">11111111</span>

<span class="gp">In [4]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="mi">11111111</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;raise&#39;</span><span class="p">)</span>
<span class="go">OutOfBoundsDatetime: cannot convert input with unit &#39;D&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="whatsnew-0181-api-other">
<span id="id9"></span><h4>Other API changes<a class="headerlink" href="#whatsnew-0181-api-other" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">.swaplevel()</span></code> for <code class="docutils literal"><span class="pre">Series</span></code>, <code class="docutils literal"><span class="pre">DataFrame</span></code>, <code class="docutils literal"><span class="pre">Panel</span></code>, and <code class="docutils literal"><span class="pre">MultiIndex</span></code> now features defaults for its first two parameters <code class="docutils literal"><span class="pre">i</span></code> and <code class="docutils literal"><span class="pre">j</span></code> that swap the two innermost levels of the index. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12934">GH12934</a>)</li>
<li><code class="docutils literal"><span class="pre">.searchsorted()</span></code> for <code class="docutils literal"><span class="pre">Index</span></code> and <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> now accept a <code class="docutils literal"><span class="pre">sorter</span></code> argument to maintain compatibility with numpy&#8217;s <code class="docutils literal"><span class="pre">searchsorted</span></code> function (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12238">GH12238</a>)</li>
<li><code class="docutils literal"><span class="pre">Period</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex</span></code> now raises <code class="docutils literal"><span class="pre">IncompatibleFrequency</span></code> error which inherits <code class="docutils literal"><span class="pre">ValueError</span></code> rather than raw <code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12615">GH12615</a>)</li>
<li><code class="docutils literal"><span class="pre">Series.apply</span></code> for category dtype now applies the passed function to each of the <code class="docutils literal"><span class="pre">.categories</span></code> (and not the <code class="docutils literal"><span class="pre">.codes</span></code>), and returns a <code class="docutils literal"><span class="pre">category</span></code> dtype if possible (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12473">GH12473</a>)</li>
<li><code class="docutils literal"><span class="pre">read_csv</span></code> will now raise a <code class="docutils literal"><span class="pre">TypeError</span></code> if <code class="docutils literal"><span class="pre">parse_dates</span></code> is neither a boolean, list, or dictionary (matches the doc-string) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5636">GH5636</a>)</li>
<li>The default for <code class="docutils literal"><span class="pre">.query()/.eval()</span></code> is now <code class="docutils literal"><span class="pre">engine=None</span></code>, which will use <code class="docutils literal"><span class="pre">numexpr</span></code> if it&#8217;s installed; otherwise it will fallback to the <code class="docutils literal"><span class="pre">python</span></code> engine. This mimics the pre-0.18.1 behavior if <code class="docutils literal"><span class="pre">numexpr</span></code> is installed (and which, previously, if numexpr was not installed, <code class="docutils literal"><span class="pre">.query()/.eval()</span></code> would raise). (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12749">GH12749</a>)</li>
<li><code class="docutils literal"><span class="pre">pd.show_versions()</span></code> now includes <code class="docutils literal"><span class="pre">pandas_datareader</span></code> version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12740">GH12740</a>)</li>
<li>Provide a proper <code class="docutils literal"><span class="pre">__name__</span></code> and <code class="docutils literal"><span class="pre">__qualname__</span></code> attributes for generic functions (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12021">GH12021</a>)</li>
<li><code class="docutils literal"><span class="pre">pd.concat(ignore_index=True)</span></code> now uses <code class="docutils literal"><span class="pre">RangeIndex</span></code> as default (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12695">GH12695</a>)</li>
<li><code class="docutils literal"><span class="pre">pd.merge()</span></code> and <code class="docutils literal"><span class="pre">DataFrame.join()</span></code> will show a <code class="docutils literal"><span class="pre">UserWarning</span></code> when merging/joining a single- with a multi-leveled dataframe (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9455">GH9455</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12219">GH12219</a>)</li>
<li>Compat with <code class="docutils literal"><span class="pre">scipy</span></code> &gt; 0.17 for deprecated <code class="docutils literal"><span class="pre">piecewise_polynomial</span></code> interpolation method; support for the replacement <code class="docutils literal"><span class="pre">from_derivatives</span></code> method (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12887">GH12887</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0181-deprecations">
<span id="id10"></span><h4>Deprecations<a class="headerlink" href="#whatsnew-0181-deprecations" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The method name <code class="docutils literal"><span class="pre">Index.sym_diff()</span></code> is deprecated and can be replaced by <code class="docutils literal"><span class="pre">Index.symmetric_difference()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12591">GH12591</a>)</li>
<li>The method name <code class="docutils literal"><span class="pre">Categorical.sort()</span></code> is deprecated in favor of <code class="docutils literal"><span class="pre">Categorical.sort_values()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12882">GH12882</a>)</li>
</ul>
</div>
</div>
<div class="section" id="whatsnew-0181-performance">
<span id="id11"></span><h3>Performance Improvements<a class="headerlink" href="#whatsnew-0181-performance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Improved speed of SAS reader (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12656">GH12656</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12961">GH12961</a>)</li>
<li>Performance improvements in <code class="docutils literal"><span class="pre">.groupby(..).cumcount()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11039">GH11039</a>)</li>
<li>Improved memory usage in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> when using <code class="docutils literal"><span class="pre">skiprows=an_integer</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13005">GH13005</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">DataFrame.to_sql</span></code> when checking case sensitivity for tables. Now only checks if table has been created correctly when table name is not lower case. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12876">GH12876</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">Period</span></code> construction and time series plotting (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12903">GH12903</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11831">GH11831</a>).</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">.str.encode()</span></code> and <code class="docutils literal"><span class="pre">.str.decode()</span></code> methods (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13008">GH13008</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">to_numeric</span></code> if input is numeric dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12777">GH12777</a>)</li>
<li>Improved performance of sparse arithmetic with <code class="docutils literal"><span class="pre">IntIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13036">GH13036</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0181-bug-fixes">
<span id="id12"></span><h3>Bug Fixes<a class="headerlink" href="#whatsnew-0181-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">usecols</span></code> parameter in <code class="docutils literal"><span class="pre">pd.read_csv</span></code> is now respected even when the lines of a CSV file are not even (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12203">GH12203</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby.transform(..)</span></code> when <code class="docutils literal"><span class="pre">axis=1</span></code> is specified with a non-monotonic ordered index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12713">GH12713</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Period</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex</span></code> creation raises <code class="docutils literal"><span class="pre">KeyError</span></code> if <code class="docutils literal"><span class="pre">freq=&quot;Minute&quot;</span></code> is specified. Note that &#8220;Minute&#8221; freq is deprecated in v0.17.0, and recommended to use <code class="docutils literal"><span class="pre">freq=&quot;T&quot;</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11854">GH11854</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.resample(...).count()</span></code> with a <code class="docutils literal"><span class="pre">PeriodIndex</span></code> always raising a <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12774">GH12774</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.resample(...)</span></code> with a <code class="docutils literal"><span class="pre">PeriodIndex</span></code> casting to a <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> when empty (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12868">GH12868</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.resample(...)</span></code> with a <code class="docutils literal"><span class="pre">PeriodIndex</span></code> when resampling to an existing frequency (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12770">GH12770</a>)</li>
<li>Bug in printing data which contains <code class="docutils literal"><span class="pre">Period</span></code> with different <code class="docutils literal"><span class="pre">freq</span></code> raises <code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12615">GH12615</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series</span></code> construction with <code class="docutils literal"><span class="pre">Categorical</span></code> and <code class="docutils literal"><span class="pre">dtype='category'</span></code> is specified (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12574">GH12574</a>)</li>
<li>Bugs in concatenation with a coercable dtype was too aggressive, resulting in different dtypes in outputformatting when an object was longer than <code class="docutils literal"><span class="pre">display.max_rows</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12411">GH12411</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12045">GH12045</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11594">GH11594</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10571">GH10571</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12211">GH12211</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">float_format</span></code> option with option not being validated as a callable. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12706">GH12706</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">GroupBy.filter</span></code> when <code class="docutils literal"><span class="pre">dropna=False</span></code> and no groups fulfilled the criteria (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12768">GH12768</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">__name__</span></code> of <code class="docutils literal"><span class="pre">.cum*</span></code> functions (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12021">GH12021</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.astype()</span></code> of a <code class="docutils literal"><span class="pre">Float64Inde/Int64Index</span></code> to an <code class="docutils literal"><span class="pre">Int64Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12881">GH12881</a>)</li>
<li>Bug in roundtripping an integer based index in <code class="docutils literal"><span class="pre">.to_json()/.read_json()</span></code> when <code class="docutils literal"><span class="pre">orient='index'</span></code> (the default) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12866">GH12866</a>)</li>
<li>Bug in plotting <code class="docutils literal"><span class="pre">Categorical</span></code> dtypes cause error when attempting stacked bar plot (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13019">GH13019</a>)</li>
<li>Compat with &gt;= <code class="docutils literal"><span class="pre">numpy</span></code> 1.11 for <code class="docutils literal"><span class="pre">NaT</span></code> comparions (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12969">GH12969</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.drop()</span></code> with a non-unique <code class="docutils literal"><span class="pre">MultiIndex</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12701">GH12701</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.concat</span></code> of datetime tz-aware and naive DataFrames (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12467">GH12467</a>)</li>
<li>Bug in correctly raising a <code class="docutils literal"><span class="pre">ValueError</span></code> in <code class="docutils literal"><span class="pre">.resample(..).fillna(..)</span></code> when passing a non-string (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12952">GH12952</a>)</li>
<li>Bug fixes in various encoding and header processing issues in <code class="docutils literal"><span class="pre">pd.read_sas()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12659">GH12659</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12654">GH12654</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12647">GH12647</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12809">GH12809</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.crosstab()</span></code> where would silently ignore <code class="docutils literal"><span class="pre">aggfunc</span></code> if <code class="docutils literal"><span class="pre">values=None</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12569">GH12569</a>).</li>
<li>Potential segfault in <code class="docutils literal"><span class="pre">DataFrame.to_json</span></code> when serialising <code class="docutils literal"><span class="pre">datetime.time</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11473">GH11473</a>).</li>
<li>Potential segfault in <code class="docutils literal"><span class="pre">DataFrame.to_json</span></code> when attempting to serialise 0d array (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11299">GH11299</a>).</li>
<li>Segfault in <code class="docutils literal"><span class="pre">to_json</span></code> when attempting to serialise a <code class="docutils literal"><span class="pre">DataFrame</span></code> or <code class="docutils literal"><span class="pre">Series</span></code> with non-ndarray values; now supports serialization of <code class="docutils literal"><span class="pre">category</span></code>, <code class="docutils literal"><span class="pre">sparse</span></code>, and <code class="docutils literal"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10778">GH10778</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_json</span></code> with unsupported dtype not passed to default handler (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12554">GH12554</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">.align</span></code> not returning the sub-class (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12983">GH12983</a>)</li>
<li>Bug in aligning a <code class="docutils literal"><span class="pre">Series</span></code> with a <code class="docutils literal"><span class="pre">DataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/13037">GH13037</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">ABCPanel</span></code> in which <code class="docutils literal"><span class="pre">Panel4D</span></code> was not being considered as a valid instance of this generic type (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12810">GH12810</a>)</li>
<li>Bug in consistency of <code class="docutils literal"><span class="pre">.name</span></code> on <code class="docutils literal"><span class="pre">.groupby(..).apply(..)</span></code> cases (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12363">GH12363</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Timestamp.__repr__</span></code> that caused <code class="docutils literal"><span class="pre">pprint</span></code> to fail in nested structures (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12622">GH12622</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Timedelta.min</span></code> and <code class="docutils literal"><span class="pre">Timedelta.max</span></code>, the properties now report the true minimum/maximum <code class="docutils literal"><span class="pre">timedeltas</span></code> as recognized by pandas. See the <a class="reference internal" href="timedeltas.html#timedeltas-limitations"><span class="std std-ref">documentation</span></a>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12727">GH12727</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.quantile()</span></code> with interpolation may coerce to <code class="docutils literal"><span class="pre">float</span></code> unexpectedly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12772">GH12772</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.quantile()</span></code> with empty <code class="docutils literal"><span class="pre">Series</span></code> may return scalar rather than empty <code class="docutils literal"><span class="pre">Series</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12772">GH12772</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.loc</span></code> with out-of-bounds in a large indexer would raise <code class="docutils literal"><span class="pre">IndexError</span></code> rather than <code class="docutils literal"><span class="pre">KeyError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12527">GH12527</a>)</li>
<li>Bug in resampling when using a <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> and <code class="docutils literal"><span class="pre">.asfreq()</span></code>, would previously not include the final fencepost (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12926">GH12926</a>)</li>
<li>Bug in equality testing with a <code class="docutils literal"><span class="pre">Categorical</span></code> in a <code class="docutils literal"><span class="pre">DataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12564">GH12564</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">GroupBy.first()</span></code>, <code class="docutils literal"><span class="pre">.last()</span></code> returns incorrect row when <code class="docutils literal"><span class="pre">TimeGrouper</span></code> is used (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7453">GH7453</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> with the <code class="docutils literal"><span class="pre">c</span></code> engine when specifying <code class="docutils literal"><span class="pre">skiprows</span></code> with newlines in quoted items (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10911">GH10911</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12775">GH12775</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame</span></code> timezone lost when assigning tz-aware datetime <code class="docutils literal"><span class="pre">Series</span></code> with alignment (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12981">GH12981</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.value_counts()</span></code> when <code class="docutils literal"><span class="pre">normalize=True</span></code> and <code class="docutils literal"><span class="pre">dropna=True</span></code> where nulls still contributed to the normalized count (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12558">GH12558</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.value_counts()</span></code> loses name if its dtype is <code class="docutils literal"><span class="pre">category</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12835">GH12835</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.value_counts()</span></code> loses timezone info (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12835">GH12835</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.value_counts(normalize=True)</span></code> with <code class="docutils literal"><span class="pre">Categorical</span></code> raises <code class="docutils literal"><span class="pre">UnboundLocalError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12835">GH12835</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Panel.fillna()</span></code> ignoring <code class="docutils literal"><span class="pre">inplace=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12633">GH12633</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> when specifying <code class="docutils literal"><span class="pre">names</span></code>, <code class="docutils literal"><span class="pre">usecols</span></code>, and <code class="docutils literal"><span class="pre">parse_dates</span></code> simultaneously with the <code class="docutils literal"><span class="pre">c</span></code> engine (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9755">GH9755</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> when specifying <code class="docutils literal"><span class="pre">delim_whitespace=True</span></code> and <code class="docutils literal"><span class="pre">lineterminator</span></code> simultaneously with the <code class="docutils literal"><span class="pre">c</span></code> engine (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12912">GH12912</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.rename</span></code>, <code class="docutils literal"><span class="pre">DataFrame.rename</span></code> and <code class="docutils literal"><span class="pre">DataFrame.rename_axis</span></code> not treating <code class="docutils literal"><span class="pre">Series</span></code> as mappings to relabel (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12623">GH12623</a>).</li>
<li>Clean in <code class="docutils literal"><span class="pre">.rolling.min</span></code> and <code class="docutils literal"><span class="pre">.rolling.max</span></code> to enhance dtype handling (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12373">GH12373</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby</span></code> where complex types are coerced to float (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12902">GH12902</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.map</span></code> raises <code class="docutils literal"><span class="pre">TypeError</span></code> if its dtype is <code class="docutils literal"><span class="pre">category</span></code> or tz-aware <code class="docutils literal"><span class="pre">datetime</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12473">GH12473</a>)</li>
<li>Bugs on 32bit platforms for some test comparisons (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12972">GH12972</a>)</li>
<li>Bug in index coercion when falling back from <code class="docutils literal"><span class="pre">RangeIndex</span></code> construction (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12893">GH12893</a>)</li>
<li>Better error message in window functions when invalid argument (e.g. a float window) is passed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12669">GH12669</a>)</li>
<li>Bug in slicing subclassed <code class="docutils literal"><span class="pre">DataFrame</span></code> defined to return subclassed <code class="docutils literal"><span class="pre">Series</span></code> may return normal <code class="docutils literal"><span class="pre">Series</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11559">GH11559</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.str</span></code> accessor methods may raise <code class="docutils literal"><span class="pre">ValueError</span></code> if input has <code class="docutils literal"><span class="pre">name</span></code> and the result is <code class="docutils literal"><span class="pre">DataFrame</span></code> or <code class="docutils literal"><span class="pre">MultiIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12617">GH12617</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.last_valid_index()</span></code> and <code class="docutils literal"><span class="pre">DataFrame.first_valid_index()</span></code> on empty frames (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12800">GH12800</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">CategoricalIndex.get_loc</span></code> returns different result from regular <code class="docutils literal"><span class="pre">Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12531">GH12531</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">PeriodIndex.resample</span></code> where name not propagated (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12769">GH12769</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">date_range</span></code> <code class="docutils literal"><span class="pre">closed</span></code> keyword and timezones (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12684">GH12684</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.concat</span></code> raises <code class="docutils literal"><span class="pre">AttributeError</span></code> when input data contains tz-aware datetime and timedelta (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12620">GH12620</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.concat</span></code> did not handle empty <code class="docutils literal"><span class="pre">Series</span></code> properly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11082">GH11082</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.plot.bar</span></code> alginment when <code class="docutils literal"><span class="pre">width</span></code> is specified with <code class="docutils literal"><span class="pre">int</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12979">GH12979</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">fill_value</span></code> is ignored if the argument to a binary operator is a constant (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12723">GH12723</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_html()</span></code> when using bs4 flavor and parsing table with a header and only one column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9178">GH9178</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.pivot_table</span></code> when <code class="docutils literal"><span class="pre">margins=True</span></code> and <code class="docutils literal"><span class="pre">dropna=True</span></code> where nulls still contributed to margin count (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12577">GH12577</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.pivot_table</span></code> when <code class="docutils literal"><span class="pre">dropna=False</span></code> where table index/column names disappear (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12133">GH12133</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.crosstab()</span></code> when <code class="docutils literal"><span class="pre">margins=True</span></code> and <code class="docutils literal"><span class="pre">dropna=False</span></code> which raised (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12642">GH12642</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.name</span></code> when <code class="docutils literal"><span class="pre">name</span></code> attribute can be a hashable type (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12610">GH12610</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.describe()</span></code> resets categorical columns information (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11558">GH11558</a>)</li>
<li>Bug where <code class="docutils literal"><span class="pre">loffset</span></code> argument was not applied when calling <code class="docutils literal"><span class="pre">resample().count()</span></code> on a timeseries (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12725">GH12725</a>)</li>
<li><code class="docutils literal"><span class="pre">pd.read_excel()</span></code> now accepts column names associated with keyword argument <code class="docutils literal"><span class="pre">names</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12870">GH12870</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.to_numeric()</span></code> with <code class="docutils literal"><span class="pre">Index</span></code> returns <code class="docutils literal"><span class="pre">np.ndarray</span></code>, rather than <code class="docutils literal"><span class="pre">Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12777">GH12777</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.to_numeric()</span></code> with datetime-like may raise <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12777">GH12777</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.to_numeric()</span></code> with scalar raises <code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12777">GH12777</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v0-18-0-march-13-2016">
<span id="whatsnew-0180"></span><h2>v0.18.0 (March 13, 2016)<a class="headerlink" href="#v0-18-0-march-13-2016" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.17.1 and includes a small number of API changes, several new features,
enhancements, and performance improvements along with a large number of bug fixes. We recommend that all
users upgrade to this version.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">pandas &gt;= 0.18.0 no longer supports compatibility with Python version 2.6
and 3.3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7718">GH7718</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11273">GH11273</a>)</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last"><code class="docutils literal"><span class="pre">numexpr</span></code> version 2.4.4 will now show a warning and not be used as a computation back-end for pandas because of some buggy behavior. This does not affect other versions (&gt;= 2.1 and &gt;= 2.4.6). (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12489">GH12489</a>)</p>
</div>
<p>Highlights include:</p>
<ul class="simple">
<li>Moving and expanding window functions are now methods on Series and DataFrame,
similar to <code class="docutils literal"><span class="pre">.groupby</span></code>, see <a class="reference internal" href="#whatsnew-0180-enhancements-moments"><span class="std std-ref">here</span></a>.</li>
<li>Adding support for a <code class="docutils literal"><span class="pre">RangeIndex</span></code> as a specialized form of the <code class="docutils literal"><span class="pre">Int64Index</span></code>
for memory savings, see <a class="reference internal" href="#whatsnew-0180-enhancements-rangeindex"><span class="std std-ref">here</span></a>.</li>
<li>API breaking change to the <code class="docutils literal"><span class="pre">.resample</span></code> method to make it more <code class="docutils literal"><span class="pre">.groupby</span></code>
like, see <a class="reference internal" href="#whatsnew-0180-breaking-resample"><span class="std std-ref">here</span></a>.</li>
<li>Removal of support for positional indexing with floats, which was deprecated
since 0.14.0. This will now raise a <code class="docutils literal"><span class="pre">TypeError</span></code>, see <a class="reference internal" href="#whatsnew-0180-float-indexers"><span class="std std-ref">here</span></a>.</li>
<li>The <code class="docutils literal"><span class="pre">.to_xarray()</span></code> function has been added for compatibility with the
<a class="reference external" href="http://xarray.pydata.org/en/stable/">xarray package</a>, see <a class="reference internal" href="#whatsnew-0180-enhancements-xarray"><span class="std std-ref">here</span></a>.</li>
<li>The <code class="docutils literal"><span class="pre">read_sas</span></code> function has been enhanced to read <code class="docutils literal"><span class="pre">sas7bdat</span></code> files, see <a class="reference internal" href="#whatsnew-0180-enhancements-sas"><span class="std std-ref">here</span></a>.</li>
<li>Addition of the <a class="reference internal" href="#whatsnew-0180-enhancements-extract"><span class="std std-ref">.str.extractall() method</span></a>,
and API changes to the <a class="reference internal" href="#whatsnew-0180-enhancements-extract"><span class="std std-ref">.str.extract() method</span></a>
and <a class="reference internal" href="#whatsnew-0180-enhancements-strcat"><span class="std std-ref">.str.cat() method</span></a>.</li>
<li><code class="docutils literal"><span class="pre">pd.test()</span></code> top-level nose test runner is available (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4327">GH4327</a>).</li>
</ul>
<p>Check the <a class="reference internal" href="#whatsnew-0180-api-breaking"><span class="std std-ref">API Changes</span></a> and <a class="reference internal" href="#whatsnew-0180-deprecations"><span class="std std-ref">deprecations</span></a> before updating.</p>
<div class="contents local topic" id="what-s-new-in-v0-18-0">
<p class="topic-title first">What&#8217;s new in v0.18.0</p>
<ul class="simple">
<li><a class="reference internal" href="#whatsnew-0180-enhancements" id="id198">New features</a><ul>
<li><a class="reference internal" href="#window-functions-are-now-methods" id="id199">Window functions are now methods</a></li>
<li><a class="reference internal" href="#changes-to-rename" id="id200">Changes to rename</a></li>
<li><a class="reference internal" href="#range-index" id="id201">Range Index</a></li>
<li><a class="reference internal" href="#changes-to-str-extract" id="id202">Changes to str.extract</a></li>
<li><a class="reference internal" href="#addition-of-str-extractall" id="id203">Addition of str.extractall</a></li>
<li><a class="reference internal" href="#changes-to-str-cat" id="id204">Changes to str.cat</a></li>
<li><a class="reference internal" href="#datetimelike-rounding" id="id205">Datetimelike rounding</a></li>
<li><a class="reference internal" href="#formatting-of-integers-in-floatindex" id="id206">Formatting of Integers in FloatIndex</a></li>
<li><a class="reference internal" href="#changes-to-dtype-assignment-behaviors" id="id207">Changes to dtype assignment behaviors</a></li>
<li><a class="reference internal" href="#to-xarray" id="id208">to_xarray</a></li>
<li><a class="reference internal" href="#latex-representation" id="id209">Latex Representation</a></li>
<li><a class="reference internal" href="#pd-read-sas-changes" id="id210"><code class="docutils literal"><span class="pre">pd.read_sas()</span></code> changes</a></li>
<li><a class="reference internal" href="#whatsnew-0180-enhancements-other" id="id211">Other enhancements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#backwards-incompatible-api-changes" id="id212">Backwards incompatible API changes</a><ul>
<li><a class="reference internal" href="#nat-and-timedelta-operations" id="id213">NaT and Timedelta operations</a></li>
<li><a class="reference internal" href="#changes-to-msgpack" id="id214">Changes to msgpack</a></li>
<li><a class="reference internal" href="#signature-change-for-rank" id="id215">Signature change for .rank</a></li>
<li><a class="reference internal" href="#bug-in-quarterbegin-with-n-0" id="id216">Bug in QuarterBegin with n=0</a></li>
<li><a class="reference internal" href="#resample-api" id="id217">Resample API</a><ul>
<li><a class="reference internal" href="#downsampling" id="id218">Downsampling</a></li>
<li><a class="reference internal" href="#upsampling" id="id219">Upsampling</a></li>
<li><a class="reference internal" href="#previous-api-will-work-but-with-deprecations" id="id220">Previous API will work but with deprecations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-to-eval" id="id221">Changes to eval</a></li>
<li><a class="reference internal" href="#whatsnew-0180-api" id="id222">Other API Changes</a></li>
<li><a class="reference internal" href="#whatsnew-0180-deprecations" id="id223">Deprecations</a></li>
<li><a class="reference internal" href="#removal-of-deprecated-float-indexers" id="id224">Removal of deprecated float indexers</a></li>
<li><a class="reference internal" href="#whatsnew-0180-prior-deprecations" id="id225">Removal of prior version deprecations/changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#whatsnew-0180-performance" id="id226">Performance Improvements</a></li>
<li><a class="reference internal" href="#whatsnew-0180-bug-fixes" id="id227">Bug Fixes</a></li>
</ul>
</div>
<div class="section" id="whatsnew-0180-enhancements">
<span id="id13"></span><h3>New features<a class="headerlink" href="#whatsnew-0180-enhancements" title="Permalink to this headline">¶</a></h3>
<div class="section" id="window-functions-are-now-methods">
<span id="whatsnew-0180-enhancements-moments"></span><h4>Window functions are now methods<a class="headerlink" href="#window-functions-are-now-methods" title="Permalink to this headline">¶</a></h4>
<p>Window functions have been refactored to be methods on <code class="docutils literal"><span class="pre">Series/DataFrame</span></code> objects, rather than top-level functions, which are now deprecated. This allows these window-type functions, to have a similar API to that of <code class="docutils literal"><span class="pre">.groupby</span></code>. See the full documentation <a class="reference internal" href="computation.html#stats-moments"><span class="std std-ref">here</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11603">GH11603</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12373">GH12373</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1234</span><span class="p">)</span>

<span class="gp">In [2]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span> <span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;B&#39;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">)})</span>

<span class="gp">In [3]: </span><span class="n">df</span>
<span class="gr">Out[3]: </span>
<span class="go">   A         B</span>
<span class="go">0  0  0.471435</span>
<span class="go">1  1 -1.190976</span>
<span class="go">2  2  1.432707</span>
<span class="go">3  3 -0.312652</span>
<span class="go">4  4 -0.720589</span>
<span class="go">5  5  0.887163</span>
<span class="go">6  6  0.859588</span>
<span class="go">7  7 -0.636524</span>
<span class="go">8  8  0.015696</span>
<span class="go">9  9 -2.242685</span>
</pre></div>
</div>
<p>Previous Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">pd</span><span class="o">.</span><span class="n">rolling_mean</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">        FutureWarning: pd.rolling_mean is deprecated for DataFrame and will be removed in a future version, replace with</span>
<span class="go">                       DataFrame.rolling(window=3,center=False).mean()</span>
<span class="go">Out[8]:</span>
<span class="go">    A         B</span>
<span class="go">0 NaN       NaN</span>
<span class="go">1 NaN       NaN</span>
<span class="go">2   1  0.237722</span>
<span class="go">3   2 -0.023640</span>
<span class="go">4   3  0.133155</span>
<span class="go">5   4 -0.048693</span>
<span class="go">6   5  0.342054</span>
<span class="go">7   6  0.370076</span>
<span class="go">8   7  0.079587</span>
<span class="go">9   8 -0.954504</span>
</pre></div>
</div>
<p>New Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">r</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>These show a descriptive repr</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">r</span>
<span class="gr">Out[5]: </span><span class="n">Rolling</span> <span class="p">[</span><span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">center</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>with tab-completion of available methods and properties.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">r</span><span class="o">.</span>
<span class="go">r.A           r.agg         r.apply       r.count       r.exclusions  r.max         r.median      r.name        r.skew        r.sum</span>
<span class="go">r.B           r.aggregate   r.corr        r.cov         r.kurt        r.mean        r.min         r.quantile    r.std         r.var</span>
</pre></div>
</div>
<p>The methods operate on the <code class="docutils literal"><span class="pre">Rolling</span></code> object itself</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">r</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gr">Out[6]: </span>
<span class="go">     A         B</span>
<span class="go">0  NaN       NaN</span>
<span class="go">1  NaN       NaN</span>
<span class="go">2  1.0  0.237722</span>
<span class="go">3  2.0 -0.023640</span>
<span class="go">4  3.0  0.133155</span>
<span class="go">5  4.0 -0.048693</span>
<span class="go">6  5.0  0.342054</span>
<span class="go">7  6.0  0.370076</span>
<span class="go">8  7.0  0.079587</span>
<span class="go">9  8.0 -0.954504</span>
</pre></div>
</div>
<p>They provide getitem accessors</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gr">Out[7]: </span>
<span class="go">0    NaN</span>
<span class="go">1    NaN</span>
<span class="go">2    1.0</span>
<span class="go">3    2.0</span>
<span class="go">4    3.0</span>
<span class="go">5    4.0</span>
<span class="go">6    5.0</span>
<span class="go">7    6.0</span>
<span class="go">8    7.0</span>
<span class="go">9    8.0</span>
<span class="go">Name: A, dtype: float64</span>
</pre></div>
</div>
<p>And multiple aggregations</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">r</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;A&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span><span class="s1">&#39;std&#39;</span><span class="p">],</span>
<span class="gp">   ...:</span>        <span class="s1">&#39;B&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span><span class="s1">&#39;std&#39;</span><span class="p">]})</span>
<span class="gp">   ...:</span> 
<span class="gr">Out[8]: </span>
<span class="go">     A              B          </span>
<span class="go">  mean  std      mean       std</span>
<span class="go">0  NaN  NaN       NaN       NaN</span>
<span class="go">1  NaN  NaN       NaN       NaN</span>
<span class="go">2  1.0  1.0  0.237722  1.327364</span>
<span class="go">3  2.0  1.0 -0.023640  1.335505</span>
<span class="go">4  3.0  1.0  0.133155  1.143778</span>
<span class="go">5  4.0  1.0 -0.048693  0.835747</span>
<span class="go">6  5.0  1.0  0.342054  0.920379</span>
<span class="go">7  6.0  1.0  0.370076  0.871850</span>
<span class="go">8  7.0  1.0  0.079587  0.750099</span>
<span class="go">9  8.0  1.0 -0.954504  1.162285</span>
</pre></div>
</div>
</div>
<div class="section" id="changes-to-rename">
<span id="whatsnew-0180-enhancements-rename"></span><h4>Changes to rename<a class="headerlink" href="#changes-to-rename" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">Series.rename</span></code> and <code class="docutils literal"><span class="pre">NDFrame.rename_axis</span></code> can now take a scalar or list-like
argument for altering the Series or axis <em>name</em>, in addition to their old behaviors of altering labels. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9494">GH9494</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11965">GH11965</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

<span class="gp">In [10]: </span><span class="n">s</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;newname&#39;</span><span class="p">)</span>
<span class="gr">Out[10]: </span>
<span class="go">0    1.150036</span>
<span class="go">1    0.991946</span>
<span class="go">2    0.953324</span>
<span class="go">3   -2.021255</span>
<span class="go">4   -0.334077</span>
<span class="go">Name: newname, dtype: float64</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="gp">In [12]: </span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">rename_axis</span><span class="p">(</span><span class="s2">&quot;indexname&quot;</span><span class="p">)</span>
<span class="gp">   ....:</span>    <span class="o">.</span><span class="n">rename_axis</span><span class="p">(</span><span class="s2">&quot;columns_name&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;columns&quot;</span><span class="p">))</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[12]: </span>
<span class="go">columns_name         0         1</span>
<span class="go">indexname                       </span>
<span class="go">0             0.002118  0.405453</span>
<span class="go">1             0.289092  1.321158</span>
<span class="go">2            -1.546906 -0.202646</span>
<span class="go">3            -0.655969  0.193421</span>
<span class="go">4             0.553439  1.318152</span>
</pre></div>
</div>
<p>The new functionality works well in method chains. Previously these methods only accepted functions or dicts mapping a <em>label</em> to a new label.
This continues to work as before for function or dict-like values.</p>
</div>
<div class="section" id="range-index">
<span id="whatsnew-0180-enhancements-rangeindex"></span><h4>Range Index<a class="headerlink" href="#range-index" title="Permalink to this headline">¶</a></h4>
<p>A <code class="docutils literal"><span class="pre">RangeIndex</span></code> has been added to the <code class="docutils literal"><span class="pre">Int64Index</span></code> sub-classes to support a memory saving alternative for common use cases. This has a similar implementation to the python <code class="docutils literal"><span class="pre">range</span></code> object (<code class="docutils literal"><span class="pre">xrange</span></code> in python 2), in that it only stores the start, stop, and step values for the index. It will transparently interact with the user API, converting to <code class="docutils literal"><span class="pre">Int64Index</span></code> if needed.</p>
<p>This will now be the default constructed index for <code class="docutils literal"><span class="pre">NDFrame</span></code> objects, rather than previous an <code class="docutils literal"><span class="pre">Int64Index</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/939">GH939</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12070">GH12070</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12071">GH12071</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12109">GH12109</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12888">GH12888</a>)</p>
<p>Previous Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span>

<span class="gp">In [4]: </span><span class="n">s</span><span class="o">.</span><span class="n">index</span>
<span class="go">Out[4]:</span>
<span class="go">Int64Index([  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,</span>
<span class="go">            ...</span>
<span class="go">            990, 991, 992, 993, 994, 995, 996, 997, 998, 999], dtype=&#39;int64&#39;, length=1000)</span>

<span class="gp">In [6]: </span><span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">nbytes</span>
<span class="gr">Out[6]: </span><span class="mi">8000</span>
</pre></div>
</div>
<p>New Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span>

<span class="gp">In [14]: </span><span class="n">s</span><span class="o">.</span><span class="n">index</span>
<span class="gr">Out[14]: </span><span class="n">RangeIndex</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="gp">In [15]: </span><span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">nbytes</span>
<span class="gr">Out[15]: </span><span class="mi">72</span>
</pre></div>
</div>
</div>
<div class="section" id="changes-to-str-extract">
<span id="whatsnew-0180-enhancements-extract"></span><h4>Changes to str.extract<a class="headerlink" href="#changes-to-str-extract" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="text.html#text-extract"><span class="std std-ref">.str.extract</span></a> method takes a regular
expression with capture groups, finds the first match in each subject
string, and returns the contents of the capture groups
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11386">GH11386</a>).</p>
<p>In v0.18.0, the <code class="docutils literal"><span class="pre">expand</span></code> argument was added to
<code class="docutils literal"><span class="pre">extract</span></code>.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">expand=False</span></code>: it returns a <code class="docutils literal"><span class="pre">Series</span></code>, <code class="docutils literal"><span class="pre">Index</span></code>, or <code class="docutils literal"><span class="pre">DataFrame</span></code>, depending on the subject and regular expression pattern (same behavior as pre-0.18.0).</li>
<li><code class="docutils literal"><span class="pre">expand=True</span></code>: it always returns a <code class="docutils literal"><span class="pre">DataFrame</span></code>, which is more consistent and less confusing from the perspective of a user.</li>
</ul>
<p>Currently the default is <code class="docutils literal"><span class="pre">expand=None</span></code> which gives a <code class="docutils literal"><span class="pre">FutureWarning</span></code> and uses <code class="docutils literal"><span class="pre">expand=False</span></code>. To avoid this warning, please explicitly specify <code class="docutils literal"><span class="pre">expand</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">,</span> <span class="s1">&#39;c3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">&#39;[ab](\d)&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="go">FutureWarning: currently extract(expand=None) means expand=False (return Index/Series/DataFrame)</span>
<span class="go">but in a future version of pandas this will be changed to expand=True (return DataFrame)</span>

<span class="go">Out[1]:</span>
<span class="go">0      1</span>
<span class="go">1      2</span>
<span class="go">2    NaN</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>Extracting a regular expression with one group returns a Series if
<code class="docutils literal"><span class="pre">expand=False</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">,</span> <span class="s1">&#39;c3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">&#39;[ab](\d)&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gr">Out[16]: </span>
<span class="go">0      1</span>
<span class="go">1      2</span>
<span class="go">2    NaN</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>It returns a <code class="docutils literal"><span class="pre">DataFrame</span></code> with one column if <code class="docutils literal"><span class="pre">expand=True</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">,</span> <span class="s1">&#39;c3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">&#39;[ab](\d)&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[17]: </span>
<span class="go">     0</span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">2  NaN</span>
</pre></div>
</div>
<p>Calling on an <code class="docutils literal"><span class="pre">Index</span></code> with a regex with exactly one capture group
returns  an <code class="docutils literal"><span class="pre">Index</span></code> if <code class="docutils literal"><span class="pre">expand=False</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [18]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s2">&quot;a1&quot;</span><span class="p">,</span> <span class="s2">&quot;b2&quot;</span><span class="p">,</span> <span class="s2">&quot;c3&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;A11&quot;</span><span class="p">,</span> <span class="s2">&quot;B22&quot;</span><span class="p">,</span> <span class="s2">&quot;C33&quot;</span><span class="p">])</span>

<span class="gp">In [19]: </span><span class="n">s</span><span class="o">.</span><span class="n">index</span>
<span class="gr">Out[19]: </span><span class="n">Index</span><span class="p">([</span><span class="s1">u&#39;A11&#39;</span><span class="p">,</span> <span class="s1">u&#39;B22&#39;</span><span class="p">,</span> <span class="s1">u&#39;C33&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>

<span class="gp">In [20]: </span><span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s2">&quot;(?P&lt;letter&gt;[a-zA-Z])&quot;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gr">Out[20]: </span><span class="n">Index</span><span class="p">([</span><span class="s1">u&#39;A&#39;</span><span class="p">,</span> <span class="s1">u&#39;B&#39;</span><span class="p">,</span> <span class="s1">u&#39;C&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">u&#39;letter&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>It returns a <code class="docutils literal"><span class="pre">DataFrame</span></code> with one column if <code class="docutils literal"><span class="pre">expand=True</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [21]: </span><span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s2">&quot;(?P&lt;letter&gt;[a-zA-Z])&quot;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[21]: </span>
<span class="go">  letter</span>
<span class="go">0      A</span>
<span class="go">1      B</span>
<span class="go">2      C</span>
</pre></div>
</div>
<p>Calling on an <code class="docutils literal"><span class="pre">Index</span></code> with a regex with more than one capture group
raises <code class="docutils literal"><span class="pre">ValueError</span></code> if <code class="docutils literal"><span class="pre">expand=False</span></code>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s2">&quot;(?P&lt;letter&gt;[a-zA-Z])([0-9]+)&quot;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">ValueError: only one regex group is supported with Index</span>
</pre></div>
</div>
<p>It returns a <code class="docutils literal"><span class="pre">DataFrame</span></code> if <code class="docutils literal"><span class="pre">expand=True</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [22]: </span><span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s2">&quot;(?P&lt;letter&gt;[a-zA-Z])([0-9]+)&quot;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[22]: </span>
<span class="go">  letter   1</span>
<span class="go">0      A  11</span>
<span class="go">1      B  22</span>
<span class="go">2      C  33</span>
</pre></div>
</div>
<p>In summary, <code class="docutils literal"><span class="pre">extract(expand=True)</span></code> always returns a <code class="docutils literal"><span class="pre">DataFrame</span></code>
with a row for every subject string, and a column for every capture
group.</p>
</div>
<div class="section" id="addition-of-str-extractall">
<span id="whatsnew-0180-enhancements-extractall"></span><h4>Addition of str.extractall<a class="headerlink" href="#addition-of-str-extractall" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="text.html#text-extractall"><span class="std std-ref">.str.extractall</span></a> method was added
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11386">GH11386</a>).  Unlike <code class="docutils literal"><span class="pre">extract</span></code>, which returns only the first
match.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [23]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s2">&quot;a1a2&quot;</span><span class="p">,</span> <span class="s2">&quot;b1&quot;</span><span class="p">,</span> <span class="s2">&quot;c1&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">])</span>

<span class="gp">In [24]: </span><span class="n">s</span>
<span class="gr">Out[24]: </span>
<span class="go">A    a1a2</span>
<span class="go">B      b1</span>
<span class="go">C      c1</span>
<span class="go">dtype: object</span>

<span class="gp">In [25]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s2">&quot;(?P&lt;letter&gt;[ab])(?P&lt;digit&gt;\d)&quot;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gr">Out[25]: </span>
<span class="go">  letter digit</span>
<span class="go">A      a     1</span>
<span class="go">B      b     1</span>
<span class="go">C    NaN   NaN</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">extractall</span></code> method returns all matches.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [26]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extractall</span><span class="p">(</span><span class="s2">&quot;(?P&lt;letter&gt;[ab])(?P&lt;digit&gt;\d)&quot;</span><span class="p">)</span>
<span class="gr">Out[26]: </span>
<span class="go">        letter digit</span>
<span class="go">  match             </span>
<span class="go">A 0          a     1</span>
<span class="go">  1          a     2</span>
<span class="go">B 0          b     1</span>
</pre></div>
</div>
</div>
<div class="section" id="changes-to-str-cat">
<span id="whatsnew-0180-enhancements-strcat"></span><h4>Changes to str.cat<a class="headerlink" href="#changes-to-str-cat" title="Permalink to this headline">¶</a></h4>
<p>The method <code class="docutils literal"><span class="pre">.str.cat()</span></code> concatenates the members of a <code class="docutils literal"><span class="pre">Series</span></code>. Before, if <code class="docutils literal"><span class="pre">NaN</span></code> values were present in the Series, calling <code class="docutils literal"><span class="pre">.str.cat()</span></code> on it would return <code class="docutils literal"><span class="pre">NaN</span></code>, unlike the rest of the <code class="docutils literal"><span class="pre">Series.str.*</span></code> API. This behavior has been amended to ignore <code class="docutils literal"><span class="pre">NaN</span></code> values by default. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11435">GH11435</a>).</p>
<p>A new, friendlier <code class="docutils literal"><span class="pre">ValueError</span></code> is added to protect against the mistake of supplying the <code class="docutils literal"><span class="pre">sep</span></code> as an arg, rather than as a kwarg. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11334">GH11334</a>).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [27]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="gr">Out[27]: </span><span class="s1">&#39;a b c&#39;</span>

<span class="gp">In [28]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">na_rep</span><span class="o">=</span><span class="s1">&#39;?&#39;</span><span class="p">)</span>
<span class="gr">Out[28]: </span><span class="s1">&#39;a b ? c&#39;</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="go">ValueError: Did you mean to supply a `sep` keyword?</span>
</pre></div>
</div>
</div>
<div class="section" id="datetimelike-rounding">
<span id="whatsnew-0180-enhancements-rounding"></span><h4>Datetimelike rounding<a class="headerlink" href="#datetimelike-rounding" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">DatetimeIndex</span></code>, <code class="docutils literal"><span class="pre">Timestamp</span></code>, <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code>, <code class="docutils literal"><span class="pre">Timedelta</span></code> have gained the <code class="docutils literal"><span class="pre">.round()</span></code>, <code class="docutils literal"><span class="pre">.floor()</span></code> and <code class="docutils literal"><span class="pre">.ceil()</span></code> method for datetimelike rounding, flooring and ceiling. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4314">GH4314</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11963">GH11963</a>)</p>
<p>Naive datetimes</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [29]: </span><span class="n">dr</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101 09:12:56.1234&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="gp">In [30]: </span><span class="n">dr</span>
<span class="gr">Out[30]: </span>
<span class="go">DatetimeIndex([&#39;2013-01-01 09:12:56.123400&#39;, &#39;2013-01-02 09:12:56.123400&#39;,</span>
<span class="go">               &#39;2013-01-03 09:12:56.123400&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns]&#39;, freq=&#39;D&#39;)</span>

<span class="gp">In [31]: </span><span class="n">dr</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="gr">Out[31]: </span>
<span class="go">DatetimeIndex([&#39;2013-01-01 09:12:56&#39;, &#39;2013-01-02 09:12:56&#39;,</span>
<span class="go">               &#39;2013-01-03 09:12:56&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns]&#39;, freq=None)</span>

<span class="c"># Timestamp scalar</span>
<span class="gp">In [32]: </span><span class="n">dr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gr">Out[32]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2013-01-01 09:12:56.123400&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>

<span class="gp">In [33]: </span><span class="n">dr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="s1">&#39;10s&#39;</span><span class="p">)</span>
<span class="gr">Out[33]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2013-01-01 09:13:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Tz-aware are rounded, floored and ceiled in local times</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [34]: </span><span class="n">dr</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span>

<span class="gp">In [35]: </span><span class="n">dr</span>
<span class="gr">Out[35]: </span>
<span class="go">DatetimeIndex([&#39;2013-01-01 09:12:56.123400-05:00&#39;,</span>
<span class="go">               &#39;2013-01-02 09:12:56.123400-05:00&#39;,</span>
<span class="go">               &#39;2013-01-03 09:12:56.123400-05:00&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns, US/Eastern]&#39;, freq=&#39;D&#39;)</span>

<span class="gp">In [36]: </span><span class="n">dr</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="gr">Out[36]: </span>
<span class="go">DatetimeIndex([&#39;2013-01-01 09:12:56-05:00&#39;, &#39;2013-01-02 09:12:56-05:00&#39;,</span>
<span class="go">               &#39;2013-01-03 09:12:56-05:00&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns, US/Eastern]&#39;, freq=None)</span>
</pre></div>
</div>
<p>Timedeltas</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [37]: </span><span class="n">t</span> <span class="o">=</span> <span class="n">timedelta_range</span><span class="p">(</span><span class="s1">&#39;1 days 2 hr 13 min 45 us&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">freq</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>

<span class="gp">In [38]: </span><span class="n">t</span>
<span class="gr">Out[38]: </span>
<span class="go">TimedeltaIndex([&#39;1 days 02:13:00.000045&#39;, &#39;2 days 02:13:00.000045&#39;,</span>
<span class="go">                &#39;3 days 02:13:00.000045&#39;],</span>
<span class="go">               dtype=&#39;timedelta64[ns]&#39;, freq=&#39;D&#39;)</span>

<span class="gp">In [39]: </span><span class="n">t</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="s1">&#39;10min&#39;</span><span class="p">)</span>
<span class="gr">Out[39]: </span><span class="n">TimedeltaIndex</span><span class="p">([</span><span class="s1">&#39;1 days 02:10:00&#39;</span><span class="p">,</span> <span class="s1">&#39;2 days 02:10:00&#39;</span><span class="p">,</span> <span class="s1">&#39;3 days 02:10:00&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;timedelta64[ns]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="c"># Timedelta scalar</span>
<span class="gp">In [40]: </span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gr">Out[40]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;1 days 02:13:00.000045&#39;</span><span class="p">)</span>

<span class="gp">In [41]: </span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="s1">&#39;2h&#39;</span><span class="p">)</span>
<span class="gr">Out[41]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;1 days 02:00:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In addition, <code class="docutils literal"><span class="pre">.round()</span></code>, <code class="docutils literal"><span class="pre">.floor()</span></code> and <code class="docutils literal"><span class="pre">.ceil()</span></code> will be available thru the <code class="docutils literal"><span class="pre">.dt</span></code> accessor of <code class="docutils literal"><span class="pre">Series</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [42]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">dr</span><span class="p">)</span>

<span class="gp">In [43]: </span><span class="n">s</span>
<span class="gr">Out[43]: </span>
<span class="go">0   2013-01-01 09:12:56.123400-05:00</span>
<span class="go">1   2013-01-02 09:12:56.123400-05:00</span>
<span class="go">2   2013-01-03 09:12:56.123400-05:00</span>
<span class="go">dtype: datetime64[ns, US/Eastern]</span>

<span class="gp">In [44]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>
<span class="gr">Out[44]: </span>
<span class="go">0   2013-01-01 00:00:00-05:00</span>
<span class="go">1   2013-01-02 00:00:00-05:00</span>
<span class="go">2   2013-01-03 00:00:00-05:00</span>
<span class="go">dtype: datetime64[ns, US/Eastern]</span>
</pre></div>
</div>
</div>
<div class="section" id="formatting-of-integers-in-floatindex">
<h4>Formatting of Integers in FloatIndex<a class="headerlink" href="#formatting-of-integers-in-floatindex" title="Permalink to this headline">¶</a></h4>
<p>Integers in <code class="docutils literal"><span class="pre">FloatIndex</span></code>, e.g. 1., are now formatted with a decimal point and a <code class="docutils literal"><span class="pre">0</span></code> digit, e.g. <code class="docutils literal"><span class="pre">1.0</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11713">GH11713</a>)
This change not only affects the display to the console, but also the output of IO methods like <code class="docutils literal"><span class="pre">.to_csv</span></code> or <code class="docutils literal"><span class="pre">.to_html</span></code>.</p>
<p>Previous Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">3.</span><span class="p">))</span>

<span class="gp">In [3]: </span><span class="n">s</span>
<span class="go">Out[3]:</span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">2    3</span>
<span class="go">dtype: int64</span>

<span class="gp">In [4]: </span><span class="n">s</span><span class="o">.</span><span class="n">index</span>
<span class="gr">Out[4]: </span><span class="n">Float64Index</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>

<span class="gp">In [5]: </span><span class="k">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="bp">None</span><span class="p">))</span>
<span class="go">0,1</span>
<span class="go">1,2</span>
<span class="go">2,3</span>
</pre></div>
</div>
<p>New Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [45]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">3.</span><span class="p">))</span>

<span class="gp">In [46]: </span><span class="n">s</span>
<span class="gr">Out[46]: </span>
<span class="go">0.0    1</span>
<span class="go">1.0    2</span>
<span class="go">2.0    3</span>
<span class="go">dtype: int64</span>

<span class="gp">In [47]: </span><span class="n">s</span><span class="o">.</span><span class="n">index</span>
<span class="gr">Out[47]: </span><span class="n">Float64Index</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>

<span class="gp">In [48]: </span><span class="k">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="bp">None</span><span class="p">))</span>
<span class="go">0.0,1</span>
<span class="go">1.0,2</span>
<span class="go">2.0,3</span>
</pre></div>
</div>
</div>
<div class="section" id="changes-to-dtype-assignment-behaviors">
<h4>Changes to dtype assignment behaviors<a class="headerlink" href="#changes-to-dtype-assignment-behaviors" title="Permalink to this headline">¶</a></h4>
<p>When a DataFrame&#8217;s slice is updated with a new slice of the same dtype, the dtype of the DataFrame will now remain the same. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10503">GH10503</a>)</p>
<p>Previous Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="go">                           &#39;b&#39;: pd.Series([100, 200, 300], dtype=&#39;uint32&#39;)})</span>

<span class="gp">In [7]: </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="go">Out[7]:</span>
<span class="go">a     int64</span>
<span class="go">b    uint32</span>
<span class="go">dtype: object</span>

<span class="gp">In [8]: </span><span class="n">ix</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>

<span class="gp">In [9]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ix</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ix</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>

<span class="gp">In [11]: </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="go">Out[11]:</span>
<span class="go">a    int64</span>
<span class="go">b    int64</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>New Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [49]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">   ....:</span>                    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;uint32&#39;</span><span class="p">)})</span>
<span class="gp">   ....:</span> 

<span class="gp">In [50]: </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[50]: </span>
<span class="go">a     int64</span>
<span class="go">b    uint32</span>
<span class="go">dtype: object</span>

<span class="gp">In [51]: </span><span class="n">ix</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>

<span class="gp">In [52]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ix</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ix</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>

<span class="gp">In [53]: </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[53]: </span>
<span class="go">a     int64</span>
<span class="go">b    uint32</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>When a DataFrame&#8217;s integer slice is partially updated with a new slice of floats that could potentially be downcasted to integer without losing precision, the dtype of the slice will be set to float instead of integer.</p>
<p>Previous Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
<span class="go">                          columns=list(&#39;abc&#39;),</span>
<span class="go">                          index=[[4,4,8], [8,10,12]])</span>

<span class="gp">In [5]: </span><span class="n">df</span>
<span class="go">Out[5]:</span>
<span class="go">      a  b  c</span>
<span class="go">4 8   1  2  3</span>
<span class="go">  10  4  5  6</span>
<span class="go">8 12  7  8  9</span>

<span class="gp">In [7]: </span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">])</span>

<span class="gp">In [8]: </span><span class="n">df</span>
<span class="go">Out[8]:</span>
<span class="go">      a  b  c</span>
<span class="go">4 8   1  2  0</span>
<span class="go">  10  4  5  1</span>
<span class="go">8 12  7  8  9</span>
</pre></div>
</div>
<p>New Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [54]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
<span class="gp">   ....:</span>                   <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>                   <span class="n">index</span><span class="o">=</span><span class="p">[[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">]])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [55]: </span><span class="n">df</span>
<span class="gr">Out[55]: </span>
<span class="go">      a  b  c</span>
<span class="go">4 8   1  2  3</span>
<span class="go">  10  4  5  6</span>
<span class="go">8 12  7  8  9</span>

<span class="gp">In [56]: </span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">])</span>

<span class="gp">In [57]: </span><span class="n">df</span>
<span class="gr">Out[57]: </span>
<span class="go">      a  b    c</span>
<span class="go">4 8   1  2  0.0</span>
<span class="go">  10  4  5  1.0</span>
<span class="go">8 12  7  8  9.0</span>
</pre></div>
</div>
</div>
<div class="section" id="to-xarray">
<span id="whatsnew-0180-enhancements-xarray"></span><h4>to_xarray<a class="headerlink" href="#to-xarray" title="Permalink to this headline">¶</a></h4>
<p>In a future version of pandas, we will be deprecating <code class="docutils literal"><span class="pre">Panel</span></code> and other &gt; 2 ndim objects. In order to provide for continuity,
all <code class="docutils literal"><span class="pre">NDFrame</span></code> objects have gained the <code class="docutils literal"><span class="pre">.to_xarray()</span></code> method in order to convert to <code class="docutils literal"><span class="pre">xarray</span></code> objects, which has
a pandas-like interface for &gt; 2 ndim. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11972">GH11972</a>)</p>
<p>See the <a class="reference external" href="http://xarray.pydata.org/en/stable/">xarray full-documentation here</a>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">Panel</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="gp">In [2]: </span><span class="n">p</span><span class="o">.</span><span class="n">to_xarray</span><span class="p">()</span>
<span class="go">Out[2]:</span>
<span class="go">&lt;xarray.DataArray (items: 2, major_axis: 3, minor_axis: 4)&gt;</span>
<span class="go">array([[[ 0,  1,  2,  3],</span>
<span class="go">        [ 4,  5,  6,  7],</span>
<span class="go">        [ 8,  9, 10, 11]],</span>

<span class="go">       [[12, 13, 14, 15],</span>
<span class="go">        [16, 17, 18, 19],</span>
<span class="go">        [20, 21, 22, 23]]])</span>
<span class="go">Coordinates:</span>
<span class="go">  * items       (items) int64 0 1</span>
<span class="go">  * major_axis  (major_axis) int64 0 1 2</span>
<span class="go">  * minor_axis  (minor_axis) int64 0 1 2 3</span>
</pre></div>
</div>
</div>
<div class="section" id="latex-representation">
<h4>Latex Representation<a class="headerlink" href="#latex-representation" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">DataFrame</span></code> has gained a <code class="docutils literal"><span class="pre">._repr_latex_()</span></code> method in order to allow for conversion to latex in a ipython/jupyter notebook using nbconvert. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11778">GH11778</a>)</p>
<p>Note that this must be activated by setting the option <code class="docutils literal"><span class="pre">pd.display.latex.repr=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12182">GH12182</a>)</p>
<p>For example, if you have a jupyter notebook you plan to convert to latex using nbconvert, place the statement <code class="docutils literal"><span class="pre">pd.display.latex.repr=True</span></code> in the first cell to have the contained DataFrame output also stored as latex.</p>
<p>The options <code class="docutils literal"><span class="pre">display.latex.escape</span></code> and <code class="docutils literal"><span class="pre">display.latex.longtable</span></code> have also been added to the configuration and are used automatically by the <code class="docutils literal"><span class="pre">to_latex</span></code>
method. See the <a class="reference internal" href="options.html#options-available"><span class="std std-ref">available options docs</span></a> for more info.</p>
</div>
<div class="section" id="pd-read-sas-changes">
<span id="whatsnew-0180-enhancements-sas"></span><h4><code class="docutils literal"><span class="pre">pd.read_sas()</span></code> changes<a class="headerlink" href="#pd-read-sas-changes" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">read_sas</span></code> has gained the ability to read SAS7BDAT files, including compressed files.  The files can be read in entirety, or incrementally.  For full details see <a class="reference internal" href="io.html#io-sas"><span class="std std-ref">here</span></a>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4052">GH4052</a>)</p>
</div>
<div class="section" id="whatsnew-0180-enhancements-other">
<span id="id14"></span><h4>Other enhancements<a class="headerlink" href="#whatsnew-0180-enhancements-other" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Handle truncated floats in SAS xport files (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11713">GH11713</a>)</li>
<li>Added option to hide index in <code class="docutils literal"><span class="pre">Series.to_string</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11729">GH11729</a>)</li>
<li><code class="docutils literal"><span class="pre">read_excel</span></code> now supports s3 urls of the format <code class="docutils literal"><span class="pre">s3://bucketname/filename</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11447">GH11447</a>)</li>
<li>add support for <code class="docutils literal"><span class="pre">AWS_S3_HOST</span></code> env variable when reading from s3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12198">GH12198</a>)</li>
<li>A simple version of <code class="docutils literal"><span class="pre">Panel.round()</span></code> is now implemented (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11763">GH11763</a>)</li>
<li>For Python 3.x, <code class="docutils literal"><span class="pre">round(DataFrame)</span></code>, <code class="docutils literal"><span class="pre">round(Series)</span></code>, <code class="docutils literal"><span class="pre">round(Panel)</span></code> will work (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11763">GH11763</a>)</li>
<li><code class="docutils literal"><span class="pre">sys.getsizeof(obj)</span></code> returns the memory usage of a pandas object, including the
values it contains (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11597">GH11597</a>)</li>
<li><code class="docutils literal"><span class="pre">Series</span></code> gained an <code class="docutils literal"><span class="pre">is_unique</span></code> attribute (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11946">GH11946</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.quantile</span></code> and <code class="docutils literal"><span class="pre">Series.quantile</span></code> now accept <code class="docutils literal"><span class="pre">interpolation</span></code> keyword (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10174">GH10174</a>).</li>
<li>Added <code class="docutils literal"><span class="pre">DataFrame.style.format</span></code> for more flexible formatting of cell values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11692">GH11692</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.select_dtypes</span></code> now allows the <code class="docutils literal"><span class="pre">np.float16</span></code> typecode (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11990">GH11990</a>)</li>
<li><code class="docutils literal"><span class="pre">pivot_table()</span></code> now accepts most iterables for the <code class="docutils literal"><span class="pre">values</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12017">GH12017</a>)</li>
<li>Added Google <code class="docutils literal"><span class="pre">BigQuery</span></code> service account authentication support, which enables authentication on remote servers. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11881">GH11881</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12572">GH12572</a>). For further details see <a class="reference internal" href="io.html#io-bigquery-authentication"><span class="std std-ref">here</span></a></li>
<li><code class="docutils literal"><span class="pre">HDFStore</span></code> is now iterable: <code class="docutils literal"><span class="pre">for</span> <span class="pre">k</span> <span class="pre">in</span> <span class="pre">store</span></code> is equivalent to <code class="docutils literal"><span class="pre">for</span> <span class="pre">k</span> <span class="pre">in</span> <span class="pre">store.keys()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12221">GH12221</a>).</li>
<li>Add missing methods/fields to <code class="docutils literal"><span class="pre">.dt</span></code> for <code class="docutils literal"><span class="pre">Period</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8848">GH8848</a>)</li>
<li>The entire codebase has been <code class="docutils literal"><span class="pre">PEP</span></code>-ified (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12096">GH12096</a>)</li>
</ul>
</div>
</div>
<div class="section" id="backwards-incompatible-api-changes">
<span id="whatsnew-0180-api-breaking"></span><h3>Backwards incompatible API changes<a class="headerlink" href="#backwards-incompatible-api-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>the leading whitespaces have been removed from the output of <code class="docutils literal"><span class="pre">.to_string(index=False)</span></code> method (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11833">GH11833</a>)</li>
<li>the <code class="docutils literal"><span class="pre">out</span></code> parameter has been removed from the <code class="docutils literal"><span class="pre">Series.round()</span></code> method. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11763">GH11763</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.round()</span></code> leaves non-numeric columns unchanged in its return, rather than raises. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11885">GH11885</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.head(0)</span></code> and <code class="docutils literal"><span class="pre">DataFrame.tail(0)</span></code> return empty frames, rather than <code class="docutils literal"><span class="pre">self</span></code>.  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11937">GH11937</a>)</li>
<li><code class="docutils literal"><span class="pre">Series.head(0)</span></code> and <code class="docutils literal"><span class="pre">Series.tail(0)</span></code> return empty series, rather than <code class="docutils literal"><span class="pre">self</span></code>.  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11937">GH11937</a>)</li>
<li><code class="docutils literal"><span class="pre">to_msgpack</span></code> and <code class="docutils literal"><span class="pre">read_msgpack</span></code> encoding now defaults to <code class="docutils literal"><span class="pre">'utf-8'</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12170">GH12170</a>)</li>
<li>the order of keyword arguments to text file parsing functions (<code class="docutils literal"><span class="pre">.read_csv()</span></code>, <code class="docutils literal"><span class="pre">.read_table()</span></code>, <code class="docutils literal"><span class="pre">.read_fwf()</span></code>) changed to group related arguments. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11555">GH11555</a>)</li>
<li><code class="docutils literal"><span class="pre">NaTType.isoformat</span></code> now returns the string <code class="docutils literal"><span class="pre">'NaT</span></code> to allow the result to
be passed to the constructor of <code class="docutils literal"><span class="pre">Timestamp</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12300">GH12300</a>)</li>
</ul>
<div class="section" id="nat-and-timedelta-operations">
<h4>NaT and Timedelta operations<a class="headerlink" href="#nat-and-timedelta-operations" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">NaT</span></code> and <code class="docutils literal"><span class="pre">Timedelta</span></code> have expanded arithmetic operations, which are extended to <code class="docutils literal"><span class="pre">Series</span></code>
arithmetic where applicable.  Operations defined for <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> or <code class="docutils literal"><span class="pre">timedelta64[ns]</span></code>
are now also defined for <code class="docutils literal"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11564">GH11564</a>).</p>
<p><code class="docutils literal"><span class="pre">NaT</span></code> now supports arithmetic operations with integers and floats.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [58]: </span><span class="n">pd</span><span class="o">.</span><span class="n">NaT</span> <span class="o">*</span> <span class="mi">1</span>
<span class="gr">Out[58]: </span><span class="n">NaT</span>

<span class="gp">In [59]: </span><span class="n">pd</span><span class="o">.</span><span class="n">NaT</span> <span class="o">*</span> <span class="mf">1.5</span>
<span class="gr">Out[59]: </span><span class="n">NaT</span>

<span class="gp">In [60]: </span><span class="n">pd</span><span class="o">.</span><span class="n">NaT</span> <span class="o">/</span> <span class="mi">2</span>
<span class="gr">Out[60]: </span><span class="n">NaT</span>

<span class="gp">In [61]: </span><span class="n">pd</span><span class="o">.</span><span class="n">NaT</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="gr">Out[61]: </span><span class="n">NaT</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">NaT</span></code> defines more arithmetic operations with <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> and <code class="docutils literal"><span class="pre">timedelta64[ns]</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [62]: </span><span class="n">pd</span><span class="o">.</span><span class="n">NaT</span> <span class="o">/</span> <span class="n">pd</span><span class="o">.</span><span class="n">NaT</span>
<span class="gr">Out[62]: </span><span class="n">nan</span>

<span class="gp">In [63]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;1s&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="n">pd</span><span class="o">.</span><span class="n">NaT</span>
<span class="gr">Out[63]: </span><span class="n">nan</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">NaT</span></code> may represent either a <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> null or a <code class="docutils literal"><span class="pre">timedelta64[ns]</span></code> null.
Given the ambiguity, it is treated as a <code class="docutils literal"><span class="pre">timedelta64[ns]</span></code>, which allows more operations
to succeed.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [64]: </span><span class="n">pd</span><span class="o">.</span><span class="n">NaT</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">NaT</span>
<span class="gr">Out[64]: </span><span class="n">NaT</span>

<span class="c"># same as</span>
<span class="gp">In [65]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;1s&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;1s&#39;</span><span class="p">)</span>
<span class="gr">Out[65]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;0 days 00:00:02&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>as opposed to</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;19900315&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;19900315&#39;</span><span class="p">)</span>
<span class="go">TypeError: unsupported operand type(s) for +: &#39;Timestamp&#39; and &#39;Timestamp&#39;</span>
</pre></div>
</div>
<p>However, when wrapped in a <code class="docutils literal"><span class="pre">Series</span></code> whose <code class="docutils literal"><span class="pre">dtype</span></code> is <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> or <code class="docutils literal"><span class="pre">timedelta64[ns]</span></code>,
the <code class="docutils literal"><span class="pre">dtype</span></code> information is respected.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">NaT</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;&lt;M8[ns]&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">NaT</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;&lt;M8[ns]&#39;</span><span class="p">)</span>
<span class="go">TypeError: can only operate on a datetimes for subtraction,</span>
<span class="go">           but the operator [__add__] was passed</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [66]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">NaT</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;&lt;m8[ns]&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">NaT</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;&lt;m8[ns]&#39;</span><span class="p">)</span>
<span class="gr">Out[66]: </span>
<span class="go">0   NaT</span>
<span class="go">dtype: timedelta64[ns]</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">Timedelta</span></code> division by <code class="docutils literal"><span class="pre">floats</span></code> now works.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [67]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;1s&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="gr">Out[67]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;0 days 00:00:00.500000&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Subtraction by <code class="docutils literal"><span class="pre">Timedelta</span></code> in a <code class="docutils literal"><span class="pre">Series</span></code> by a <code class="docutils literal"><span class="pre">Timestamp</span></code> works (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11925">GH11925</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [68]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">timedelta_range</span><span class="p">(</span><span class="s1">&#39;1 day&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>

<span class="gp">In [69]: </span><span class="n">ser</span>
<span class="gr">Out[69]: </span>
<span class="go">0   1 days</span>
<span class="go">1   2 days</span>
<span class="go">2   3 days</span>
<span class="go">dtype: timedelta64[ns]</span>

<span class="gp">In [70]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2012-01-01&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="n">ser</span>
<span class="gr">Out[70]: </span>
<span class="go">0   2011-12-31</span>
<span class="go">1   2011-12-30</span>
<span class="go">2   2011-12-29</span>
<span class="go">dtype: datetime64[ns]</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">NaT.isoformat()</span></code> now returns <code class="docutils literal"><span class="pre">'NaT'</span></code>. This change allows allows
<code class="docutils literal"><span class="pre">pd.Timestamp</span></code> to rehydrate any timestamp like object from its isoformat
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12300">GH12300</a>).</p>
</div>
<div class="section" id="changes-to-msgpack">
<h4>Changes to msgpack<a class="headerlink" href="#changes-to-msgpack" title="Permalink to this headline">¶</a></h4>
<p>Forward incompatible changes in <code class="docutils literal"><span class="pre">msgpack</span></code> writing format were made over 0.17.0 and 0.18.0; older versions of pandas cannot read files packed by newer versions (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12129">GH12129</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10527">GH10527</a>)</p>
<p>Bugs in <code class="docutils literal"><span class="pre">to_msgpack</span></code> and <code class="docutils literal"><span class="pre">read_msgpack</span></code> introduced in 0.17.0 and fixed in 0.18.0, caused files packed in Python 2 unreadable by Python 3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12142">GH12142</a>). The following table describes the backward and forward compat of msgpacks.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Packed with</th>
<th class="head">Can be unpacked with</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>pre-0.17 / Python 2</td>
<td>any</td>
</tr>
<tr class="row-odd"><td>pre-0.17 / Python 3</td>
<td>any</td>
</tr>
<tr class="row-even"><td>0.17 / Python 2</td>
<td><ul class="first last simple">
<li>==0.17 / Python 2</li>
<li>&gt;=0.18 / any Python</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>0.17 / Python 3</td>
<td>&gt;=0.18 / any Python</td>
</tr>
<tr class="row-even"><td>0.18</td>
<td>&gt;= 0.18</td>
</tr>
</tbody>
</table>
<p class="last">0.18.0 is backward-compatible for reading files packed by older versions, except for files packed with 0.17 in Python 2, in which case only they can only be unpacked in Python 2.</p>
</div>
</div>
<div class="section" id="signature-change-for-rank">
<h4>Signature change for .rank<a class="headerlink" href="#signature-change-for-rank" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">Series.rank</span></code> and <code class="docutils literal"><span class="pre">DataFrame.rank</span></code> now have the same signature (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11759">GH11759</a>)</p>
<p>Previous signature</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;average&#39;</span><span class="p">,</span> <span class="n">na_option</span><span class="o">=</span><span class="s1">&#39;keep&#39;</span><span class="p">,</span>
<span class="go">                              ascending=True, pct=False)</span>
<span class="go">Out[3]:</span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">dtype: float64</span>

<span class="gp">In [4]: </span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">numeric_only</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="go">                                 method=&#39;average&#39;, na_option=&#39;keep&#39;,</span>
<span class="go">                                 ascending=True, pct=False)</span>
<span class="go">Out[4]:</span>
<span class="go">   0</span>
<span class="go">0  1</span>
<span class="go">1  2</span>
</pre></div>
</div>
<p>New signature</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [71]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;average&#39;</span><span class="p">,</span> <span class="n">numeric_only</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="gp">   ....:</span>                       <span class="n">na_option</span><span class="o">=</span><span class="s1">&#39;keep&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">pct</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[71]: </span>
<span class="go">0    1.0</span>
<span class="go">1    2.0</span>
<span class="go">dtype: float64</span>

<span class="gp">In [72]: </span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;average&#39;</span><span class="p">,</span> <span class="n">numeric_only</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="gp">   ....:</span>                          <span class="n">na_option</span><span class="o">=</span><span class="s1">&#39;keep&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">pct</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[72]: </span>
<span class="go">     0</span>
<span class="go">0  1.0</span>
<span class="go">1  2.0</span>
</pre></div>
</div>
</div>
<div class="section" id="bug-in-quarterbegin-with-n-0">
<h4>Bug in QuarterBegin with n=0<a class="headerlink" href="#bug-in-quarterbegin-with-n-0" title="Permalink to this headline">¶</a></h4>
<p>In previous versions, the behavior of the QuarterBegin offset was inconsistent
depending on the date when the <code class="docutils literal"><span class="pre">n</span></code> parameter was 0. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11406">GH11406</a>)</p>
<p>The general semantics of anchored offsets for <code class="docutils literal"><span class="pre">n=0</span></code> is to not move the date
when it is an anchor point (e.g., a quarter start date), and otherwise roll
forward to the next anchor point.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [73]: </span><span class="n">d</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-02-01&#39;</span><span class="p">)</span>

<span class="gp">In [74]: </span><span class="n">d</span>
<span class="gr">Out[74]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-02-01 00:00:00&#39;</span><span class="p">)</span>

<span class="gp">In [75]: </span><span class="n">d</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">offsets</span><span class="o">.</span><span class="n">QuarterBegin</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">startingMonth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gr">Out[75]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-02-01 00:00:00&#39;</span><span class="p">)</span>

<span class="gp">In [76]: </span><span class="n">d</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">offsets</span><span class="o">.</span><span class="n">QuarterBegin</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">startingMonth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gr">Out[76]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-04-01 00:00:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>For the <code class="docutils literal"><span class="pre">QuarterBegin</span></code> offset in previous versions, the date would be rolled
<em>backwards</em> if date was in the same month as the quarter start date.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">d</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-02-15&#39;</span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">d</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">offsets</span><span class="o">.</span><span class="n">QuarterBegin</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">startingMonth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gr">Out[4]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-02-01 00:00:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This behavior has been corrected in version 0.18.0, which is consistent with
other anchored offsets like <code class="docutils literal"><span class="pre">MonthBegin</span></code> and <code class="docutils literal"><span class="pre">YearBegin</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [77]: </span><span class="n">d</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-02-15&#39;</span><span class="p">)</span>

<span class="gp">In [78]: </span><span class="n">d</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">offsets</span><span class="o">.</span><span class="n">QuarterBegin</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">startingMonth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gr">Out[78]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-05-01 00:00:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="resample-api">
<span id="whatsnew-0180-breaking-resample"></span><h4>Resample API<a class="headerlink" href="#resample-api" title="Permalink to this headline">¶</a></h4>
<p>Like the change in the window functions API <a class="reference internal" href="#whatsnew-0180-enhancements-moments"><span class="std std-ref">above</span></a>, <code class="docutils literal"><span class="pre">.resample(...)</span></code> is changing to have a more groupby-like API. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11732">GH11732</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12702">GH12702</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12202">GH12202</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12332">GH12332</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12334">GH12334</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12348">GH12348</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12448">GH12448</a>).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [79]: </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1234</span><span class="p">)</span>

<span class="gp">In [80]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....:</span>                   <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABCD&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>                   <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2010-01-01 09:00:00&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">))</span>
<span class="gp">   ....:</span> 

<span class="gp">In [81]: </span><span class="n">df</span>
<span class="gr">Out[81]: </span>
<span class="go">                            A         B         C         D</span>
<span class="go">2010-01-01 09:00:00  0.191519  0.622109  0.437728  0.785359</span>
<span class="go">2010-01-01 09:00:01  0.779976  0.272593  0.276464  0.801872</span>
<span class="go">2010-01-01 09:00:02  0.958139  0.875933  0.357817  0.500995</span>
<span class="go">2010-01-01 09:00:03  0.683463  0.712702  0.370251  0.561196</span>
<span class="go">2010-01-01 09:00:04  0.503083  0.013768  0.772827  0.882641</span>
<span class="go">2010-01-01 09:00:05  0.364886  0.615396  0.075381  0.368824</span>
<span class="go">2010-01-01 09:00:06  0.933140  0.651378  0.397203  0.788730</span>
<span class="go">2010-01-01 09:00:07  0.316836  0.568099  0.869127  0.436173</span>
<span class="go">2010-01-01 09:00:08  0.802148  0.143767  0.704261  0.704581</span>
<span class="go">2010-01-01 09:00:09  0.218792  0.924868  0.442141  0.909316</span>
</pre></div>
</div>
<p><strong>Previous API</strong>:</p>
<p>You would write a resampling operation that immediately evaluates. If a <code class="docutils literal"><span class="pre">how</span></code> parameter was not provided, it
would default to <code class="docutils literal"><span class="pre">how='mean'</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">df</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;2s&#39;</span><span class="p">)</span>
<span class="go">Out[6]:</span>
<span class="go">                         A         B         C         D</span>
<span class="go">2010-01-01 09:00:00  0.485748  0.447351  0.357096  0.793615</span>
<span class="go">2010-01-01 09:00:02  0.820801  0.794317  0.364034  0.531096</span>
<span class="go">2010-01-01 09:00:04  0.433985  0.314582  0.424104  0.625733</span>
<span class="go">2010-01-01 09:00:06  0.624988  0.609738  0.633165  0.612452</span>
<span class="go">2010-01-01 09:00:08  0.510470  0.534317  0.573201  0.806949</span>
</pre></div>
</div>
<p>You could also specify a <code class="docutils literal"><span class="pre">how</span></code> directly</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">df</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;2s&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>
<span class="go">Out[7]:</span>
<span class="go">                         A         B         C         D</span>
<span class="go">2010-01-01 09:00:00  0.971495  0.894701  0.714192  1.587231</span>
<span class="go">2010-01-01 09:00:02  1.641602  1.588635  0.728068  1.062191</span>
<span class="go">2010-01-01 09:00:04  0.867969  0.629165  0.848208  1.251465</span>
<span class="go">2010-01-01 09:00:06  1.249976  1.219477  1.266330  1.224904</span>
<span class="go">2010-01-01 09:00:08  1.020940  1.068634  1.146402  1.613897</span>
</pre></div>
</div>
<p><strong>New API</strong>:</p>
<p>Now, you can write <code class="docutils literal"><span class="pre">.resample(..)</span></code> as a 2-stage operation like <code class="docutils literal"><span class="pre">.groupby(...)</span></code>, which
yields a <code class="docutils literal"><span class="pre">Resampler</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [82]: </span><span class="n">r</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;2s&#39;</span><span class="p">)</span>

<span class="gp">In [83]: </span><span class="n">r</span>
<span class="gr">Out[83]: </span><span class="n">DatetimeIndexResampler</span> <span class="p">[</span><span class="n">freq</span><span class="o">=&lt;</span><span class="mi">2</span> <span class="o">*</span> <span class="n">Seconds</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">closed</span><span class="o">=</span><span class="n">left</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">left</span><span class="p">,</span> <span class="n">convention</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="downsampling">
<h5>Downsampling<a class="headerlink" href="#downsampling" title="Permalink to this headline">¶</a></h5>
<p>You can then use this object to perform operations.
These are downsampling operations (going from a higher frequency to a lower one).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [84]: </span><span class="n">r</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gr">Out[84]: </span>
<span class="go">                            A         B         C         D</span>
<span class="go">2010-01-01 09:00:00  0.485748  0.447351  0.357096  0.793615</span>
<span class="go">2010-01-01 09:00:02  0.820801  0.794317  0.364034  0.531096</span>
<span class="go">2010-01-01 09:00:04  0.433985  0.314582  0.424104  0.625733</span>
<span class="go">2010-01-01 09:00:06  0.624988  0.609738  0.633165  0.612452</span>
<span class="go">2010-01-01 09:00:08  0.510470  0.534317  0.573201  0.806949</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [85]: </span><span class="n">r</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gr">Out[85]: </span>
<span class="go">                            A         B         C         D</span>
<span class="go">2010-01-01 09:00:00  0.971495  0.894701  0.714192  1.587231</span>
<span class="go">2010-01-01 09:00:02  1.641602  1.588635  0.728068  1.062191</span>
<span class="go">2010-01-01 09:00:04  0.867969  0.629165  0.848208  1.251465</span>
<span class="go">2010-01-01 09:00:06  1.249976  1.219477  1.266330  1.224904</span>
<span class="go">2010-01-01 09:00:08  1.020940  1.068634  1.146402  1.613897</span>
</pre></div>
</div>
<p>Furthermore, resample now supports <code class="docutils literal"><span class="pre">getitem</span></code> operations to perform the resample on specific columns.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [86]: </span><span class="n">r</span><span class="p">[[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gr">Out[86]: </span>
<span class="go">                            A         C</span>
<span class="go">2010-01-01 09:00:00  0.485748  0.357096</span>
<span class="go">2010-01-01 09:00:02  0.820801  0.364034</span>
<span class="go">2010-01-01 09:00:04  0.433985  0.424104</span>
<span class="go">2010-01-01 09:00:06  0.624988  0.633165</span>
<span class="go">2010-01-01 09:00:08  0.510470  0.573201</span>
</pre></div>
</div>
<p>and <code class="docutils literal"><span class="pre">.aggregate</span></code> type operations.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [87]: </span><span class="n">r</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;A&#39;</span> <span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span> <span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">})</span>
<span class="gr">Out[87]: </span>
<span class="go">                            A         B</span>
<span class="go">2010-01-01 09:00:00  0.485748  0.894701</span>
<span class="go">2010-01-01 09:00:02  0.820801  1.588635</span>
<span class="go">2010-01-01 09:00:04  0.433985  0.629165</span>
<span class="go">2010-01-01 09:00:06  0.624988  1.219477</span>
<span class="go">2010-01-01 09:00:08  0.510470  1.068634</span>
</pre></div>
</div>
<p>These accessors can of course, be combined</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [88]: </span><span class="n">r</span><span class="p">[[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span><span class="s1">&#39;sum&#39;</span><span class="p">])</span>
<span class="gr">Out[88]: </span>
<span class="go">                            A                   B          </span>
<span class="go">                         mean       sum      mean       sum</span>
<span class="go">2010-01-01 09:00:00  0.485748  0.971495  0.447351  0.894701</span>
<span class="go">2010-01-01 09:00:02  0.820801  1.641602  0.794317  1.588635</span>
<span class="go">2010-01-01 09:00:04  0.433985  0.867969  0.314582  0.629165</span>
<span class="go">2010-01-01 09:00:06  0.624988  1.249976  0.609738  1.219477</span>
<span class="go">2010-01-01 09:00:08  0.510470  1.020940  0.534317  1.068634</span>
</pre></div>
</div>
</div>
<div class="section" id="upsampling">
<h5>Upsampling<a class="headerlink" href="#upsampling" title="Permalink to this headline">¶</a></h5>
<p>Upsampling operations take you from a lower frequency to a higher frequency. These are now
performed with the <code class="docutils literal"><span class="pre">Resampler</span></code> objects with <a class="reference internal" href="generated/pandas.tseries.resample.Resampler.backfill.html#pandas.tseries.resample.Resampler.backfill" title="pandas.tseries.resample.Resampler.backfill"><code class="xref py py-meth docutils literal"><span class="pre">backfill()</span></code></a>,
<a class="reference internal" href="generated/pandas.tseries.resample.Resampler.ffill.html#pandas.tseries.resample.Resampler.ffill" title="pandas.tseries.resample.Resampler.ffill"><code class="xref py py-meth docutils literal"><span class="pre">ffill()</span></code></a>, <a class="reference internal" href="generated/pandas.tseries.resample.Resampler.fillna.html#pandas.tseries.resample.Resampler.fillna" title="pandas.tseries.resample.Resampler.fillna"><code class="xref py py-meth docutils literal"><span class="pre">fillna()</span></code></a> and <a class="reference internal" href="generated/pandas.tseries.resample.Resampler.asfreq.html#pandas.tseries.resample.Resampler.asfreq" title="pandas.tseries.resample.Resampler.asfreq"><code class="xref py py-meth docutils literal"><span class="pre">asfreq()</span></code></a> methods.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [89]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int64&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>               <span class="n">index</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2010-01-01&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;Q&#39;</span><span class="p">))</span>
<span class="gp">   ....:</span> 

<span class="gp">In [90]: </span><span class="n">s</span>
<span class="gr">Out[90]: </span>
<span class="go">2010-03-31    0</span>
<span class="go">2010-06-30    1</span>
<span class="go">2010-09-30    2</span>
<span class="go">2010-12-31    3</span>
<span class="go">2011-03-31    4</span>
<span class="go">Freq: Q-DEC, dtype: int64</span>
</pre></div>
</div>
<p>Previously</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">s</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">fill_method</span><span class="o">=</span><span class="s1">&#39;ffill&#39;</span><span class="p">)</span>
<span class="go">Out[6]:</span>
<span class="go">2010-03-31    0</span>
<span class="go">2010-04-30    0</span>
<span class="go">2010-05-31    0</span>
<span class="go">2010-06-30    1</span>
<span class="go">2010-07-31    1</span>
<span class="go">2010-08-31    1</span>
<span class="go">2010-09-30    2</span>
<span class="go">2010-10-31    2</span>
<span class="go">2010-11-30    2</span>
<span class="go">2010-12-31    3</span>
<span class="go">2011-01-31    3</span>
<span class="go">2011-02-28    3</span>
<span class="go">2011-03-31    4</span>
<span class="go">Freq: M, dtype: int64</span>
</pre></div>
</div>
<p>New API</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [91]: </span><span class="n">s</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span>
<span class="gr">Out[91]: </span>
<span class="go">2010-03-31    0</span>
<span class="go">2010-04-30    0</span>
<span class="go">2010-05-31    0</span>
<span class="go">2010-06-30    1</span>
<span class="go">2010-07-31    1</span>
<span class="go">2010-08-31    1</span>
<span class="go">2010-09-30    2</span>
<span class="go">2010-10-31    2</span>
<span class="go">2010-11-30    2</span>
<span class="go">2010-12-31    3</span>
<span class="go">2011-01-31    3</span>
<span class="go">2011-02-28    3</span>
<span class="go">2011-03-31    4</span>
<span class="go">Freq: M, dtype: int64</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the new API, you can either downsample OR upsample. The prior implementation would allow you to pass an aggregator function (like <code class="docutils literal"><span class="pre">mean</span></code>) even though you were upsampling, providing a bit of confusion.</p>
</div>
</div>
<div class="section" id="previous-api-will-work-but-with-deprecations">
<h5>Previous API will work but with deprecations<a class="headerlink" href="#previous-api-will-work-but-with-deprecations" title="Permalink to this headline">¶</a></h5>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>This new API for resample includes some internal changes for the prior-to-0.18.0 API, to work with a deprecation warning in most cases, as the resample operation returns a deferred object. We can intercept operations and just do what the (pre 0.18.0) API did (with a warning). Here is a typical use case:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">r</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;2s&#39;</span><span class="p">)</span>

<span class="gp">In [6]: </span><span class="n">r</span><span class="o">*</span><span class="mi">10</span>
<span class="go">pandas/tseries/resample.py:80: FutureWarning: .resample() is now a deferred operation</span>
<span class="go">use .resample(...).mean() instead of .resample(...)</span>

<span class="go">Out[6]:</span>
<span class="go">                      A         B         C         D</span>
<span class="go">2010-01-01 09:00:00  4.857476  4.473507  3.570960  7.936154</span>
<span class="go">2010-01-01 09:00:02  8.208011  7.943173  3.640340  5.310957</span>
<span class="go">2010-01-01 09:00:04  4.339846  3.145823  4.241039  6.257326</span>
<span class="go">2010-01-01 09:00:06  6.249881  6.097384  6.331650  6.124518</span>
<span class="go">2010-01-01 09:00:08  5.104699  5.343172  5.732009  8.069486</span>
</pre></div>
</div>
<p>However, getting and assignment operations directly on a <code class="docutils literal"><span class="pre">Resampler</span></code> will raise a <code class="docutils literal"><span class="pre">ValueError</span></code>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">r</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="go">ValueError: .resample() is now a deferred operation</span>
<span class="go">use .resample(...).mean() instead of .resample(...)</span>
</pre></div>
</div>
<p>There is a situation where the new API can not perform all the operations when using original code.
This code is intending to resample every 2s, take the <code class="docutils literal"><span class="pre">mean</span></code> AND then take the <code class="docutils literal"><span class="pre">min</span></code> of those results.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;2s&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="go">Out[4]:</span>
<span class="go">A    0.433985</span>
<span class="go">B    0.314582</span>
<span class="go">C    0.357096</span>
<span class="go">D    0.531096</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>The new API will:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [92]: </span><span class="n">df</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;2s&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="gr">Out[92]: </span>
<span class="go">                            A         B         C         D</span>
<span class="go">2010-01-01 09:00:00  0.191519  0.272593  0.276464  0.785359</span>
<span class="go">2010-01-01 09:00:02  0.683463  0.712702  0.357817  0.500995</span>
<span class="go">2010-01-01 09:00:04  0.364886  0.013768  0.075381  0.368824</span>
<span class="go">2010-01-01 09:00:06  0.316836  0.568099  0.397203  0.436173</span>
<span class="go">2010-01-01 09:00:08  0.218792  0.143767  0.442141  0.704581</span>
</pre></div>
</div>
<p>The good news is the return dimensions will differ between the new API and the old API, so this should loudly raise
an exception.</p>
<p>To replicate the original operation</p>
<div class="last highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [93]: </span><span class="n">df</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;2s&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="gr">Out[93]: </span>
<span class="go">A    0.433985</span>
<span class="go">B    0.314582</span>
<span class="go">C    0.357096</span>
<span class="go">D    0.531096</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="changes-to-eval">
<h4>Changes to eval<a class="headerlink" href="#changes-to-eval" title="Permalink to this headline">¶</a></h4>
<p>In prior versions, new columns assignments in an <code class="docutils literal"><span class="pre">eval</span></code> expression resulted
in an inplace change to the <code class="docutils literal"><span class="pre">DataFrame</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9297">GH9297</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8664">GH8664</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10486">GH10486</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [94]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)})</span>

<span class="gp">In [95]: </span><span class="n">df</span>
<span class="gr">Out[95]: </span>
<span class="go">      a  b</span>
<span class="go">0   0.0  0</span>
<span class="go">1   2.5  1</span>
<span class="go">2   5.0  2</span>
<span class="go">3   7.5  3</span>
<span class="go">4  10.0  4</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="n">df</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;c = a + b&#39;</span><span class="p">)</span>
<span class="go">FutureWarning: eval expressions containing an assignment currentlydefault to operating inplace.</span>
<span class="go">This will change in a future version of pandas, use inplace=True to avoid this warning.</span>

<span class="gp">In [13]: </span><span class="n">df</span>
<span class="go">Out[13]:</span>
<span class="go">      a  b     c</span>
<span class="go">0   0.0  0   0.0</span>
<span class="go">1   2.5  1   3.5</span>
<span class="go">2   5.0  2   7.0</span>
<span class="go">3   7.5  3  10.5</span>
<span class="go">4  10.0  4  14.0</span>
</pre></div>
</div>
<p>In version 0.18.0, a new <code class="docutils literal"><span class="pre">inplace</span></code> keyword was added to choose whether the
assignment should be done inplace or return a copy.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [96]: </span><span class="n">df</span>
<span class="gr">Out[96]: </span>
<span class="go">      a  b     c</span>
<span class="go">0   0.0  0   0.0</span>
<span class="go">1   2.5  1   3.5</span>
<span class="go">2   5.0  2   7.0</span>
<span class="go">3   7.5  3  10.5</span>
<span class="go">4  10.0  4  14.0</span>

<span class="gp">In [97]: </span><span class="n">df</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;d = c - b&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gr">Out[97]: </span>
<span class="go">      a  b     c     d</span>
<span class="go">0   0.0  0   0.0   0.0</span>
<span class="go">1   2.5  1   3.5   2.5</span>
<span class="go">2   5.0  2   7.0   5.0</span>
<span class="go">3   7.5  3  10.5   7.5</span>
<span class="go">4  10.0  4  14.0  10.0</span>

<span class="gp">In [98]: </span><span class="n">df</span>
<span class="gr">Out[98]: </span>
<span class="go">      a  b     c</span>
<span class="go">0   0.0  0   0.0</span>
<span class="go">1   2.5  1   3.5</span>
<span class="go">2   5.0  2   7.0</span>
<span class="go">3   7.5  3  10.5</span>
<span class="go">4  10.0  4  14.0</span>

<span class="gp">In [99]: </span><span class="n">df</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;d = c - b&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="gp">In [100]: </span><span class="n">df</span>
<span class="gr">Out[100]: </span>
<span class="go">      a  b     c     d</span>
<span class="go">0   0.0  0   0.0   0.0</span>
<span class="go">1   2.5  1   3.5   2.5</span>
<span class="go">2   5.0  2   7.0   5.0</span>
<span class="go">3   7.5  3  10.5   7.5</span>
<span class="go">4  10.0  4  14.0  10.0</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">For backwards compatability, <code class="docutils literal"><span class="pre">inplace</span></code> defaults to <code class="docutils literal"><span class="pre">True</span></code> if not specified.
This will change in a future version of pandas. If your code depends on an
inplace assignment you should update to explicitly set <code class="docutils literal"><span class="pre">inplace=True</span></code></p>
</div>
<p>The <code class="docutils literal"><span class="pre">inplace</span></code> keyword parameter was also added the <code class="docutils literal"><span class="pre">query</span></code> method.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [101]: </span><span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;a &gt; 5&#39;</span><span class="p">)</span>
<span class="gr">Out[101]: </span>
<span class="go">      a  b     c     d</span>
<span class="go">3   7.5  3  10.5   7.5</span>
<span class="go">4  10.0  4  14.0  10.0</span>

<span class="gp">In [102]: </span><span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;a &gt; 5&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="gp">In [103]: </span><span class="n">df</span>
<span class="gr">Out[103]: </span>
<span class="go">      a  b     c     d</span>
<span class="go">3   7.5  3  10.5   7.5</span>
<span class="go">4  10.0  4  14.0  10.0</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Note that the default value for <code class="docutils literal"><span class="pre">inplace</span></code> in a <code class="docutils literal"><span class="pre">query</span></code>
is <code class="docutils literal"><span class="pre">False</span></code>, which is consistent with prior versions.</p>
</div>
<p><code class="docutils literal"><span class="pre">eval</span></code> has also been updated to allow multi-line expressions for multiple
assignments.  These expressions will be evaluated one at a time in order.  Only
assignments are valid for multi-line expressions.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [104]: </span><span class="n">df</span>
<span class="gr">Out[104]: </span>
<span class="go">      a  b     c     d</span>
<span class="go">3   7.5  3  10.5   7.5</span>
<span class="go">4  10.0  4  14.0  10.0</span>

<span class="gp">In [105]: </span><span class="n">df</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">   .....:</span><span class="s2"> e = d + a</span>
<span class="gp">   .....:</span><span class="s2"> f = e - 22</span>
<span class="gp">   .....:</span><span class="s2"> g = f / 2.0&quot;&quot;&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">   .....:</span> 

<span class="gp">In [106]: </span><span class="n">df</span>
<span class="gr">Out[106]: </span>
<span class="go">      a  b     c     d     e    f    g</span>
<span class="go">3   7.5  3  10.5   7.5  15.0 -7.0 -3.5</span>
<span class="go">4  10.0  4  14.0  10.0  20.0 -2.0 -1.0</span>
</pre></div>
</div>
</div>
<div class="section" id="whatsnew-0180-api">
<span id="id15"></span><h4>Other API Changes<a class="headerlink" href="#whatsnew-0180-api" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.between_time</span></code> and <code class="docutils literal"><span class="pre">Series.between_time</span></code> now only parse a fixed set of time strings. Parsing of date strings is no longer supported and raises a <code class="docutils literal"><span class="pre">ValueError</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11818">GH11818</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [107]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2015-01-01&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>

<span class="gp">In [108]: </span><span class="n">s</span><span class="o">.</span><span class="n">between_time</span><span class="p">(</span><span class="s2">&quot;7:00am&quot;</span><span class="p">,</span> <span class="s2">&quot;9:00am&quot;</span><span class="p">)</span>
<span class="gr">Out[108]: </span>
<span class="go">2015-01-01 07:00:00    7</span>
<span class="go">2015-01-01 08:00:00    8</span>
<span class="go">2015-01-01 09:00:00    9</span>
<span class="go">Freq: H, dtype: int64</span>
</pre></div>
</div>
<p>This will now raise.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">s</span><span class="o">.</span><span class="n">between_time</span><span class="p">(</span><span class="s1">&#39;20150101 07:00:00&#39;</span><span class="p">,</span><span class="s1">&#39;20150101 09:00:00&#39;</span><span class="p">)</span>
<span class="go">ValueError: Cannot convert arg [&#39;20150101 07:00:00&#39;] to a time.</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">.memory_usage()</span></code> now includes values in the index, as does memory_usage in <code class="docutils literal"><span class="pre">.info()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11597">GH11597</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.to_latex()</span></code> now supports non-ascii encodings (eg <code class="docutils literal"><span class="pre">utf-8</span></code>) in Python 2 with the parameter <code class="docutils literal"><span class="pre">encoding</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7061">GH7061</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pandas.merge()</span></code> and <code class="docutils literal"><span class="pre">DataFrame.merge()</span></code> will show a specific error message when trying to merge with an object that is not of type <code class="docutils literal"><span class="pre">DataFrame</span></code> or a subclass (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12081">GH12081</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.unstack</span></code> and <code class="docutils literal"><span class="pre">Series.unstack</span></code> now take <code class="docutils literal"><span class="pre">fill_value</span></code> keyword to allow direct replacement of missing values when an unstack results in missing values in the resulting <code class="docutils literal"><span class="pre">DataFrame</span></code>. As an added benefit, specifying <code class="docutils literal"><span class="pre">fill_value</span></code> will preserve the data type of the original stacked data.  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9746">GH9746</a>)</p>
</li>
<li><p class="first">As part of the new API for <a class="reference internal" href="#whatsnew-0180-enhancements-moments"><span class="std std-ref">window functions</span></a> and <a class="reference internal" href="#whatsnew-0180-breaking-resample"><span class="std std-ref">resampling</span></a>, aggregation functions have been clarified, raising more informative error messages on invalid aggregations. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9052">GH9052</a>). A full set of examples are presented in <a class="reference internal" href="groupby.html#groupby-aggregate"><span class="std std-ref">groupby</span></a>.</p>
</li>
<li><p class="first">Statistical functions for <code class="docutils literal"><span class="pre">NDFrame</span></code> objects (like <code class="docutils literal"><span class="pre">sum(),</span> <span class="pre">mean(),</span> <span class="pre">min()</span></code>) will now raise if non-numpy-compatible arguments are passed in for <code class="docutils literal"><span class="pre">**kwargs</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12301">GH12301</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">.to_latex</span></code> and <code class="docutils literal"><span class="pre">.to_html</span></code> gain a <code class="docutils literal"><span class="pre">decimal</span></code> parameter like <code class="docutils literal"><span class="pre">.to_csv</span></code>; the default is <code class="docutils literal"><span class="pre">'.'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12031">GH12031</a>)</p>
</li>
<li><p class="first">More helpful error message when constructing a <code class="docutils literal"><span class="pre">DataFrame</span></code> with empty data but with indices (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8020">GH8020</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">.describe()</span></code> will now properly handle bool dtype as a categorical (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6625">GH6625</a>)</p>
</li>
<li><p class="first">More helpful error message with an invalid <code class="docutils literal"><span class="pre">.transform</span></code> with user defined input (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10165">GH10165</a>)</p>
</li>
<li><p class="first">Exponentially weighted functions now allow specifying alpha directly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10789">GH10789</a>) and raise <code class="docutils literal"><span class="pre">ValueError</span></code> if parameters violate <code class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;</span> <span class="pre">alpha</span> <span class="pre">&lt;=</span> <span class="pre">1</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12492">GH12492</a>)</p>
</li>
</ul>
</div>
<div class="section" id="whatsnew-0180-deprecations">
<span id="id16"></span><h4>Deprecations<a class="headerlink" href="#whatsnew-0180-deprecations" title="Permalink to this headline">¶</a></h4>
<ul id="whatsnew-0180-window-deprecations">
<li><p class="first">The functions <code class="docutils literal"><span class="pre">pd.rolling_*</span></code>, <code class="docutils literal"><span class="pre">pd.expanding_*</span></code>, and <code class="docutils literal"><span class="pre">pd.ewm*</span></code> are deprecated and replaced by the corresponding method call. Note that
the new suggested syntax includes all of the arguments (even if default) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11603">GH11603</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

<span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">rolling_mean</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">window</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">min_periods</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">        FutureWarning: pd.rolling_mean is deprecated for Series and</span>
<span class="go">             will be removed in a future version, replace with</span>
<span class="go">             Series.rolling(min_periods=1,window=2,center=False).mean()</span>
<span class="go">Out[2]:</span>
<span class="go">        0    0.0</span>
<span class="go">        1    0.5</span>
<span class="go">        2    1.5</span>
<span class="go">        dtype: float64</span>

<span class="gp">In [3]: </span><span class="n">pd</span><span class="o">.</span><span class="n">rolling_cov</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">        FutureWarning: pd.rolling_cov is deprecated for Series and</span>
<span class="go">             will be removed in a future version, replace with</span>
<span class="go">             Series.rolling(window=2).cov(other=&lt;Series&gt;)</span>
<span class="go">Out[3]:</span>
<span class="go">        0    NaN</span>
<span class="go">        1    0.5</span>
<span class="go">        2    0.5</span>
<span class="go">        dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first">The the <code class="docutils literal"><span class="pre">freq</span></code> and <code class="docutils literal"><span class="pre">how</span></code> arguments to the <code class="docutils literal"><span class="pre">.rolling</span></code>, <code class="docutils literal"><span class="pre">.expanding</span></code>, and <code class="docutils literal"><span class="pre">.ewm</span></code> (new) functions are deprecated, and will be removed in a future version. You can simply resample the input prior to creating a window function. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11603">GH11603</a>).</p>
<p>For example, instead of <code class="docutils literal"><span class="pre">s.rolling(window=5,freq='D').max()</span></code> to get the max value on a rolling 5 Day window, one could use <code class="docutils literal"><span class="pre">s.resample('D').mean().rolling(window=5).max()</span></code>, which first resamples the data to daily data, then provides a rolling 5 day window.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.tseries.frequencies.get_offset_name</span></code> function is deprecated. Use offset&#8217;s <code class="docutils literal"><span class="pre">.freqstr</span></code> property as alternative (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11192">GH11192</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pandas.stats.fama_macbeth</span></code> routines are deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6077">GH6077</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pandas.stats.ols</span></code>, <code class="docutils literal"><span class="pre">pandas.stats.plm</span></code> and <code class="docutils literal"><span class="pre">pandas.stats.var</span></code> routines are deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6077">GH6077</a>)</p>
</li>
<li><p class="first">show a <code class="docutils literal"><span class="pre">FutureWarning</span></code> rather than a <code class="docutils literal"><span class="pre">DeprecationWarning</span></code> on using long-time deprecated syntax in <code class="docutils literal"><span class="pre">HDFStore.select</span></code>, where the <code class="docutils literal"><span class="pre">where</span></code> clause is not a string-like (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12027">GH12027</a>)</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">pandas.options.display.mpl_style</span></code> configuration has been deprecated
and will be removed in a future version of pandas. This functionality
is better handled by matplotlib&#8217;s <a class="reference external" href="http://matplotlib.org/users/style_sheets.html">style sheets</a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11783">GH11783</a>).</p>
</li>
</ul>
</div>
<div class="section" id="removal-of-deprecated-float-indexers">
<span id="whatsnew-0180-float-indexers"></span><h4>Removal of deprecated float indexers<a class="headerlink" href="#removal-of-deprecated-float-indexers" title="Permalink to this headline">¶</a></h4>
<p>In <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4892">GH4892</a> indexing with floating point numbers on a non-<code class="docutils literal"><span class="pre">Float64Index</span></code> was deprecated (in version 0.14.0).
In 0.18.0, this deprecation warning is removed and these will now raise a <code class="docutils literal"><span class="pre">TypeError</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12165">GH12165</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12333">GH12333</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [109]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>

<span class="gp">In [110]: </span><span class="n">s</span>
<span class="gr">Out[110]: </span>
<span class="go">4    1</span>
<span class="go">5    2</span>
<span class="go">6    3</span>
<span class="go">dtype: int64</span>

<span class="gp">In [111]: </span><span class="n">s2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">))</span>

<span class="gp">In [112]: </span><span class="n">s2</span>
<span class="gr">Out[112]: </span>
<span class="go">a    1</span>
<span class="go">b    2</span>
<span class="go">c    3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>Previous Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># this is label indexing</span>
<span class="gp">In [2]: </span><span class="n">s</span><span class="p">[</span><span class="mf">5.0</span><span class="p">]</span>
<span class="go">FutureWarning: scalar indexers for index type Int64Index should be integers and not floating point</span>
<span class="gr">Out[2]: </span><span class="mi">2</span>

<span class="c"># this is positional indexing</span>
<span class="gp">In [3]: </span><span class="n">s</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mf">1.0</span><span class="p">]</span>
<span class="go">FutureWarning: scalar indexers for index type Int64Index should be integers and not floating point</span>
<span class="gr">Out[3]: </span><span class="mi">2</span>

<span class="c"># this is label indexing</span>
<span class="gp">In [4]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mf">5.0</span><span class="p">]</span>
<span class="go">FutureWarning: scalar indexers for index type Int64Index should be integers and not floating point</span>
<span class="gr">Out[4]: </span><span class="mi">2</span>

<span class="c"># .ix would coerce 1.0 to the positional 1, and index</span>
<span class="gp">In [5]: </span><span class="n">s2</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mf">1.0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
<span class="go">FutureWarning: scalar indexers for index type Index should be integers and not floating point</span>

<span class="gp">In [6]: </span><span class="n">s2</span>
<span class="go">Out[6]:</span>
<span class="go">a     1</span>
<span class="go">b    10</span>
<span class="go">c     3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>New Behavior:</p>
<p>For iloc, getting &amp; setting via a float scalar will always raise.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">s</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mf">2.0</span><span class="p">]</span>
<span class="go">TypeError: cannot do label indexing on &lt;class &#39;pandas.indexes.numeric.Int64Index&#39;&gt; with these indexers [2.0] of &lt;type &#39;float&#39;&gt;</span>
</pre></div>
</div>
<p>Other indexers will coerce to a like integer for both getting and setting. The <code class="docutils literal"><span class="pre">FutureWarning</span></code> has been dropped for <code class="docutils literal"><span class="pre">.loc</span></code>, <code class="docutils literal"><span class="pre">.ix</span></code> and <code class="docutils literal"><span class="pre">[]</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [113]: </span><span class="n">s</span><span class="p">[</span><span class="mf">5.0</span><span class="p">]</span>
<span class="gr">Out[113]: </span><span class="mi">2</span>

<span class="gp">In [114]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mf">5.0</span><span class="p">]</span>
<span class="gr">Out[114]: </span><span class="mi">2</span>

<span class="gp">In [115]: </span><span class="n">s</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mf">5.0</span><span class="p">]</span>
<span class="gr">Out[115]: </span><span class="mi">2</span>
</pre></div>
</div>
<p>and setting</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [116]: </span><span class="n">s_copy</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="gp">In [117]: </span><span class="n">s_copy</span><span class="p">[</span><span class="mf">5.0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>

<span class="gp">In [118]: </span><span class="n">s_copy</span>
<span class="gr">Out[118]: </span>
<span class="go">4     1</span>
<span class="go">5    10</span>
<span class="go">6     3</span>
<span class="go">dtype: int64</span>

<span class="gp">In [119]: </span><span class="n">s_copy</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="gp">In [120]: </span><span class="n">s_copy</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mf">5.0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>

<span class="gp">In [121]: </span><span class="n">s_copy</span>
<span class="gr">Out[121]: </span>
<span class="go">4     1</span>
<span class="go">5    10</span>
<span class="go">6     3</span>
<span class="go">dtype: int64</span>

<span class="gp">In [122]: </span><span class="n">s_copy</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="gp">In [123]: </span><span class="n">s_copy</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mf">5.0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>

<span class="gp">In [124]: </span><span class="n">s_copy</span>
<span class="gr">Out[124]: </span>
<span class="go">4     1</span>
<span class="go">5    10</span>
<span class="go">6     3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>Positional setting with <code class="docutils literal"><span class="pre">.ix</span></code> and a float indexer will ADD this value to the index, rather than previously setting the value by position.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [125]: </span><span class="n">s2</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mf">1.0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>

<span class="gp">In [126]: </span><span class="n">s2</span>
<span class="gr">Out[126]: </span>
<span class="go">a       1</span>
<span class="go">b       2</span>
<span class="go">c       3</span>
<span class="go">1.0    10</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>Slicing will also coerce integer-like floats to integers for a non-<code class="docutils literal"><span class="pre">Float64Index</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [127]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mf">5.0</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
<span class="gr">Out[127]: </span>
<span class="go">5    2</span>
<span class="go">6    3</span>
<span class="go">dtype: int64</span>

<span class="gp">In [128]: </span><span class="n">s</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mf">5.0</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
<span class="gr">Out[128]: </span>
<span class="go">5    2</span>
<span class="go">6    3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>Note that for floats that are NOT coercible to ints, the label based bounds will be excluded</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [129]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mf">5.1</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
<span class="gr">Out[129]: </span>
<span class="go">6    3</span>
<span class="go">dtype: int64</span>

<span class="gp">In [130]: </span><span class="n">s</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mf">5.1</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
<span class="gr">Out[130]: </span>
<span class="go">6    3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>Float indexing on a <code class="docutils literal"><span class="pre">Float64Index</span></code> is unchanged.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [131]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">3.</span><span class="p">))</span>

<span class="gp">In [132]: </span><span class="n">s</span><span class="p">[</span><span class="mf">1.0</span><span class="p">]</span>
<span class="gr">Out[132]: </span><span class="mi">2</span>

<span class="gp">In [133]: </span><span class="n">s</span><span class="p">[</span><span class="mf">1.0</span><span class="p">:</span><span class="mf">2.5</span><span class="p">]</span>
<span class="gr">Out[133]: </span>
<span class="go">1.0    2</span>
<span class="go">2.0    3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</div>
<div class="section" id="whatsnew-0180-prior-deprecations">
<span id="id17"></span><h4>Removal of prior version deprecations/changes<a class="headerlink" href="#whatsnew-0180-prior-deprecations" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Removal of <code class="docutils literal"><span class="pre">rolling_corr_pairwise</span></code> in favor of <code class="docutils literal"><span class="pre">.rolling().corr(pairwise=True)</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4950">GH4950</a>)</li>
<li>Removal of <code class="docutils literal"><span class="pre">expanding_corr_pairwise</span></code> in favor of <code class="docutils literal"><span class="pre">.expanding().corr(pairwise=True)</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4950">GH4950</a>)</li>
<li>Removal of <code class="docutils literal"><span class="pre">DataMatrix</span></code> module. This was not imported into the pandas namespace in any event (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12111">GH12111</a>)</li>
<li>Removal of <code class="docutils literal"><span class="pre">cols</span></code> keyword in favor of <code class="docutils literal"><span class="pre">subset</span></code> in <code class="docutils literal"><span class="pre">DataFrame.duplicated()</span></code> and <code class="docutils literal"><span class="pre">DataFrame.drop_duplicates()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6680">GH6680</a>)</li>
<li>Removal of the <code class="docutils literal"><span class="pre">read_frame</span></code> and <code class="docutils literal"><span class="pre">frame_query</span></code> (both aliases for <code class="docutils literal"><span class="pre">pd.read_sql</span></code>)
and <code class="docutils literal"><span class="pre">write_frame</span></code> (alias of <code class="docutils literal"><span class="pre">to_sql</span></code>) functions in the <code class="docutils literal"><span class="pre">pd.io.sql</span></code> namespace,
deprecated since 0.14.0 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6292">GH6292</a>).</li>
<li>Removal of the <code class="docutils literal"><span class="pre">order</span></code> keyword from <code class="docutils literal"><span class="pre">.factorize()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6930">GH6930</a>)</li>
</ul>
</div>
</div>
<div class="section" id="whatsnew-0180-performance">
<span id="id18"></span><h3>Performance Improvements<a class="headerlink" href="#whatsnew-0180-performance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Improved performance of <code class="docutils literal"><span class="pre">andrews_curves</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11534">GH11534</a>)</li>
<li>Improved huge <code class="docutils literal"><span class="pre">DatetimeIndex</span></code>, <code class="docutils literal"><span class="pre">PeriodIndex</span></code> and <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code>&#8216;s ops performance including <code class="docutils literal"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10277">GH10277</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">pandas.concat</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11958">GH11958</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">StataReader</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11591">GH11591</a>)</li>
<li>Improved performance in construction of <code class="docutils literal"><span class="pre">Categoricals</span></code> with <code class="docutils literal"><span class="pre">Series</span></code> of datetimes containing <code class="docutils literal"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12077">GH12077</a>)</li>
<li>Improved performance of ISO 8601 date parsing for dates without separators (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11899">GH11899</a>), leading zeros (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11871">GH11871</a>) and with whitespace preceding the time zone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9714">GH9714</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0180-bug-fixes">
<span id="id19"></span><h3>Bug Fixes<a class="headerlink" href="#whatsnew-0180-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Bug in <code class="docutils literal"><span class="pre">GroupBy.size</span></code> when data-frame is empty. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11699">GH11699</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Period.end_time</span></code> when a multiple of time period is requested (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11738">GH11738</a>)</li>
<li>Regression in <code class="docutils literal"><span class="pre">.clip</span></code> with tz-aware datetimes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11838">GH11838</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">date_range</span></code> when the boundaries fell on the frequency (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11804">GH11804</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12409">GH12409</a>)</li>
<li>Bug in consistency of passing nested dicts to <code class="docutils literal"><span class="pre">.groupby(...).agg(...)</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9052">GH9052</a>)</li>
<li>Accept unicode in <code class="docutils literal"><span class="pre">Timedelta</span></code> constructor (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11995">GH11995</a>)</li>
<li>Bug in value label reading for <code class="docutils literal"><span class="pre">StataReader</span></code> when reading incrementally (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12014">GH12014</a>)</li>
<li>Bug in vectorized <code class="docutils literal"><span class="pre">DateOffset</span></code> when <code class="docutils literal"><span class="pre">n</span></code> parameter is <code class="docutils literal"><span class="pre">0</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11370">GH11370</a>)</li>
<li>Compat for numpy 1.11 w.r.t. <code class="docutils literal"><span class="pre">NaT</span></code> comparison changes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12049">GH12049</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_csv</span></code> when reading from a <code class="docutils literal"><span class="pre">StringIO</span></code> in threads (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11790">GH11790</a>)</li>
<li>Bug in not treating <code class="docutils literal"><span class="pre">NaT</span></code> as a missing value in datetimelikes when factorizing &amp; with <code class="docutils literal"><span class="pre">Categoricals</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12077">GH12077</a>)</li>
<li>Bug in getitem when the values of a <code class="docutils literal"><span class="pre">Series</span></code> were tz-aware (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12089">GH12089</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.str.get_dummies</span></code> when one of the variables was &#8216;name&#8217; (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12180">GH12180</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.concat</span></code> while concatenating tz-aware NaT series. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11693">GH11693</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11755">GH11755</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12217">GH12217</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_stata</span></code> with version &lt;= 108 files (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12232">GH12232</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.resample</span></code> using a frequency of <code class="docutils literal"><span class="pre">Nano</span></code> when the index is a <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> and contains non-zero nanosecond parts (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12037">GH12037</a>)</li>
<li>Bug in resampling with <code class="docutils literal"><span class="pre">.nunique</span></code> and a sparse index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12352">GH12352</a>)</li>
<li>Removed some compiler warnings (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12471">GH12471</a>)</li>
<li>Work around compat issues with <code class="docutils literal"><span class="pre">boto</span></code> in python 3.5 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11915">GH11915</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">NaT</span></code> subtraction from <code class="docutils literal"><span class="pre">Timestamp</span></code> or <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> with timezones (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11718">GH11718</a>)</li>
<li>Bug in subtraction of <code class="docutils literal"><span class="pre">Series</span></code> of a single tz-aware <code class="docutils literal"><span class="pre">Timestamp</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12290">GH12290</a>)</li>
<li>Use compat iterators in PY2 to support <code class="docutils literal"><span class="pre">.next()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12299">GH12299</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Timedelta.round</span></code> with negative values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11690">GH11690</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.loc</span></code> against <code class="docutils literal"><span class="pre">CategoricalIndex</span></code> may result in normal <code class="docutils literal"><span class="pre">Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11586">GH11586</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.info</span></code> when duplicated column names exist (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11761">GH11761</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.copy</span></code> of datetime tz-aware objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11794">GH11794</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.apply</span></code> and <code class="docutils literal"><span class="pre">Series.map</span></code> where <code class="docutils literal"><span class="pre">timedelta64</span></code> was not boxed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11349">GH11349</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.set_index()</span></code> with tz-aware <code class="docutils literal"><span class="pre">Series</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12358">GH12358</a>)</li>
<li>Bug in subclasses of <code class="docutils literal"><span class="pre">DataFrame</span></code> where <code class="docutils literal"><span class="pre">AttributeError</span></code> did not propagate (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11808">GH11808</a>)</li>
<li>Bug groupby on tz-aware data where selection not returning <code class="docutils literal"><span class="pre">Timestamp</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11616">GH11616</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_clipboard</span></code> and <code class="docutils literal"><span class="pre">pd.to_clipboard</span></code> functions not supporting Unicode; upgrade included <code class="docutils literal"><span class="pre">pyperclip</span></code> to v1.5.15 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9263">GH9263</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.query</span></code> containing an assignment (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8664">GH8664</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">from_msgpack</span></code> where <code class="docutils literal"><span class="pre">__contains__()</span></code> fails for columns of the unpacked <code class="docutils literal"><span class="pre">DataFrame</span></code>, if the <code class="docutils literal"><span class="pre">DataFrame</span></code> has object columns. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11880">GH11880</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.resample</span></code> on categorical data with <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12169">GH12169</a>)</li>
<li>Bug in timezone info lost when broadcasting scalar datetime to <code class="docutils literal"><span class="pre">DataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11682">GH11682</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index</span></code> creation from <code class="docutils literal"><span class="pre">Timestamp</span></code> with mixed tz coerces to UTC (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11488">GH11488</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_numeric</span></code> where it does not raise if input is more than one dimension (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11776">GH11776</a>)</li>
<li>Bug in parsing timezone offset strings with non-zero minutes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11708">GH11708</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">df.plot</span></code> using incorrect colors for bar plots under matplotlib 1.5+ (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11614">GH11614</a>)</li>
<li>Bug in the <code class="docutils literal"><span class="pre">groupby</span></code> <code class="docutils literal"><span class="pre">plot</span></code> method when using keyword arguments (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11805">GH11805</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.duplicated</span></code> and <code class="docutils literal"><span class="pre">drop_duplicates</span></code> causing spurious matches when setting <code class="docutils literal"><span class="pre">keep=False</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11864">GH11864</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.loc</span></code> result with duplicated key may have <code class="docutils literal"><span class="pre">Index</span></code> with incorrect dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11497">GH11497</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.rolling_median</span></code> where memory allocation failed even with sufficient memory (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11696">GH11696</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.style</span></code> with spurious zeros (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12134">GH12134</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.style</span></code> with integer columns not starting at 0 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12125">GH12125</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.style.bar</span></code> may not rendered properly using specific browser (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11678">GH11678</a>)</li>
<li>Bug in rich comparison of <code class="docutils literal"><span class="pre">Timedelta</span></code> with a <code class="docutils literal"><span class="pre">numpy.array</span></code> of <code class="docutils literal"><span class="pre">Timedelta</span></code> that caused an infinite recursion (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11835">GH11835</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.round</span></code> dropping column index name (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11986">GH11986</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">df.replace</span></code> while replacing value in mixed dtype <code class="docutils literal"><span class="pre">Dataframe</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11698">GH11698</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index</span></code> prevents copying name of passed <code class="docutils literal"><span class="pre">Index</span></code>, when a new name is not provided (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11193">GH11193</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_excel</span></code> failing to read any non-empty sheets when empty sheets exist and <code class="docutils literal"><span class="pre">sheetname=None</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11711">GH11711</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_excel</span></code> failing to raise <code class="docutils literal"><span class="pre">NotImplemented</span></code> error when keywords <code class="docutils literal"><span class="pre">parse_dates</span></code> and <code class="docutils literal"><span class="pre">date_parser</span></code> are provided (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11544">GH11544</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_sql</span></code> with <code class="docutils literal"><span class="pre">pymysql</span></code> connections failing to return chunked data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11522">GH11522</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.to_csv</span></code> ignoring formatting parameters <code class="docutils literal"><span class="pre">decimal</span></code>, <code class="docutils literal"><span class="pre">na_rep</span></code>, <code class="docutils literal"><span class="pre">float_format</span></code> for float indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11553">GH11553</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Int64Index</span></code> and <code class="docutils literal"><span class="pre">Float64Index</span></code> preventing the use of the modulo operator (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9244">GH9244</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">MultiIndex.drop</span></code> for not lexsorted multi-indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12078">GH12078</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame</span></code> when masking an empty <code class="docutils literal"><span class="pre">DataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11859">GH11859</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.plot</span></code> potentially modifying the <code class="docutils literal"><span class="pre">colors</span></code> input when the number of columns didn&#8217;t match the number of series provided (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12039">GH12039</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.plot</span></code> failing when index has a <code class="docutils literal"><span class="pre">CustomBusinessDay</span></code> frequency (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7222">GH7222</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">.to_sql</span></code> for <code class="docutils literal"><span class="pre">datetime.time</span></code> values with sqlite fallback (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8341">GH8341</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_excel</span></code> failing to read data with one column when <code class="docutils literal"><span class="pre">squeeze=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12157">GH12157</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_excel</span></code> failing to read one empty column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12292">GH12292</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9002">GH9002</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.groupby</span></code> where a <code class="docutils literal"><span class="pre">KeyError</span></code> was not raised for a wrong column if there was only one row in the dataframe (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11741">GH11741</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.read_csv</span></code> with dtype specified on empty data producing an error (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12048">GH12048</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.read_csv</span></code> where strings like <code class="docutils literal"><span class="pre">'2E'</span></code> are treated as valid floats (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12237">GH12237</a>)</li>
<li>Bug in building <em>pandas</em> with debugging symbols (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12123">GH12123</a>)</li>
<li>Removed <code class="docutils literal"><span class="pre">millisecond</span></code> property of <code class="docutils literal"><span class="pre">DatetimeIndex</span></code>. This would always raise a <code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12019">GH12019</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series</span></code> constructor with read-only data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11502">GH11502</a>)</li>
<li>Removed <code class="docutils literal"><span class="pre">pandas.util.testing.choice()</span></code>.  Should use <code class="docutils literal"><span class="pre">np.random.choice()</span></code>, instead. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12386">GH12386</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.loc</span></code> setitem indexer preventing the use of a TZ-aware DatetimeIndex (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12050">GH12050</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.style</span></code> indexes and multi-indexes not appearing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11655">GH11655</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_msgpack</span></code> and <code class="docutils literal"><span class="pre">from_msgpack</span></code> which did not correctly serialize or deserialize <code class="docutils literal"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12307">GH12307</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">.skew</span></code> and <code class="docutils literal"><span class="pre">.kurt</span></code> due to roundoff error for highly similar values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11974">GH11974</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Timestamp</span></code> constructor where microsecond resolution was lost if HHMMSS were not separated with &#8216;:&#8217; (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10041">GH10041</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">buffer_rd_bytes</span></code> src-&gt;buffer could be freed more than once if reading failed, causing a segfault (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12098">GH12098</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">crosstab</span></code> where arguments with non-overlapping indexes would return a <code class="docutils literal"><span class="pre">KeyError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10291">GH10291</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.apply</span></code> in which reduction was not being prevented for cases in which <code class="docutils literal"><span class="pre">dtype</span></code> was not a numpy dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12244">GH12244</a>)</li>
<li>Bug when initializing categorical series with a scalar value. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12336">GH12336</a>)</li>
<li>Bug when specifying a UTC <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> by setting <code class="docutils literal"><span class="pre">utc=True</span></code> in <code class="docutils literal"><span class="pre">.to_datetime</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11934">GH11934</a>)</li>
<li>Bug when increasing the buffer size of CSV reader in <code class="docutils literal"><span class="pre">read_csv</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12494">GH12494</a>)</li>
<li>Bug when setting columns of a <code class="docutils literal"><span class="pre">DataFrame</span></code> with duplicate column names (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/12344">GH12344</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v0-17-1-november-21-2015">
<span id="whatsnew-0171"></span><h2>v0.17.1 (November 21, 2015)<a class="headerlink" href="#v0-17-1-november-21-2015" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We are proud to announce that <em>pandas</em> has become a sponsored project of the (<a class="reference external" href="http://www.numfocus.org/blog/numfocus-announces-new-fiscally-sponsored-project-pandas">NUMFocus organization</a>). This will help ensure the success of development of <em>pandas</em> as a world-class open-source project.</p>
</div>
<p>This is a minor bug-fix release from 0.17.0 and includes a large number of
bug fixes along several new features, enhancements, and performance improvements.
We recommend that all users upgrade to this version.</p>
<p>Highlights include:</p>
<ul class="simple">
<li>Support for Conditional HTML Formatting, see <a class="reference internal" href="#whatsnew-0171-style"><span class="std std-ref">here</span></a></li>
<li>Releasing the GIL on the csv reader &amp; other ops, see <a class="reference internal" href="#whatsnew-0171-performance"><span class="std std-ref">here</span></a></li>
<li>Fixed regression in <code class="docutils literal"><span class="pre">DataFrame.drop_duplicates</span></code> from 0.16.2, causing incorrect results on integer values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11376">GH11376</a>)</li>
</ul>
<div class="contents local topic" id="what-s-new-in-v0-17-1">
<p class="topic-title first">What&#8217;s new in v0.17.1</p>
<ul class="simple">
<li><a class="reference internal" href="#id20" id="id228">New features</a><ul>
<li><a class="reference internal" href="#conditional-html-formatting" id="id229">Conditional HTML Formatting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#whatsnew-0171-enhancements" id="id230">Enhancements</a></li>
<li><a class="reference internal" href="#whatsnew-0171-api" id="id231">API changes</a><ul>
<li><a class="reference internal" href="#whatsnew-0171-deprecations" id="id232">Deprecations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#whatsnew-0171-performance" id="id233">Performance Improvements</a></li>
<li><a class="reference internal" href="#whatsnew-0171-bug-fixes" id="id234">Bug Fixes</a></li>
</ul>
</div>
<div class="section" id="id20">
<h3>New features<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<div class="section" id="conditional-html-formatting">
<span id="whatsnew-0171-style"></span><h4>Conditional HTML Formatting<a class="headerlink" href="#conditional-html-formatting" title="Permalink to this headline">¶</a></h4>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is a new feature and is under active development.
We&#8217;ll be adding features an  possibly making breaking changes in future
releases. Feedback is <a class="reference external" href="https://github.com/pydata/pandas/issues/11610">welcome</a>.</p>
</div>
<p>We&#8217;ve added <em>experimental</em> support for conditional HTML formatting:
the visual styling of a DataFrame based on the data.
The styling is accomplished with HTML and CSS.
Acesses the styler class with the <a class="reference internal" href="generated/pandas.DataFrame.style.html#pandas.DataFrame.style" title="pandas.DataFrame.style"><code class="xref py py-attr docutils literal"><span class="pre">pandas.DataFrame.style</span></code></a>, attribute,
an instance of <code class="xref py py-class docutils literal"><span class="pre">Styler</span></code> with your data attached.</p>
<p>Here&#8217;s a quick example:</p>
<blockquote>
<div><div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>

<span class="gp">In [2]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">))</span>

<span class="gp">In [3]: </span><span class="n">html</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">low</span><span class="o">=.</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>We can render the HTML to get the following table.</p>

        <style  type="text/css" >
        
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow0_col0 {
            
                background-color:  #31688e;
            
                background-color:  #31688e;
            
                background-color:  #31688e;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow0_col1 {
            
                background-color:  #89d548;
            
                background-color:  #89d548;
            
                background-color:  #89d548;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow0_col2 {
            
                background-color:  #3aba76;
            
                background-color:  #3aba76;
            
                background-color:  #3aba76;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow0_col3 {
            
                background-color:  #31688e;
            
                background-color:  #31688e;
            
                background-color:  #31688e;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow0_col4 {
            
                background-color:  #24878e;
            
                background-color:  #24878e;
            
                background-color:  #24878e;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow1_col0 {
            
                background-color:  #fde725;
            
                background-color:  #fde725;
            
                background-color:  #fde725;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow1_col1 {
            
                background-color:  #2c738e;
            
                background-color:  #2c738e;
            
                background-color:  #2c738e;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow1_col2 {
            
                background-color:  #1f9f88;
            
                background-color:  #1f9f88;
            
                background-color:  #1f9f88;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow1_col3 {
            
                background-color:  #fde725;
            
                background-color:  #fde725;
            
                background-color:  #fde725;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow1_col4 {
            
                background-color:  #297a8e;
            
                background-color:  #297a8e;
            
                background-color:  #297a8e;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow2_col0 {
            
                background-color:  #27808e;
            
                background-color:  #27808e;
            
                background-color:  #27808e;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow2_col1 {
            
                background-color:  #3bbb75;
            
                background-color:  #3bbb75;
            
                background-color:  #3bbb75;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow2_col2 {
            
                background-color:  #b2dd2d;
            
                background-color:  #b2dd2d;
            
                background-color:  #b2dd2d;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow2_col3 {
            
                background-color:  #1f9a8a;
            
                background-color:  #1f9a8a;
            
                background-color:  #1f9a8a;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow2_col4 {
            
                background-color:  #228d8d;
            
                background-color:  #228d8d;
            
                background-color:  #228d8d;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow3_col0 {
            
                background-color:  #218e8d;
            
                background-color:  #218e8d;
            
                background-color:  #218e8d;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow3_col1 {
            
                background-color:  #efe51c;
            
                background-color:  #efe51c;
            
                background-color:  #efe51c;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow3_col2 {
            
                background-color:  #fde725;
            
                background-color:  #fde725;
            
                background-color:  #fde725;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow3_col3 {
            
                background-color:  #d5e21a;
            
                background-color:  #d5e21a;
            
                background-color:  #d5e21a;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow3_col4 {
            
                background-color:  #2eb37c;
            
                background-color:  #2eb37c;
            
                background-color:  #2eb37c;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow4_col0 {
            
                background-color:  #6ece58;
            
                background-color:  #6ece58;
            
                background-color:  #6ece58;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow4_col1 {
            
                background-color:  #b2dd2d;
            
                background-color:  #b2dd2d;
            
                background-color:  #b2dd2d;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow4_col2 {
            
                background-color:  #238a8d;
            
                background-color:  #238a8d;
            
                background-color:  #238a8d;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow4_col3 {
            
                background-color:  #f1e51d;
            
                background-color:  #f1e51d;
            
                background-color:  #f1e51d;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow4_col4 {
            
                background-color:  #31688e;
            
                background-color:  #31688e;
            
                background-color:  #31688e;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow5_col0 {
            
                background-color:  #26828e;
            
                background-color:  #26828e;
            
                background-color:  #26828e;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow5_col1 {
            
                background-color:  #81d34d;
            
                background-color:  #81d34d;
            
                background-color:  #81d34d;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow5_col2 {
            
                background-color:  #2a768e;
            
                background-color:  #2a768e;
            
                background-color:  #2a768e;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow5_col3 {
            
                background-color:  #34b679;
            
                background-color:  #34b679;
            
                background-color:  #34b679;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow5_col4 {
            
                background-color:  #297a8e;
            
                background-color:  #297a8e;
            
                background-color:  #297a8e;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow6_col0 {
            
                background-color:  #1f998a;
            
                background-color:  #1f998a;
            
                background-color:  #1f998a;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow6_col1 {
            
                background-color:  #31688e;
            
                background-color:  #31688e;
            
                background-color:  #31688e;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow6_col2 {
            
                background-color:  #31688e;
            
                background-color:  #31688e;
            
                background-color:  #31688e;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow6_col3 {
            
                background-color:  #1f968b;
            
                background-color:  #1f968b;
            
                background-color:  #1f968b;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow6_col4 {
            
                background-color:  #5cc863;
            
                background-color:  #5cc863;
            
                background-color:  #5cc863;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow7_col0 {
            
                background-color:  #1f9e89;
            
                background-color:  #1f9e89;
            
                background-color:  #1f9e89;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow7_col1 {
            
                background-color:  #40bd72;
            
                background-color:  #40bd72;
            
                background-color:  #40bd72;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow7_col2 {
            
                background-color:  #5cc863;
            
                background-color:  #5cc863;
            
                background-color:  #5cc863;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow7_col3 {
            
                background-color:  #228c8d;
            
                background-color:  #228c8d;
            
                background-color:  #228c8d;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow7_col4 {
            
                background-color:  #28ae80;
            
                background-color:  #28ae80;
            
                background-color:  #28ae80;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow8_col0 {
            
                background-color:  #2a788e;
            
                background-color:  #2a788e;
            
                background-color:  #2a788e;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow8_col1 {
            
                background-color:  #23898e;
            
                background-color:  #23898e;
            
                background-color:  #23898e;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow8_col2 {
            
                background-color:  #1fa088;
            
                background-color:  #1fa088;
            
                background-color:  #1fa088;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow8_col3 {
            
                background-color:  #90d743;
            
                background-color:  #90d743;
            
                background-color:  #90d743;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow8_col4 {
            
                background-color:  #2cb17e;
            
                background-color:  #2cb17e;
            
                background-color:  #2cb17e;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow9_col0 {
            
                background-color:  #22a785;
            
                background-color:  #22a785;
            
                background-color:  #22a785;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow9_col1 {
            
                background-color:  #fde725;
            
                background-color:  #fde725;
            
                background-color:  #fde725;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow9_col2 {
            
                background-color:  #44bf70;
            
                background-color:  #44bf70;
            
                background-color:  #44bf70;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow9_col3 {
            
                background-color:  #d2e21b;
            
                background-color:  #d2e21b;
            
                background-color:  #d2e21b;
            
            }
        
            #T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow9_col4 {
            
                background-color:  #fde725;
            
                background-color:  #fde725;
            
                background-color:  #fde725;
            
            }
        
        </style>

        <table id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fb">
        

        <thead>
            
            <tr>
                
                <th class="blank">
                
                <th class="col_heading level0 col0">a
                
                <th class="col_heading level0 col1">b
                
                <th class="col_heading level0 col2">c
                
                <th class="col_heading level0 col3">d
                
                <th class="col_heading level0 col4">e
                
            </tr>
            
        </thead>
        <tbody>
            
            <tr>
                
                <th id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fb" class="row_heading level4 row0">
                    
                        0
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow0_col0" class="data row0 col0">
                    
                        -1.085631
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow0_col1" class="data row0 col1">
                    
                        0.997345
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow0_col2" class="data row0 col2">
                    
                        0.282978
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow0_col3" class="data row0 col3">
                    
                        -1.506295
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow0_col4" class="data row0 col4">
                    
                        -0.5786
                    
                
            </tr>
            
            <tr>
                
                <th id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fb" class="row_heading level4 row1">
                    
                        1
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow1_col0" class="data row1 col0">
                    
                        1.651437
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow1_col1" class="data row1 col1">
                    
                        -2.426679
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow1_col2" class="data row1 col2">
                    
                        -0.428913
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow1_col3" class="data row1 col3">
                    
                        1.265936
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow1_col4" class="data row1 col4">
                    
                        -0.86674
                    
                
            </tr>
            
            <tr>
                
                <th id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fb" class="row_heading level4 row2">
                    
                        2
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow2_col0" class="data row2 col0">
                    
                        -0.678886
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow2_col1" class="data row2 col1">
                    
                        -0.094709
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow2_col2" class="data row2 col2">
                    
                        1.49139
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow2_col3" class="data row2 col3">
                    
                        -0.638902
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow2_col4" class="data row2 col4">
                    
                        -0.443982
                    
                
            </tr>
            
            <tr>
                
                <th id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fb" class="row_heading level4 row3">
                    
                        3
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow3_col0" class="data row3 col0">
                    
                        -0.434351
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow3_col1" class="data row3 col1">
                    
                        2.20593
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow3_col2" class="data row3 col2">
                    
                        2.186786
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow3_col3" class="data row3 col3">
                    
                        1.004054
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow3_col4" class="data row3 col4">
                    
                        0.386186
                    
                
            </tr>
            
            <tr>
                
                <th id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fb" class="row_heading level4 row4">
                    
                        4
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow4_col0" class="data row4 col0">
                    
                        0.737369
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow4_col1" class="data row4 col1">
                    
                        1.490732
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow4_col2" class="data row4 col2">
                    
                        -0.935834
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow4_col3" class="data row4 col3">
                    
                        1.175829
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow4_col4" class="data row4 col4">
                    
                        -1.253881
                    
                
            </tr>
            
            <tr>
                
                <th id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fb" class="row_heading level4 row5">
                    
                        5
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow5_col0" class="data row5 col0">
                    
                        -0.637752
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow5_col1" class="data row5 col1">
                    
                        0.907105
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow5_col2" class="data row5 col2">
                    
                        -1.428681
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow5_col3" class="data row5 col3">
                    
                        -0.140069
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow5_col4" class="data row5 col4">
                    
                        -0.861755
                    
                
            </tr>
            
            <tr>
                
                <th id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fb" class="row_heading level4 row6">
                    
                        6
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow6_col0" class="data row6 col0">
                    
                        -0.255619
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow6_col1" class="data row6 col1">
                    
                        -2.798589
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow6_col2" class="data row6 col2">
                    
                        -1.771533
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow6_col3" class="data row6 col3">
                    
                        -0.699877
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow6_col4" class="data row6 col4">
                    
                        0.927462
                    
                
            </tr>
            
            <tr>
                
                <th id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fb" class="row_heading level4 row7">
                    
                        7
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow7_col0" class="data row7 col0">
                    
                        -0.173636
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow7_col1" class="data row7 col1">
                    
                        0.002846
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow7_col2" class="data row7 col2">
                    
                        0.688223
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow7_col3" class="data row7 col3">
                    
                        -0.879536
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow7_col4" class="data row7 col4">
                    
                        0.283627
                    
                
            </tr>
            
            <tr>
                
                <th id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fb" class="row_heading level4 row8">
                    
                        8
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow8_col0" class="data row8 col0">
                    
                        -0.805367
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow8_col1" class="data row8 col1">
                    
                        -1.727669
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow8_col2" class="data row8 col2">
                    
                        -0.3909
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow8_col3" class="data row8 col3">
                    
                        0.573806
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow8_col4" class="data row8 col4">
                    
                        0.338589
                    
                
            </tr>
            
            <tr>
                
                <th id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fb" class="row_heading level4 row9">
                    
                        9
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow9_col0" class="data row9 col0">
                    
                        -0.01183
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow9_col1" class="data row9 col1">
                    
                        2.392365
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow9_col2" class="data row9 col2">
                    
                        0.412912
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow9_col3" class="data row9 col3">
                    
                        0.978736
                    
                
                <td id="T_8d7c2fec_8d9e_11e5_8e2c_a45e60bd97fbrow9_col4" class="data row9 col4">
                    
                        2.238143
                    
                
            </tr>
            
        </tbody>
        </table>
        <p><code class="xref py py-class docutils literal"><span class="pre">Styler</span></code> interacts nicely with the Jupyter Notebook.
See the <a class="reference internal" href="style.html#style"><span class="std std-ref">documentation</span></a> for more.</p>
</div>
</div>
<div class="section" id="whatsnew-0171-enhancements">
<span id="id21"></span><h3>Enhancements<a class="headerlink" href="#whatsnew-0171-enhancements" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">DatetimeIndex</span></code> now supports conversion to strings with <code class="docutils literal"><span class="pre">astype(str)</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10442">GH10442</a>)</p>
</li>
<li><p class="first">Support for <code class="docutils literal"><span class="pre">compression</span></code> (gzip/bz2) in <a class="reference internal" href="generated/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="pandas.DataFrame.to_csv"><code class="xref py py-meth docutils literal"><span class="pre">pandas.DataFrame.to_csv()</span></code></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7615">GH7615</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_*</span></code> functions can now also accept <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.6)"><code class="docutils literal"><span class="pre">pathlib.Path</span></code></a>, or <code class="xref py py-class docutils literal"><span class="pre">py._path.local.LocalPath</span></code>
objects for the <code class="docutils literal"><span class="pre">filepath_or_buffer</span></code> argument. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11033">GH11033</a>)
- The <code class="docutils literal"><span class="pre">DataFrame</span></code> and <code class="docutils literal"><span class="pre">Series</span></code> functions <code class="docutils literal"><span class="pre">.to_csv()</span></code>, <code class="docutils literal"><span class="pre">.to_html()</span></code> and <code class="docutils literal"><span class="pre">.to_latex()</span></code> can now handle paths beginning with tildes (e.g. <code class="docutils literal"><span class="pre">~/Documents/</span></code>) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11438">GH11438</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame</span></code> now uses the fields of a <code class="docutils literal"><span class="pre">namedtuple</span></code> as columns, if columns are not supplied (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11181">GH11181</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.itertuples()</span></code> now returns <code class="docutils literal"><span class="pre">namedtuple</span></code> objects, when possible. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11269">GH11269</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11625">GH11625</a>)</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">axvlines_kwds</span></code> to parallel coordinates plot (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10709">GH10709</a>)</p>
</li>
<li><p class="first">Option to <code class="docutils literal"><span class="pre">.info()</span></code> and <code class="docutils literal"><span class="pre">.memory_usage()</span></code> to provide for deep introspection of memory consumption. Note that this can be expensive to compute and therefore is an optional parameter. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11595">GH11595</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">1000</span><span class="p">})</span>

<span class="gp">In [5]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c"># shows the &#39;+&#39; as we have object dtypes</span>
<span class="gp">In [6]: </span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 1000 entries, 0 to 999</span>
<span class="go">Data columns (total 2 columns):</span>
<span class="go">A    1000 non-null object</span>
<span class="go">B    1000 non-null category</span>
<span class="go">dtypes: category(1), object(1)</span>
<span class="go">memory usage: 8.9+ KB</span>

<span class="c"># we have an accurate memory assessment (but can be expensive to compute this)</span>
<span class="gp">In [7]: </span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">memory_usage</span><span class="o">=</span><span class="s1">&#39;deep&#39;</span><span class="p">)</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 1000 entries, 0 to 999</span>
<span class="go">Data columns (total 2 columns):</span>
<span class="go">A    1000 non-null object</span>
<span class="go">B    1000 non-null category</span>
<span class="go">dtypes: category(1), object(1)</span>
<span class="go">memory usage: 48.0 KB</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Index</span></code> now has a <code class="docutils literal"><span class="pre">fillna</span></code> method (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10089">GH10089</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gr">Out[8]: </span><span class="n">Float64Index</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Series of type <code class="docutils literal"><span class="pre">category</span></code> now make <code class="docutils literal"><span class="pre">.str.&lt;...&gt;</span></code> and <code class="docutils literal"><span class="pre">.dt.&lt;...&gt;</span></code> accessor methods / properties available, if the categories are of that type. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10661">GH10661</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;aabb&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">s</span>
<span class="gr">Out[10]: </span>
<span class="go">0    a</span>
<span class="go">1    a</span>
<span class="go">2    b</span>
<span class="go">3    b</span>
<span class="go">dtype: category</span>
<span class="go">Categories (2, object): [a, b]</span>

<span class="gp">In [11]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="gr">Out[11]: </span>
<span class="go">0     True</span>
<span class="go">1     True</span>
<span class="go">2    False</span>
<span class="go">3    False</span>
<span class="go">dtype: bool</span>

<span class="gp">In [12]: </span><span class="n">date</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;1/1/2015&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="gp">In [13]: </span><span class="n">date</span>
<span class="gr">Out[13]: </span>
<span class="go">0   2015-01-01</span>
<span class="go">1   2015-01-02</span>
<span class="go">2   2015-01-03</span>
<span class="go">3   2015-01-04</span>
<span class="go">4   2015-01-05</span>
<span class="go">dtype: category</span>
<span class="go">Categories (5, datetime64[ns]): [2015-01-01, 2015-01-02, 2015-01-03, 2015-01-04, 2015-01-05]</span>

<span class="gp">In [14]: </span><span class="n">date</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">day</span>
<span class="gr">Out[14]: </span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">2    3</span>
<span class="go">3    4</span>
<span class="go">4    5</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pivot_table</span></code> now has a <code class="docutils literal"><span class="pre">margins_name</span></code> argument so you can use something other than the default of &#8216;All&#8217; (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3335">GH3335</a>)</p>
</li>
<li><p class="first">Implement export of <code class="docutils literal"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> dtypes with a fixed HDF5 store (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11411">GH11411</a>)</p>
</li>
<li><p class="first">Pretty printing sets (e.g. in DataFrame cells) now uses set literal syntax (<code class="docutils literal"><span class="pre">{x,</span> <span class="pre">y}</span></code>) instead of
Legacy Python syntax (<code class="docutils literal"><span class="pre">set([x,</span> <span class="pre">y])</span></code>) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11215">GH11215</a>)</p>
</li>
<li><p class="first">Improve the error message in <a class="reference internal" href="generated/pandas.io.gbq.to_gbq.html#pandas.io.gbq.to_gbq" title="pandas.io.gbq.to_gbq"><code class="xref py py-func docutils literal"><span class="pre">pandas.io.gbq.to_gbq()</span></code></a> when a streaming insert fails (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11285">GH11285</a>)
and when the DataFrame does not match the schema of the destination table (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11359">GH11359</a>)</p>
</li>
</ul>
</div>
<div class="section" id="whatsnew-0171-api">
<span id="id22"></span><h3>API changes<a class="headerlink" href="#whatsnew-0171-api" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>raise <code class="docutils literal"><span class="pre">NotImplementedError</span></code> in <code class="docutils literal"><span class="pre">Index.shift</span></code> for non-supported index types (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8038">GH8038</a>)</li>
<li><code class="docutils literal"><span class="pre">min</span></code> and <code class="docutils literal"><span class="pre">max</span></code> reductions on <code class="docutils literal"><span class="pre">datetime64</span></code> and <code class="docutils literal"><span class="pre">timedelta64</span></code> dtyped series now
result in <code class="docutils literal"><span class="pre">NaT</span></code> and not <code class="docutils literal"><span class="pre">nan</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11245">GH11245</a>).</li>
<li>Indexing with a null key will raise a <code class="docutils literal"><span class="pre">TypeError</span></code>, instead of a <code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11356">GH11356</a>)</li>
<li><code class="docutils literal"><span class="pre">Series.ptp</span></code> will now ignore missing values by default (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11163">GH11163</a>)</li>
</ul>
<div class="section" id="whatsnew-0171-deprecations">
<span id="id23"></span><h4>Deprecations<a class="headerlink" href="#whatsnew-0171-deprecations" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">pandas.io.ga</span></code> module which implements <code class="docutils literal"><span class="pre">google-analytics</span></code> support is deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11308">GH11308</a>)</li>
<li>Deprecate the <code class="docutils literal"><span class="pre">engine</span></code> keyword in <code class="docutils literal"><span class="pre">.to_csv()</span></code>, which will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11274">GH11274</a>)</li>
</ul>
</div>
</div>
<div class="section" id="whatsnew-0171-performance">
<span id="id24"></span><h3>Performance Improvements<a class="headerlink" href="#whatsnew-0171-performance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Checking monotonic-ness before sorting on an index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11080">GH11080</a>)</li>
<li><code class="docutils literal"><span class="pre">Series.dropna</span></code> performance improvement when its dtype can&#8217;t contain <code class="docutils literal"><span class="pre">NaN</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11159">GH11159</a>)</li>
<li>Release the GIL on most datetime field operations (e.g. <code class="docutils literal"><span class="pre">DatetimeIndex.year</span></code>, <code class="docutils literal"><span class="pre">Series.dt.year</span></code>), normalization, and conversion to and from <code class="docutils literal"><span class="pre">Period</span></code>, <code class="docutils literal"><span class="pre">DatetimeIndex.to_period</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex.to_timestamp</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11263">GH11263</a>)</li>
<li>Release the GIL on some rolling algos: <code class="docutils literal"><span class="pre">rolling_median</span></code>, <code class="docutils literal"><span class="pre">rolling_mean</span></code>, <code class="docutils literal"><span class="pre">rolling_max</span></code>, <code class="docutils literal"><span class="pre">rolling_min</span></code>, <code class="docutils literal"><span class="pre">rolling_var</span></code>, <code class="docutils literal"><span class="pre">rolling_kurt</span></code>, <code class="docutils literal"><span class="pre">rolling_skew</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11450">GH11450</a>)</li>
<li>Release the GIL when reading and parsing text files in <code class="docutils literal"><span class="pre">read_csv</span></code>, <code class="docutils literal"><span class="pre">read_table</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11272">GH11272</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">rolling_median</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11450">GH11450</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">to_excel</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11352">GH11352</a>)</li>
<li>Performance bug in repr of <code class="docutils literal"><span class="pre">Categorical</span></code> categories, which was rendering the strings before chopping them for display (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11305">GH11305</a>)</li>
<li>Performance improvement in <code class="docutils literal"><span class="pre">Categorical.remove_unused_categories</span></code>, (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11643">GH11643</a>).</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">Series</span></code> constructor with no data and <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11433">GH11433</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">shift</span></code>, <code class="docutils literal"><span class="pre">cumprod</span></code>, and <code class="docutils literal"><span class="pre">cumsum</span></code> with groupby (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4095">GH4095</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0171-bug-fixes">
<span id="id25"></span><h3>Bug Fixes<a class="headerlink" href="#whatsnew-0171-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">SparseArray.__iter__()</span></code> now does not cause <code class="docutils literal"><span class="pre">PendingDeprecationWarning</span></code> in Python 3.5 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11622">GH11622</a>)</li>
<li>Regression from 0.16.2 for output formatting of long floats/nan, restored in (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11302">GH11302</a>)</li>
<li><code class="docutils literal"><span class="pre">Series.sort_index()</span></code> now correctly handles the <code class="docutils literal"><span class="pre">inplace</span></code> option (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11402">GH11402</a>)</li>
<li>Incorrectly distributed .c file in the build on <code class="docutils literal"><span class="pre">PyPi</span></code> when reading a csv of floats and passing <code class="docutils literal"><span class="pre">na_values=&lt;a</span> <span class="pre">scalar&gt;</span></code> would show an exception (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11374">GH11374</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.to_latex()</span></code> output broken when the index has a name (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10660">GH10660</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">HDFStore.append</span></code> with strings whose encoded length exceded the max unencoded length (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11234">GH11234</a>)</li>
<li>Bug in merging <code class="docutils literal"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11405">GH11405</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">HDFStore.select</span></code> when comparing with a numpy scalar in a where clause (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11283">GH11283</a>)</li>
<li>Bug in using <code class="docutils literal"><span class="pre">DataFrame.ix</span></code> with a multi-index indexer (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11372">GH11372</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">date_range</span></code> with ambigous endpoints (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11626">GH11626</a>)</li>
<li>Prevent adding new attributes to the accessors <code class="docutils literal"><span class="pre">.str</span></code>, <code class="docutils literal"><span class="pre">.dt</span></code> and <code class="docutils literal"><span class="pre">.cat</span></code>. Retrieving such
a value was not possible, so error out on setting it. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10673">GH10673</a>)</li>
<li>Bug in tz-conversions with an ambiguous time and <code class="docutils literal"><span class="pre">.dt</span></code> accessors (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11295">GH11295</a>)</li>
<li>Bug in output formatting when using an index of ambiguous times (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11619">GH11619</a>)</li>
<li>Bug in comparisons of Series vs list-likes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11339">GH11339</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.replace</span></code> with a <code class="docutils literal"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> and a non-compat to_replace (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11326">GH11326</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11153">GH11153</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">isnull</span></code> where <code class="docutils literal"><span class="pre">numpy.datetime64('NaT')</span></code> in a <code class="docutils literal"><span class="pre">numpy.array</span></code> was not determined to be null(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11206">GH11206</a>)</li>
<li>Bug in list-like indexing with a mixed-integer Index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11320">GH11320</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pivot_table</span></code> with <code class="docutils literal"><span class="pre">margins=True</span></code> when indexes are of <code class="docutils literal"><span class="pre">Categorical</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10993">GH10993</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.plot</span></code> cannot use hex strings colors (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10299">GH10299</a>)</li>
<li>Regression in <code class="docutils literal"><span class="pre">DataFrame.drop_duplicates</span></code> from 0.16.2, causing incorrect results on integer values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11376">GH11376</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.eval</span></code> where unary ops in a list error (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11235">GH11235</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">squeeze()</span></code> with zero length arrays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11230">GH11230</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8999">GH8999</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">describe()</span></code> dropping column names for hierarchical indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11517">GH11517</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.pct_change()</span></code> not propagating <code class="docutils literal"><span class="pre">axis</span></code> keyword on <code class="docutils literal"><span class="pre">.fillna</span></code> method (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11150">GH11150</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.to_csv()</span></code> when a mix of integer and string column names are passed as the <code class="docutils literal"><span class="pre">columns</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11637">GH11637</a>)</li>
<li>Bug in indexing with a <code class="docutils literal"><span class="pre">range</span></code>, (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11652">GH11652</a>)</li>
<li>Bug in inference of numpy scalars and preserving dtype when setting columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11638">GH11638</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_sql</span></code> using unicode column names giving UnicodeEncodeError with (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11431">GH11431</a>).</li>
<li>Fix regression in setting of <code class="docutils literal"><span class="pre">xticks</span></code> in <code class="docutils literal"><span class="pre">plot</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11529">GH11529</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">holiday.dates</span></code> where observance rules could not be applied to holiday and doc enhancement (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11477">GH11477</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11533">GH11533</a>)</li>
<li>Fix plotting issues when having plain <code class="docutils literal"><span class="pre">Axes</span></code> instances instead of <code class="docutils literal"><span class="pre">SubplotAxes</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11520">GH11520</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11556">GH11556</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_latex()</span></code> produces an extra rule when <code class="docutils literal"><span class="pre">header=False</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7124">GH7124</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">df.groupby(...).apply(func)</span></code> when a func returns a <code class="docutils literal"><span class="pre">Series</span></code> containing a new datetimelike column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11324">GH11324</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pandas.json</span></code> when file to load is big (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11344">GH11344</a>)</li>
<li>Bugs in <code class="docutils literal"><span class="pre">to_excel</span></code> with duplicate columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11007">GH11007</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10982">GH10982</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10970">GH10970</a>)</li>
<li>Fixed a bug that prevented the construction of an empty series of dtype <code class="docutils literal"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11245">GH11245</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_excel</span></code> with multi-index containing integers (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11317">GH11317</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_excel</span></code> with openpyxl 2.2+ and merging (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11408">GH11408</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_dict()</span></code> produces a <code class="docutils literal"><span class="pre">np.datetime64</span></code> object instead of <code class="docutils literal"><span class="pre">Timestamp</span></code> when only datetime is present in data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11327">GH11327</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.corr()</span></code> raises exception when computes Kendall correlation for DataFrames with boolean and not boolean columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11560">GH11560</a>)</li>
<li>Bug in the link-time error caused by C <code class="docutils literal"><span class="pre">inline</span></code> functions on FreeBSD 10+ (with <code class="docutils literal"><span class="pre">clang</span></code>) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10510">GH10510</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_csv</span></code> in passing through arguments for formatting <code class="docutils literal"><span class="pre">MultiIndexes</span></code>, including <code class="docutils literal"><span class="pre">date_format</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7791">GH7791</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.join()</span></code> with <code class="docutils literal"><span class="pre">how='right'</span></code> producing a <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11519">GH11519</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.quantile</span></code> with empty list results has <code class="docutils literal"><span class="pre">Index</span></code> with <code class="docutils literal"><span class="pre">object</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11588">GH11588</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.merge</span></code> results in empty <code class="docutils literal"><span class="pre">Int64Index</span></code> rather than <code class="docutils literal"><span class="pre">Index(dtype=object)</span></code> when the merge result is empty (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11588">GH11588</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Categorical.remove_unused_categories</span></code> when having <code class="docutils literal"><span class="pre">NaN</span></code> values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11599">GH11599</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_sparse()</span></code> loses column names for MultiIndexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11600">GH11600</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.round()</span></code> with non-unique column index producing a Fatal Python error (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11611">GH11611</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.round()</span></code> with <code class="docutils literal"><span class="pre">decimals</span></code> being a non-unique indexed Series producing extra columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11618">GH11618</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v0-17-0-october-9-2015">
<span id="whatsnew-0170"></span><h2>v0.17.0 (October 9, 2015)<a class="headerlink" href="#v0-17-0-october-9-2015" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.16.2 and includes a small number of API changes, several new features,
enhancements, and performance improvements along with a large number of bug fixes. We recommend that all
users upgrade to this version.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">pandas &gt;= 0.17.0 will no longer support compatibility with Python version 3.2 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9118">GH9118</a>)</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>The <code class="docutils literal"><span class="pre">pandas.io.data</span></code> package is deprecated and will be replaced by the
<a class="reference external" href="https://github.com/pydata/pandas-datareader">pandas-datareader package</a>.
This will allow the data modules to be independently updated to your pandas
installation. The API for <code class="docutils literal"><span class="pre">pandas-datareader</span> <span class="pre">v0.1.1</span></code> is exactly the same
as in <code class="docutils literal"><span class="pre">pandas</span> <span class="pre">v0.17.0</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8961">GH8961</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10861">GH10861</a>).</p>
<p>After installing pandas-datareader, you can easily change your imports:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pandas.io</span> <span class="kn">import</span> <span class="n">data</span><span class="p">,</span> <span class="n">wb</span>
</pre></div>
</div>
<p>becomes</p>
<div class="last highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pandas_datareader</span> <span class="kn">import</span> <span class="n">data</span><span class="p">,</span> <span class="n">wb</span>
</pre></div>
</div>
</div>
<p>Highlights include:</p>
<ul class="simple">
<li>Release the Global Interpreter Lock (GIL) on some cython operations, see <a class="reference internal" href="#whatsnew-0170-gil"><span class="std std-ref">here</span></a></li>
<li>Plotting methods are now available as attributes of the <code class="docutils literal"><span class="pre">.plot</span></code> accessor, see <a class="reference internal" href="#whatsnew-0170-plot"><span class="std std-ref">here</span></a></li>
<li>The sorting API has been revamped to remove some long-time inconsistencies, see <a class="reference internal" href="#whatsnew-0170-api-breaking-sorting"><span class="std std-ref">here</span></a></li>
<li>Support for a <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> with timezones as a first-class dtype, see <a class="reference internal" href="#whatsnew-0170-tz"><span class="std std-ref">here</span></a></li>
<li>The default for <code class="docutils literal"><span class="pre">to_datetime</span></code> will now be to <code class="docutils literal"><span class="pre">raise</span></code> when presented with unparseable formats,
previously this would return the original input. Also, date parse
functions now return consistent results. See <a class="reference internal" href="#whatsnew-0170-api-breaking-to-datetime"><span class="std std-ref">here</span></a></li>
<li>The default for <code class="docutils literal"><span class="pre">dropna</span></code> in <code class="docutils literal"><span class="pre">HDFStore</span></code> has changed to <code class="docutils literal"><span class="pre">False</span></code>, to store by default all rows even
if they are all <code class="docutils literal"><span class="pre">NaN</span></code>, see <a class="reference internal" href="#whatsnew-0170-api-breaking-hdf-dropna"><span class="std std-ref">here</span></a></li>
<li>Datetime accessor (<code class="docutils literal"><span class="pre">dt</span></code>) now supports <code class="docutils literal"><span class="pre">Series.dt.strftime</span></code> to generate formatted strings for datetime-likes, and <code class="docutils literal"><span class="pre">Series.dt.total_seconds</span></code> to generate each duration of the timedelta in seconds. See <a class="reference internal" href="#whatsnew-0170-strftime"><span class="std std-ref">here</span></a></li>
<li><code class="docutils literal"><span class="pre">Period</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex</span></code> can handle multiplied freq like <code class="docutils literal"><span class="pre">3D</span></code>, which corresponding to 3 days span. See <a class="reference internal" href="#whatsnew-0170-periodfreq"><span class="std std-ref">here</span></a></li>
<li>Development installed versions of pandas will now have <code class="docutils literal"><span class="pre">PEP440</span></code> compliant version strings (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9518">GH9518</a>)</li>
<li>Development support for benchmarking with the <a class="reference external" href="https://github.com/spacetelescope/asv/">Air Speed Velocity library</a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8361">GH8361</a>)</li>
<li>Support for reading SAS xport files, see <a class="reference internal" href="#whatsnew-0170-enhancements-sas-xport"><span class="std std-ref">here</span></a></li>
<li>Documentation comparing SAS to <em>pandas</em>, see <a class="reference internal" href="comparison_with_sas.html#compare-with-sas"><span class="std std-ref">here</span></a></li>
<li>Removal of the automatic TimeSeries broadcasting, deprecated since 0.8.0, see <a class="reference internal" href="#whatsnew-0170-prior-deprecations"><span class="std std-ref">here</span></a></li>
<li>Display format with plain text can optionally align with Unicode East Asian Width, see <a class="reference internal" href="#whatsnew-0170-east-asian-width"><span class="std std-ref">here</span></a></li>
<li>Compatibility with Python 3.5 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11097">GH11097</a>)</li>
<li>Compatibility with matplotlib 1.5.0 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11111">GH11111</a>)</li>
</ul>
<p>Check the <a class="reference internal" href="#whatsnew-0170-api"><span class="std std-ref">API Changes</span></a> and <a class="reference internal" href="#whatsnew-0170-deprecations"><span class="std std-ref">deprecations</span></a> before updating.</p>
<div class="contents local topic" id="what-s-new-in-v0-17-0">
<p class="topic-title first">What&#8217;s new in v0.17.0</p>
<ul class="simple">
<li><a class="reference internal" href="#whatsnew-0170-enhancements" id="id235">New features</a><ul>
<li><a class="reference internal" href="#datetime-with-tz" id="id236">Datetime with TZ</a></li>
<li><a class="reference internal" href="#releasing-the-gil" id="id237">Releasing the GIL</a></li>
<li><a class="reference internal" href="#plot-submethods" id="id238">Plot submethods</a></li>
<li><a class="reference internal" href="#additional-methods-for-dt-accessor" id="id239">Additional methods for <code class="docutils literal"><span class="pre">dt</span></code> accessor</a><ul>
<li><a class="reference internal" href="#strftime" id="id240">strftime</a></li>
<li><a class="reference internal" href="#total-seconds" id="id241">total_seconds</a></li>
</ul>
</li>
<li><a class="reference internal" href="#period-frequency-enhancement" id="id242">Period Frequency Enhancement</a></li>
<li><a class="reference internal" href="#support-for-sas-xport-files" id="id243">Support for SAS XPORT files</a></li>
<li><a class="reference internal" href="#support-for-math-functions-in-eval" id="id244">Support for Math Functions in .eval()</a></li>
<li><a class="reference internal" href="#changes-to-excel-with-multiindex" id="id245">Changes to Excel with <code class="docutils literal"><span class="pre">MultiIndex</span></code></a></li>
<li><a class="reference internal" href="#whatsnew-0170-gbq" id="id246">Google BigQuery Enhancements</a></li>
<li><a class="reference internal" href="#display-alignment-with-unicode-east-asian-width" id="id247">Display Alignment with Unicode East Asian Width</a></li>
<li><a class="reference internal" href="#whatsnew-0170-enhancements-other" id="id248">Other enhancements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#whatsnew-0170-api-breaking" id="id249">Backwards incompatible API changes</a><ul>
<li><a class="reference internal" href="#changes-to-sorting-api" id="id250">Changes to sorting API</a></li>
<li><a class="reference internal" href="#changes-to-to-datetime-and-to-timedelta" id="id251">Changes to to_datetime and to_timedelta</a><ul>
<li><a class="reference internal" href="#error-handling" id="id252">Error handling</a></li>
<li><a class="reference internal" href="#consistent-parsing" id="id253">Consistent Parsing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-to-index-comparisons" id="id254">Changes to Index Comparisons</a></li>
<li><a class="reference internal" href="#changes-to-boolean-comparisons-vs-none" id="id255">Changes to Boolean Comparisons vs. None</a></li>
<li><a class="reference internal" href="#hdfstore-dropna-behavior" id="id256">HDFStore dropna behavior</a></li>
<li><a class="reference internal" href="#changes-to-display-precision-option" id="id257">Changes to <code class="docutils literal"><span class="pre">display.precision</span></code> option</a></li>
<li><a class="reference internal" href="#changes-to-categorical-unique" id="id258">Changes to <code class="docutils literal"><span class="pre">Categorical.unique</span></code></a></li>
<li><a class="reference internal" href="#changes-to-bool-passed-as-header-in-parsers" id="id259">Changes to <code class="docutils literal"><span class="pre">bool</span></code> passed as <code class="docutils literal"><span class="pre">header</span></code> in Parsers</a></li>
<li><a class="reference internal" href="#whatsnew-0170-api-breaking-other" id="id260">Other API Changes</a></li>
<li><a class="reference internal" href="#whatsnew-0170-deprecations" id="id261">Deprecations</a></li>
<li><a class="reference internal" href="#whatsnew-0170-prior-deprecations" id="id262">Removal of prior version deprecations/changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#whatsnew-0170-performance" id="id263">Performance Improvements</a></li>
<li><a class="reference internal" href="#whatsnew-0170-bug-fixes" id="id264">Bug Fixes</a></li>
</ul>
</div>
<div class="section" id="whatsnew-0170-enhancements">
<span id="id26"></span><h3>New features<a class="headerlink" href="#whatsnew-0170-enhancements" title="Permalink to this headline">¶</a></h3>
<div class="section" id="datetime-with-tz">
<span id="whatsnew-0170-tz"></span><h4>Datetime with TZ<a class="headerlink" href="#datetime-with-tz" title="Permalink to this headline">¶</a></h4>
<p>We are adding an implementation that natively supports datetime with timezones. A <code class="docutils literal"><span class="pre">Series</span></code> or a <code class="docutils literal"><span class="pre">DataFrame</span></code> column previously
<em>could</em> be assigned a datetime with timezones, and would work as an <code class="docutils literal"><span class="pre">object</span></code> dtype. This had performance issues with a large
number rows. See the <a class="reference internal" href="timeseries.html#timeseries-timezone-series"><span class="std std-ref">docs</span></a> for more details. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8260">GH8260</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10763">GH10763</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11034">GH11034</a>).</p>
<p>The new implementation allows for having a single-timezone across all rows, with operations in a performant manner.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span> <span class="p">:</span> <span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span>
<span class="gp">   ...:</span>                 <span class="s1">&#39;B&#39;</span> <span class="p">:</span> <span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">tz</span><span class="o">=</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">),</span>
<span class="gp">   ...:</span>                 <span class="s1">&#39;C&#39;</span> <span class="p">:</span> <span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">tz</span><span class="o">=</span><span class="s1">&#39;CET&#39;</span><span class="p">)})</span>
<span class="gp">   ...:</span> 

<span class="gp">In [2]: </span><span class="n">df</span>
<span class="gr">Out[2]: </span>
<span class="go">           A                         B                         C</span>
<span class="go">0 2013-01-01 2013-01-01 00:00:00-05:00 2013-01-01 00:00:00+01:00</span>
<span class="go">1 2013-01-02 2013-01-02 00:00:00-05:00 2013-01-02 00:00:00+01:00</span>
<span class="go">2 2013-01-03 2013-01-03 00:00:00-05:00 2013-01-03 00:00:00+01:00</span>

<span class="gp">In [3]: </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[3]: </span>
<span class="go">A                datetime64[ns]</span>
<span class="go">B    datetime64[ns, US/Eastern]</span>
<span class="go">C           datetime64[ns, CET]</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">B</span>
<span class="gr">Out[4]: </span>
<span class="go">0   2013-01-01 00:00:00-05:00</span>
<span class="go">1   2013-01-02 00:00:00-05:00</span>
<span class="go">2   2013-01-03 00:00:00-05:00</span>
<span class="go">Name: B, dtype: datetime64[ns, US/Eastern]</span>

<span class="gp">In [5]: </span><span class="n">df</span><span class="o">.</span><span class="n">B</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gr">Out[5]: </span>
<span class="go">0   2013-01-01</span>
<span class="go">1   2013-01-02</span>
<span class="go">2   2013-01-03</span>
<span class="go">Name: B, dtype: datetime64[ns]</span>
</pre></div>
</div>
<p>This uses a new-dtype representation as well, that is very similar in look-and-feel to its numpy cousin <code class="docutils literal"><span class="pre">datetime64[ns]</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[6]: </span><span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">,</span> <span class="n">US</span><span class="o">/</span><span class="n">Eastern</span><span class="p">]</span>

<span class="gp">In [7]: </span><span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="gr">Out[7]: </span><span class="n">pandas</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">dtypes</span><span class="o">.</span><span class="n">DatetimeTZDtype</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>There is a slightly different string repr for the underlying <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> as a result of the dtype changes, but
functionally these are the same.</p>
<p>Previous Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">tz</span><span class="o">=</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span>
<span class="gr">Out[1]: </span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;2013-01-01 00:00:00-05:00&#39;</span><span class="p">,</span> <span class="s1">&#39;2013-01-02 00:00:00-05:00&#39;</span><span class="p">,</span>
<span class="go">                       &#39;2013-01-03 00:00:00-05:00&#39;],</span>
<span class="go">                      dtype=&#39;datetime64[ns]&#39;, freq=&#39;D&#39;, tz=&#39;US/Eastern&#39;)</span>

<span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">tz</span><span class="o">=</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[2]: </span><span class="n">dtype</span><span class="p">(</span><span class="s1">&#39;&lt;M8[ns]&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>New Behavior:</p>
<div class="last highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">tz</span><span class="o">=</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span>
<span class="gr">Out[8]: </span>
<span class="go">DatetimeIndex([&#39;2013-01-01 00:00:00-05:00&#39;, &#39;2013-01-02 00:00:00-05:00&#39;,</span>
<span class="go">               &#39;2013-01-03 00:00:00-05:00&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns, US/Eastern]&#39;, freq=&#39;D&#39;)</span>

<span class="gp">In [9]: </span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">tz</span><span class="o">=</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[9]: </span><span class="n">datetime64</span><span class="p">[</span><span class="n">ns</span><span class="p">,</span> <span class="n">US</span><span class="o">/</span><span class="n">Eastern</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="releasing-the-gil">
<span id="whatsnew-0170-gil"></span><h4>Releasing the GIL<a class="headerlink" href="#releasing-the-gil" title="Permalink to this headline">¶</a></h4>
<p>We are releasing the global-interpreter-lock (GIL) on some cython operations.
This will allow other threads to run simultaneously during computation, potentially allowing performance improvements
from multi-threading. Notably <code class="docutils literal"><span class="pre">groupby</span></code>, <code class="docutils literal"><span class="pre">nsmallest</span></code>, <code class="docutils literal"><span class="pre">value_counts</span></code> and some indexing operations benefit from this. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8882">GH8882</a>)</p>
<p>For example the groupby expression in the following code will have the GIL released during the factorization step, e.g. <code class="docutils literal"><span class="pre">df.groupby('key')</span></code>
as well as the <code class="docutils literal"><span class="pre">.sum()</span></code> operation.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">N</span> <span class="o">=</span> <span class="mi">1000000</span>
<span class="n">ngroups</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;key&#39;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">ngroups</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">),</span>
                <span class="s1">&#39;data&#39;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="p">})</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">)[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
<p>Releasing of the GIL could benefit an application that uses threads for user interactions (e.g. <a class="reference external" href="https://wiki.python.org/moin/PyQt">QT</a>), or performing multi-threaded computations. A nice example of a library that can handle these types of computation-in-parallel is the <a class="reference external" href="https://dask.readthedocs.io/en/latest/">dask</a> library.</p>
</div>
<div class="section" id="plot-submethods">
<span id="whatsnew-0170-plot"></span><h4>Plot submethods<a class="headerlink" href="#plot-submethods" title="Permalink to this headline">¶</a></h4>
<p>The Series and DataFrame <code class="docutils literal"><span class="pre">.plot()</span></code> method allows for customizing <a class="reference internal" href="visualization.html#visualization-other"><span class="std std-ref">plot types</span></a> by supplying the <code class="docutils literal"><span class="pre">kind</span></code> keyword arguments. Unfortunately, many of these kinds of plots use different required and optional keyword arguments, which makes it difficult to discover what any given plot kind uses out of the dozens of possible arguments.</p>
<p>To alleviate this issue, we have added a new, optional plotting interface, which exposes each kind of plot as a method of the <code class="docutils literal"><span class="pre">.plot</span></code> attribute. Instead of writing <code class="docutils literal"><span class="pre">series.plot(kind=&lt;kind&gt;,</span> <span class="pre">...)</span></code>, you can now also use <code class="docutils literal"><span class="pre">series.plot.&lt;kind&gt;(...)</span></code>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [10]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span>

<span class="gp">In [11]: </span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/whatsnew_plot_submethods.png" src="_images/whatsnew_plot_submethods.png" />
<p>As a result of this change, these methods are now all discoverable via tab-completion:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="o">.&lt;</span><span class="n">TAB</span><span class="o">&gt;</span>
<span class="go">df.plot.area     df.plot.barh     df.plot.density  df.plot.hist     df.plot.line     df.plot.scatter</span>
<span class="go">df.plot.bar      df.plot.box      df.plot.hexbin   df.plot.kde      df.plot.pie</span>
</pre></div>
</div>
<p>Each method signature only includes relevant arguments. Currently, these are limited to required arguments, but in the future these will include optional arguments, as well. For an overview, see the new <a class="reference internal" href="api.html#api-dataframe-plotting"><span class="std std-ref">Plotting</span></a> API documentation.</p>
</div>
<div class="section" id="additional-methods-for-dt-accessor">
<span id="whatsnew-0170-strftime"></span><h4>Additional methods for <code class="docutils literal"><span class="pre">dt</span></code> accessor<a class="headerlink" href="#additional-methods-for-dt-accessor" title="Permalink to this headline">¶</a></h4>
<div class="section" id="strftime">
<h5>strftime<a class="headerlink" href="#strftime" title="Permalink to this headline">¶</a></h5>
<p>We are now supporting a <code class="docutils literal"><span class="pre">Series.dt.strftime</span></code> method for datetime-likes to generate a formatted string (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10110">GH10110</a>). Examples:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># DatetimeIndex</span>
<span class="gp">In [13]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>

<span class="gp">In [14]: </span><span class="n">s</span>
<span class="gr">Out[14]: </span>
<span class="go">0   2013-01-01</span>
<span class="go">1   2013-01-02</span>
<span class="go">2   2013-01-03</span>
<span class="go">3   2013-01-04</span>
<span class="go">dtype: datetime64[ns]</span>

<span class="gp">In [15]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y/%m/</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gr">Out[15]: </span>
<span class="go">0    2013/01/01</span>
<span class="go">1    2013/01/02</span>
<span class="go">2    2013/01/03</span>
<span class="go">3    2013/01/04</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># PeriodIndex</span>
<span class="gp">In [16]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">period_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>

<span class="gp">In [17]: </span><span class="n">s</span>
<span class="gr">Out[17]: </span>
<span class="go">0   2013-01-01</span>
<span class="go">1   2013-01-02</span>
<span class="go">2   2013-01-03</span>
<span class="go">3   2013-01-04</span>
<span class="go">dtype: object</span>

<span class="gp">In [18]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y/%m/</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gr">Out[18]: </span>
<span class="go">0    2013/01/01</span>
<span class="go">1    2013/01/02</span>
<span class="go">2    2013/01/03</span>
<span class="go">3    2013/01/04</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>The string format is as the python standard library and details can be found <a class="reference external" href="https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior">here</a></p>
</div>
<div class="section" id="total-seconds">
<h5>total_seconds<a class="headerlink" href="#total-seconds" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal"><span class="pre">pd.Series</span></code> of type <code class="docutils literal"><span class="pre">timedelta64</span></code> has new method <code class="docutils literal"><span class="pre">.dt.total_seconds()</span></code> returning the duration of the timedelta in seconds (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10817">GH10817</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># TimedeltaIndex</span>
<span class="gp">In [19]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">timedelta_range</span><span class="p">(</span><span class="s1">&#39;1 minutes&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>

<span class="gp">In [20]: </span><span class="n">s</span>
<span class="gr">Out[20]: </span>
<span class="go">0   0 days 00:01:00</span>
<span class="go">1   1 days 00:01:00</span>
<span class="go">2   2 days 00:01:00</span>
<span class="go">3   3 days 00:01:00</span>
<span class="go">dtype: timedelta64[ns]</span>

<span class="gp">In [21]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>
<span class="gr">Out[21]: </span>
<span class="go">0        60.0</span>
<span class="go">1     86460.0</span>
<span class="go">2    172860.0</span>
<span class="go">3    259260.0</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="period-frequency-enhancement">
<span id="whatsnew-0170-periodfreq"></span><h4>Period Frequency Enhancement<a class="headerlink" href="#period-frequency-enhancement" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">Period</span></code>, <code class="docutils literal"><span class="pre">PeriodIndex</span></code> and <code class="docutils literal"><span class="pre">period_range</span></code> can now accept multiplied freq. Also, <code class="docutils literal"><span class="pre">Period.freq</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex.freq</span></code> are now stored as a <code class="docutils literal"><span class="pre">DateOffset</span></code> instance like <code class="docutils literal"><span class="pre">DatetimeIndex</span></code>, and not as <code class="docutils literal"><span class="pre">str</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7811">GH7811</a>)</p>
<p>A multiplied freq represents a span of corresponding length. The example below creates a period of 3 days. Addition and subtraction will shift the period by its span.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [22]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Period</span><span class="p">(</span><span class="s1">&#39;2015-08-01&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;3D&#39;</span><span class="p">)</span>

<span class="gp">In [23]: </span><span class="n">p</span>
<span class="gr">Out[23]: </span><span class="n">Period</span><span class="p">(</span><span class="s1">&#39;2015-08-01&#39;</span><span class="p">,</span> <span class="s1">&#39;3D&#39;</span><span class="p">)</span>

<span class="gp">In [24]: </span><span class="n">p</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gr">Out[24]: </span><span class="n">Period</span><span class="p">(</span><span class="s1">&#39;2015-08-04&#39;</span><span class="p">,</span> <span class="s1">&#39;3D&#39;</span><span class="p">)</span>

<span class="gp">In [25]: </span><span class="n">p</span> <span class="o">-</span> <span class="mi">2</span>
<span class="gr">Out[25]: </span><span class="n">Period</span><span class="p">(</span><span class="s1">&#39;2015-07-26&#39;</span><span class="p">,</span> <span class="s1">&#39;3D&#39;</span><span class="p">)</span>

<span class="gp">In [26]: </span><span class="n">p</span><span class="o">.</span><span class="n">to_timestamp</span><span class="p">()</span>
<span class="gr">Out[26]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2015-08-01 00:00:00&#39;</span><span class="p">)</span>

<span class="gp">In [27]: </span><span class="n">p</span><span class="o">.</span><span class="n">to_timestamp</span><span class="p">(</span><span class="n">how</span><span class="o">=</span><span class="s1">&#39;E&#39;</span><span class="p">)</span>
<span class="gr">Out[27]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2015-08-03 00:00:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can use the multiplied freq in <code class="docutils literal"><span class="pre">PeriodIndex</span></code> and <code class="docutils literal"><span class="pre">period_range</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [28]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">period_range</span><span class="p">(</span><span class="s1">&#39;2015-08-01&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;2D&#39;</span><span class="p">)</span>

<span class="gp">In [29]: </span><span class="n">idx</span>
<span class="gr">Out[29]: </span><span class="n">PeriodIndex</span><span class="p">([</span><span class="s1">&#39;2015-08-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-08-03&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-08-05&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-08-07&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;period[2D]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;2D&#39;</span><span class="p">)</span>

<span class="gp">In [30]: </span><span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gr">Out[30]: </span><span class="n">PeriodIndex</span><span class="p">([</span><span class="s1">&#39;2015-08-03&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-08-05&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-08-07&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-08-09&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;period[2D]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;2D&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="support-for-sas-xport-files">
<span id="whatsnew-0170-enhancements-sas-xport"></span><h4>Support for SAS XPORT files<a class="headerlink" href="#support-for-sas-xport-files" title="Permalink to this headline">¶</a></h4>
<p><code class="xref py py-meth docutils literal"><span class="pre">read_sas()</span></code> provides support for reading <em>SAS XPORT</em> format files. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4052">GH4052</a>).</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sas</span><span class="p">(</span><span class="s1">&#39;sas_xport.xpt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>It is also possible to obtain an iterator and read an XPORT file
incrementally.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sas</span><span class="p">(</span><span class="s1">&#39;sas_xport.xpt&#39;</span><span class="p">,</span> <span class="n">chunksize</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>
    <span class="n">do_something</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<p>See the <a class="reference internal" href="io.html#io-sas"><span class="std std-ref">docs</span></a> for more details.</p>
</div>
<div class="section" id="support-for-math-functions-in-eval">
<span id="whatsnew-0170-matheval"></span><h4>Support for Math Functions in .eval()<a class="headerlink" href="#support-for-math-functions-in-eval" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="generated/pandas.eval.html#pandas.eval" title="pandas.eval"><code class="xref py py-meth docutils literal"><span class="pre">eval()</span></code></a> now supports calling math functions (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4893">GH4893</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">)})</span>
<span class="n">df</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;b = sin(a)&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The support math functions are <cite>sin</cite>, <cite>cos</cite>, <cite>exp</cite>, <cite>log</cite>, <cite>expm1</cite>, <cite>log1p</cite>,
<cite>sqrt</cite>, <cite>sinh</cite>, <cite>cosh</cite>, <cite>tanh</cite>, <cite>arcsin</cite>, <cite>arccos</cite>, <cite>arctan</cite>, <cite>arccosh</cite>,
<cite>arcsinh</cite>, <cite>arctanh</cite>, <cite>abs</cite> and <cite>arctan2</cite>.</p>
<p>These functions map to the intrinsics for the <code class="docutils literal"><span class="pre">NumExpr</span></code> engine.  For the Python
engine, they are mapped to <code class="docutils literal"><span class="pre">NumPy</span></code> calls.</p>
</div>
<div class="section" id="changes-to-excel-with-multiindex">
<h4>Changes to Excel with <code class="docutils literal"><span class="pre">MultiIndex</span></code><a class="headerlink" href="#changes-to-excel-with-multiindex" title="Permalink to this headline">¶</a></h4>
<p>In version 0.16.2 a <code class="docutils literal"><span class="pre">DataFrame</span></code> with <code class="docutils literal"><span class="pre">MultiIndex</span></code> columns could not be written to Excel via <code class="docutils literal"><span class="pre">to_excel</span></code>.
That functionality has been added (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10564">GH10564</a>), along with updating  <code class="docutils literal"><span class="pre">read_excel</span></code> so that the data can
be read back with, no loss of information, by specifying which columns/rows make up the <code class="docutils literal"><span class="pre">MultiIndex</span></code>
in the <code class="docutils literal"><span class="pre">header</span></code> and <code class="docutils literal"><span class="pre">index_col</span></code> parameters (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4679">GH4679</a>)</p>
<p>See the <a class="reference internal" href="io.html#io-excel"><span class="std std-ref">documentation</span></a> for more details.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [31]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]],</span>
<span class="gp">   ....:</span>                   <span class="n">columns</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span><span class="s1">&#39;bar&#39;</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">]],</span>
<span class="gp">   ....:</span>                                                        <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span> <span class="s1">&#39;col2&#39;</span><span class="p">]),</span>
<span class="gp">   ....:</span>                   <span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([[</span><span class="s1">&#39;j&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">]],</span>
<span class="gp">   ....:</span>                                                      <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;i1&#39;</span><span class="p">,</span> <span class="s1">&#39;i2&#39;</span><span class="p">]))</span>
<span class="gp">   ....:</span> 

<span class="gp">In [32]: </span><span class="n">df</span>
<span class="gr">Out[32]: </span>
<span class="go">col1  foo    bar   </span>
<span class="go">col2    a  b   a  b</span>
<span class="go">i1 i2              </span>
<span class="go">j  l    1  2   3  4</span>
<span class="go">   k    5  6   7  8</span>

<span class="gp">In [33]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s1">&#39;test.xlsx&#39;</span><span class="p">)</span>

<span class="gp">In [34]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;test.xlsx&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">index_col</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="gp">In [35]: </span><span class="n">df</span>
<span class="gr">Out[35]: </span>
<span class="go">col1  foo    bar   </span>
<span class="go">col2    a  b   a  b</span>
<span class="go">i1 i2              </span>
<span class="go">j  l    1  2   3  4</span>
<span class="go">   k    5  6   7  8</span>
</pre></div>
</div>
<p>Previously, it was necessary to specify the <code class="docutils literal"><span class="pre">has_index_names</span></code> argument in <code class="docutils literal"><span class="pre">read_excel</span></code>,
if the serialized data had index names.  For version 0.17.0 the ouptput format of <code class="docutils literal"><span class="pre">to_excel</span></code>
has been changed to make this keyword unnecessary - the change is shown below.</p>
<p><strong>Old</strong></p>
<img alt="_images/old-excel-index.png" src="_images/old-excel-index.png" />
<p><strong>New</strong></p>
<img alt="_images/new-excel-index.png" src="_images/new-excel-index.png" />
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Excel files saved in version 0.16.2 or prior that had index names will still able to be read in,
but the <code class="docutils literal"><span class="pre">has_index_names</span></code> argument must specified to <code class="docutils literal"><span class="pre">True</span></code>.</p>
</div>
</div>
<div class="section" id="whatsnew-0170-gbq">
<span id="id27"></span><h4>Google BigQuery Enhancements<a class="headerlink" href="#whatsnew-0170-gbq" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added ability to automatically create a table/dataset using the <a class="reference internal" href="generated/pandas.io.gbq.to_gbq.html#pandas.io.gbq.to_gbq" title="pandas.io.gbq.to_gbq"><code class="xref py py-func docutils literal"><span class="pre">pandas.io.gbq.to_gbq()</span></code></a> function if the destination table/dataset does not exist. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8325">GH8325</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11121">GH11121</a>).</li>
<li>Added ability to replace an existing table and schema when calling the <a class="reference internal" href="generated/pandas.io.gbq.to_gbq.html#pandas.io.gbq.to_gbq" title="pandas.io.gbq.to_gbq"><code class="xref py py-func docutils literal"><span class="pre">pandas.io.gbq.to_gbq()</span></code></a> function via the <code class="docutils literal"><span class="pre">if_exists</span></code> argument. See the <a class="reference internal" href="io.html#io-bigquery-writer"><span class="std std-ref">docs</span></a> for more details (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8325">GH8325</a>).</li>
<li><code class="docutils literal"><span class="pre">InvalidColumnOrder</span></code> and <code class="docutils literal"><span class="pre">InvalidPageToken</span></code> in the gbq module will raise <code class="docutils literal"><span class="pre">ValueError</span></code> instead of <code class="docutils literal"><span class="pre">IOError</span></code>.</li>
<li>The <code class="docutils literal"><span class="pre">generate_bq_schema()</span></code> function is now deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11121">GH11121</a>)</li>
<li>The gbq module will now support Python 3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11094">GH11094</a>).</li>
</ul>
</div>
<div class="section" id="display-alignment-with-unicode-east-asian-width">
<span id="whatsnew-0170-east-asian-width"></span><h4>Display Alignment with Unicode East Asian Width<a class="headerlink" href="#display-alignment-with-unicode-east-asian-width" title="Permalink to this headline">¶</a></h4>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Enabling this option will affect the performance for printing of <code class="docutils literal"><span class="pre">DataFrame</span></code> and <code class="docutils literal"><span class="pre">Series</span></code> (about 2 times slower).
Use only when it is actually required.</p>
</div>
<p>Some East Asian countries use Unicode characters its width is corresponding to 2 alphabets. If a <code class="docutils literal"><span class="pre">DataFrame</span></code> or <code class="docutils literal"><span class="pre">Series</span></code> contains these characters, the default output cannot be aligned properly. The following options are added to enable precise handling for these characters.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">display.unicode.east_asian_width</span></code>: Whether to use the Unicode East Asian Width to calculate the display text width. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2612">GH2612</a>)</li>
<li><code class="docutils literal"><span class="pre">display.unicode.ambiguous_as_wide</span></code>: Whether to handle Unicode characters belong to Ambiguous as Wide. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11102">GH11102</a>)</li>
</ul>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [36]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">u&#39;国籍&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;UK&#39;</span><span class="p">,</span> <span class="s1">u&#39;日本&#39;</span><span class="p">],</span> <span class="s1">u&#39;名前&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">u&#39;しのぶ&#39;</span><span class="p">]})</span>

<span class="gp">In [37]: </span><span class="n">df</span><span class="p">;</span>
</pre></div>
</div>
<img alt="_images/option_unicode01.png" src="_images/option_unicode01.png" />
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [38]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.unicode.east_asian_width&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

<span class="gp">In [39]: </span><span class="n">df</span><span class="p">;</span>
</pre></div>
</div>
<img alt="_images/option_unicode02.png" src="_images/option_unicode02.png" />
<p>For further details, see <a class="reference internal" href="options.html#options-east-asian-width"><span class="std std-ref">here</span></a></p>
</div>
<div class="section" id="whatsnew-0170-enhancements-other">
<span id="id28"></span><h4>Other enhancements<a class="headerlink" href="#whatsnew-0170-enhancements-other" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Support for <code class="docutils literal"><span class="pre">openpyxl</span></code> &gt;= 2.2. The API for style support is now stable (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10125">GH10125</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">merge</span></code> now accepts the argument <code class="docutils literal"><span class="pre">indicator</span></code> which adds a Categorical-type column (by default called <code class="docutils literal"><span class="pre">_merge</span></code>) to the output object that takes on the values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8790">GH8790</a>)</p>
<table border="1" class="docutils">
<colgroup>
<col width="69%" />
<col width="31%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Observation Origin</th>
<th class="head"><code class="docutils literal"><span class="pre">_merge</span></code> value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Merge key only in <code class="docutils literal"><span class="pre">'left'</span></code> frame</td>
<td><code class="docutils literal"><span class="pre">left_only</span></code></td>
</tr>
<tr class="row-odd"><td>Merge key only in <code class="docutils literal"><span class="pre">'right'</span></code> frame</td>
<td><code class="docutils literal"><span class="pre">right_only</span></code></td>
</tr>
<tr class="row-even"><td>Merge key in both frames</td>
<td><code class="docutils literal"><span class="pre">both</span></code></td>
</tr>
</tbody>
</table>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [40]: </span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;col1&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;col_left&#39;</span><span class="p">:[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">]})</span>

<span class="gp">In [41]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;col1&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="s1">&#39;col_right&#39;</span><span class="p">:[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]})</span>

<span class="gp">In [42]: </span><span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">,</span> <span class="n">indicator</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[42]: </span>
<span class="go">   col1 col_left  col_right      _merge</span>
<span class="go">0     0        a        NaN   left_only</span>
<span class="go">1     1        b        2.0        both</span>
<span class="go">2     2      NaN        2.0  right_only</span>
<span class="go">3     2      NaN        2.0  right_only</span>
</pre></div>
</div>
<p>For more, see the <a class="reference internal" href="merging.html#merging-indicator"><span class="std std-ref">updated docs</span></a></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.to_numeric</span></code> is a new function to coerce strings to numbers (possibly with coercion) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11133">GH11133</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.merge</span></code> will now allow duplicate column names if they are not merged upon (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10639">GH10639</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.pivot</span></code> will now allow passing index as <code class="docutils literal"><span class="pre">None</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3962">GH3962</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.concat</span></code> will now use existing Series names if provided (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10698">GH10698</a>).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [43]: </span><span class="n">foo</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>

<span class="gp">In [44]: </span><span class="n">bar</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>

<span class="gp">In [45]: </span><span class="n">baz</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<p>Previous Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="go">In [1] pd.concat([foo, bar, baz], 1)</span>
<span class="go">Out[1]:</span>
<span class="go">      0  1  2</span>
<span class="go">   0  1  1  4</span>
<span class="go">   1  2  2  5</span>
</pre></div>
</div>
<p>New Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [46]: </span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">baz</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="gr">Out[46]: </span>
<span class="go">   foo  0  1</span>
<span class="go">0    1  1  4</span>
<span class="go">1    2  2  5</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame</span></code> has gained the <code class="docutils literal"><span class="pre">nlargest</span></code> and <code class="docutils literal"><span class="pre">nsmallest</span></code> methods (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10393">GH10393</a>)</p>
</li>
<li><p class="first">Add a <code class="docutils literal"><span class="pre">limit_direction</span></code> keyword argument that works with <code class="docutils literal"><span class="pre">limit</span></code> to enable <code class="docutils literal"><span class="pre">interpolate</span></code> to fill <code class="docutils literal"><span class="pre">NaN</span></code> values forward, backward, or both (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9218">GH9218</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10420">GH10420</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11115">GH11115</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [47]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">13</span><span class="p">])</span>

<span class="gp">In [48]: </span><span class="n">ser</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">limit_direction</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>
<span class="gr">Out[48]: </span>
<span class="go">0     NaN</span>
<span class="go">1     5.0</span>
<span class="go">2     5.0</span>
<span class="go">3     7.0</span>
<span class="go">4     NaN</span>
<span class="go">5    11.0</span>
<span class="go">6    13.0</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first">Added a <code class="docutils literal"><span class="pre">DataFrame.round</span></code> method to round the values to a variable number of decimal places (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10568">GH10568</a>).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [49]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;second&#39;</span><span class="p">,</span> <span class="s1">&#39;third&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [50]: </span><span class="n">df</span>
<span class="gr">Out[50]: </span>
<span class="go">               A         B         C</span>
<span class="go">first   0.342764  0.304121  0.417022</span>
<span class="go">second  0.681301  0.875457  0.510422</span>
<span class="go">third   0.669314  0.585937  0.624904</span>

<span class="gp">In [51]: </span><span class="n">df</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gr">Out[51]: </span>
<span class="go">           A     B     C</span>
<span class="go">first   0.34  0.30  0.42</span>
<span class="go">second  0.68  0.88  0.51</span>
<span class="go">third   0.67  0.59  0.62</span>

<span class="gp">In [52]: </span><span class="n">df</span><span class="o">.</span><span class="n">round</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="gr">Out[52]: </span>
<span class="go">          A         B     C</span>
<span class="go">first   0.0  0.304121  0.42</span>
<span class="go">second  1.0  0.875457  0.51</span>
<span class="go">third   1.0  0.585937  0.62</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">drop_duplicates</span></code> and <code class="docutils literal"><span class="pre">duplicated</span></code> now accept a <code class="docutils literal"><span class="pre">keep</span></code> keyword to target first, last, and all duplicates. The <code class="docutils literal"><span class="pre">take_last</span></code> keyword is deprecated, see <a class="reference internal" href="#whatsnew-0170-deprecations"><span class="std std-ref">here</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6511">GH6511</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8505">GH8505</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [53]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">])</span>

<span class="gp">In [54]: </span><span class="n">s</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
<span class="gr">Out[54]: </span>
<span class="go">0    A</span>
<span class="go">1    B</span>
<span class="go">2    C</span>
<span class="go">5    D</span>
<span class="go">dtype: object</span>

<span class="gp">In [55]: </span><span class="n">s</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">keep</span><span class="o">=</span><span class="s1">&#39;last&#39;</span><span class="p">)</span>
<span class="gr">Out[55]: </span>
<span class="go">2    C</span>
<span class="go">3    A</span>
<span class="go">4    B</span>
<span class="go">5    D</span>
<span class="go">dtype: object</span>

<span class="gp">In [56]: </span><span class="n">s</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">keep</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gr">Out[56]: </span>
<span class="go">2    C</span>
<span class="go">5    D</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</li>
<li><p class="first">Reindex now has a <code class="docutils literal"><span class="pre">tolerance</span></code> argument that allows for finer control of <a class="reference internal" href="basics.html#basics-limits-on-reindex-fill"><span class="std std-ref">Limits on filling while reindexing</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10411">GH10411</a>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [57]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">   ....:</span>                    <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2000-01-01&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">)})</span>
<span class="gp">   ....:</span> 

<span class="gp">In [58]: </span><span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">1.9</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">],</span>
<span class="gp">   ....:</span>            <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>            <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[58]: </span>
<span class="go">             t    x</span>
<span class="go">0.1 2000-01-01  0.0</span>
<span class="go">1.9 2000-01-03  2.0</span>
<span class="go">3.5        NaT  NaN</span>
</pre></div>
</div>
<p>When used on a <code class="docutils literal"><span class="pre">DatetimeIndex</span></code>, <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> or <code class="docutils literal"><span class="pre">PeriodIndex</span></code>, <code class="docutils literal"><span class="pre">tolerance</span></code> will coerced into a <code class="docutils literal"><span class="pre">Timedelta</span></code> if possible. This allows you to specify tolerance with a string:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [59]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">)</span>

<span class="gp">In [60]: </span><span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="s1">&#39;1999-12-31&#39;</span><span class="p">]),</span>
<span class="gp">   ....:</span>            <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>            <span class="n">tolerance</span><span class="o">=</span><span class="s1">&#39;1 day&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[60]: </span>
<span class="go">            x</span>
<span class="go">1999-12-31  0</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">tolerance</span></code> is also exposed by the lower level <code class="docutils literal"><span class="pre">Index.get_indexer</span></code> and <code class="docutils literal"><span class="pre">Index.get_loc</span></code> methods.</p>
</li>
<li><p class="first">Added functionality to use the <code class="docutils literal"><span class="pre">base</span></code> argument when resampling a <code class="docutils literal"><span class="pre">TimeDeltaIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10530">GH10530</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DatetimeIndex</span></code> can be instantiated using strings contains <code class="docutils literal"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7599">GH7599</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">to_datetime</span></code> can now accept the <code class="docutils literal"><span class="pre">yearfirst</span></code> keyword (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7599">GH7599</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pandas.tseries.offsets</span></code> larger than the <code class="docutils literal"><span class="pre">Day</span></code> offset can now be used with a <code class="docutils literal"><span class="pre">Series</span></code> for addition/subtraction (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10699">GH10699</a>).  See the <a class="reference internal" href="timeseries.html#timeseries-offsetseries"><span class="std std-ref">docs</span></a> for more details.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.Timedelta.total_seconds()</span></code> now returns Timedelta duration to ns precision (previously microsecond precision) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10939">GH10939</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">PeriodIndex</span></code> now supports arithmetic with <code class="docutils literal"><span class="pre">np.ndarray</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10638">GH10638</a>)</p>
</li>
<li><p class="first">Support pickling of <code class="docutils literal"><span class="pre">Period</span></code> objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10439">GH10439</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">.as_blocks</span></code> will now take a <code class="docutils literal"><span class="pre">copy</span></code> optional argument to return a copy of the data, default is to copy (no change in behavior from prior versions), (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9607">GH9607</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">regex</span></code> argument to <code class="docutils literal"><span class="pre">DataFrame.filter</span></code> now handles numeric column names instead of raising <code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10384">GH10384</a>).</p>
</li>
<li><p class="first">Enable reading gzip compressed files via URL, either by explicitly setting the compression parameter or by inferring from the presence of the HTTP Content-Encoding header in the response (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8685">GH8685</a>)</p>
</li>
<li><p class="first">Enable writing Excel files in <a class="reference internal" href="io.html#io-excel-writing-buffer"><span class="std std-ref">memory</span></a> using StringIO/BytesIO (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7074">GH7074</a>)</p>
</li>
<li><p class="first">Enable serialization of lists and dicts to strings in <code class="docutils literal"><span class="pre">ExcelWriter</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8188">GH8188</a>)</p>
</li>
<li><p class="first">SQL io functions now accept a SQLAlchemy connectable. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7877">GH7877</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_sql</span></code> and <code class="docutils literal"><span class="pre">to_sql</span></code> can accept database URI as <code class="docutils literal"><span class="pre">con</span></code> parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10214">GH10214</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">read_sql_table</span></code> will now allow reading from views (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10750">GH10750</a>).</p>
</li>
<li><p class="first">Enable writing complex values to <code class="docutils literal"><span class="pre">HDFStores</span></code> when using the <code class="docutils literal"><span class="pre">table</span></code> format (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10447">GH10447</a>)</p>
</li>
<li><p class="first">Enable <code class="docutils literal"><span class="pre">pd.read_hdf</span></code> to be used without specifying a key when the HDF file contains a single dataset (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10443">GH10443</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_stata</span></code> will now read Stata 118 type files. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9882">GH9882</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">msgpack</span></code> submodule has been updated to 0.4.6 with backward compatibility (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10581">GH10581</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.to_dict</span></code> now accepts <code class="docutils literal"><span class="pre">orient='index'</span></code> keyword argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10844">GH10844</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.apply</span></code> will return a Series of dicts if the passed function returns a dict and <code class="docutils literal"><span class="pre">reduce=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8735">GH8735</a>).</p>
</li>
<li><p class="first">Allow passing <cite>kwargs</cite> to the interpolation methods (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10378">GH10378</a>).</p>
</li>
<li><p class="first">Improved error message when concatenating an empty iterable of <code class="docutils literal"><span class="pre">Dataframe</span></code> objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9157">GH9157</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_csv</span></code> can now read bz2-compressed files incrementally, and the C parser can read bz2-compressed files from AWS S3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11070">GH11070</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11072">GH11072</a>).</p>
</li>
<li><p class="first">In <code class="docutils literal"><span class="pre">pd.read_csv</span></code>, recognize <code class="docutils literal"><span class="pre">s3n://</span></code> and <code class="docutils literal"><span class="pre">s3a://</span></code> URLs as designating S3 file storage (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11070">GH11070</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11071">GH11071</a>).</p>
</li>
<li><p class="first">Read CSV files from AWS S3 incrementally, instead of first downloading the entire file. (Full file download still required for compressed files in Python 2.)  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11070">GH11070</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11073">GH11073</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_csv</span></code> is now able to infer compression type for files read from AWS S3 storage (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11070">GH11070</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11074">GH11074</a>).</p>
</li>
</ul>
</div>
</div>
<div class="section" id="whatsnew-0170-api-breaking">
<span id="whatsnew-0170-api"></span><span id="id29"></span><h3>Backwards incompatible API changes<a class="headerlink" href="#whatsnew-0170-api-breaking" title="Permalink to this headline">¶</a></h3>
<div class="section" id="changes-to-sorting-api">
<span id="whatsnew-0170-api-breaking-sorting"></span><h4>Changes to sorting API<a class="headerlink" href="#changes-to-sorting-api" title="Permalink to this headline">¶</a></h4>
<p>The sorting API has had some longtime inconsistencies. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9816">GH9816</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8239">GH8239</a>).</p>
<p>Here is a summary of the API <strong>PRIOR</strong> to 0.17.0:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Series.sort</span></code> is <strong>INPLACE</strong> while <code class="docutils literal"><span class="pre">DataFrame.sort</span></code> returns a new object.</li>
<li><code class="docutils literal"><span class="pre">Series.order</span></code> returns a new object</li>
<li>It was possible to use <code class="docutils literal"><span class="pre">Series/DataFrame.sort_index</span></code> to sort by <strong>values</strong> by passing the <code class="docutils literal"><span class="pre">by</span></code> keyword.</li>
<li><code class="docutils literal"><span class="pre">Series/DataFrame.sortlevel</span></code> worked only on a <code class="docutils literal"><span class="pre">MultiIndex</span></code> for sorting by index.</li>
</ul>
<p>To address these issues, we have revamped the API:</p>
<ul class="simple">
<li>We have introduced a new method, <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.sort_values()</span></code>, which is the merger of <code class="docutils literal"><span class="pre">DataFrame.sort()</span></code>, <code class="docutils literal"><span class="pre">Series.sort()</span></code>,
and <code class="docutils literal"><span class="pre">Series.order()</span></code>, to handle sorting of <strong>values</strong>.</li>
<li>The existing methods <code class="docutils literal"><span class="pre">Series.sort()</span></code>, <code class="docutils literal"><span class="pre">Series.order()</span></code>, and <code class="docutils literal"><span class="pre">DataFrame.sort()</span></code> have been deprecated and will be removed in a
future version.</li>
<li>The <code class="docutils literal"><span class="pre">by</span></code> argument of <code class="docutils literal"><span class="pre">DataFrame.sort_index()</span></code> has been deprecated and will be removed in a future version.</li>
<li>The existing method <code class="docutils literal"><span class="pre">.sort_index()</span></code> will gain the <code class="docutils literal"><span class="pre">level</span></code> keyword to enable level sorting.</li>
</ul>
<p>We now have two distinct and non-overlapping methods of sorting. A <code class="docutils literal"><span class="pre">*</span></code> marks items that
will show a <code class="docutils literal"><span class="pre">FutureWarning</span></code>.</p>
<p>To sort by the <strong>values</strong>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Previous</th>
<th class="head">Replacement</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>* <code class="docutils literal"><span class="pre">Series.order()</span></code></td>
<td><code class="docutils literal"><span class="pre">Series.sort_values()</span></code></td>
</tr>
<tr class="row-odd"><td>* <code class="docutils literal"><span class="pre">Series.sort()</span></code></td>
<td><code class="docutils literal"><span class="pre">Series.sort_values(inplace=True)</span></code></td>
</tr>
<tr class="row-even"><td>* <code class="docutils literal"><span class="pre">DataFrame.sort(columns=...)</span></code></td>
<td><code class="docutils literal"><span class="pre">DataFrame.sort_values(by=...)</span></code></td>
</tr>
</tbody>
</table>
<p>To sort by the <strong>index</strong>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Previous</th>
<th class="head">Replacement</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">Series.sort_index()</span></code></td>
<td><code class="docutils literal"><span class="pre">Series.sort_index()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">Series.sortlevel(level=...)</span></code></td>
<td><code class="docutils literal"><span class="pre">Series.sort_index(level=...</span></code>)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">DataFrame.sort_index()</span></code></td>
<td><code class="docutils literal"><span class="pre">DataFrame.sort_index()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">DataFrame.sortlevel(level=...)</span></code></td>
<td><code class="docutils literal"><span class="pre">DataFrame.sort_index(level=...)</span></code></td>
</tr>
<tr class="row-even"><td>* <code class="docutils literal"><span class="pre">DataFrame.sort()</span></code></td>
<td><code class="docutils literal"><span class="pre">DataFrame.sort_index()</span></code></td>
</tr>
</tbody>
</table>
<p>We have also deprecated and changed similar methods in two Series-like classes, <code class="docutils literal"><span class="pre">Index</span></code> and <code class="docutils literal"><span class="pre">Categorical</span></code>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Previous</th>
<th class="head">Replacement</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>* <code class="docutils literal"><span class="pre">Index.order()</span></code></td>
<td><code class="docutils literal"><span class="pre">Index.sort_values()</span></code></td>
</tr>
<tr class="row-odd"><td>* <code class="docutils literal"><span class="pre">Categorical.order()</span></code></td>
<td><code class="docutils literal"><span class="pre">Categorical.sort_values()</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="changes-to-to-datetime-and-to-timedelta">
<span id="whatsnew-0170-api-breaking-to-datetime"></span><h4>Changes to to_datetime and to_timedelta<a class="headerlink" href="#changes-to-to-datetime-and-to-timedelta" title="Permalink to this headline">¶</a></h4>
<div class="section" id="error-handling">
<h5>Error handling<a class="headerlink" href="#error-handling" title="Permalink to this headline">¶</a></h5>
<p>The default for <code class="docutils literal"><span class="pre">pd.to_datetime</span></code> error handling has changed to <code class="docutils literal"><span class="pre">errors='raise'</span></code>.
In prior versions it was <code class="docutils literal"><span class="pre">errors='ignore'</span></code>. Furthermore, the <code class="docutils literal"><span class="pre">coerce</span></code> argument
has been deprecated in favor of <code class="docutils literal"><span class="pre">errors='coerce'</span></code>. This means that invalid parsing
will raise rather that return the original input as in previous versions. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10636">GH10636</a>)</p>
<p>Previous Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="s1">&#39;2009-07-31&#39;</span><span class="p">,</span> <span class="s1">&#39;asd&#39;</span><span class="p">])</span>
<span class="gr">Out[2]: </span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;2009-07-31&#39;</span><span class="p">,</span> <span class="s1">&#39;asd&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
</pre></div>
</div>
<p>New Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="s1">&#39;2009-07-31&#39;</span><span class="p">,</span> <span class="s1">&#39;asd&#39;</span><span class="p">])</span>
<span class="go">ValueError: Unknown string format</span>
</pre></div>
</div>
<p>Of course you can coerce this as well.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [61]: </span><span class="n">to_datetime</span><span class="p">([</span><span class="s1">&#39;2009-07-31&#39;</span><span class="p">,</span> <span class="s1">&#39;asd&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="gr">Out[61]: </span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;2009-07-31&#39;</span><span class="p">,</span> <span class="s1">&#39;NaT&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
<p>To keep the previous behavior, you can use <code class="docutils literal"><span class="pre">errors='ignore'</span></code>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [62]: </span><span class="n">to_datetime</span><span class="p">([</span><span class="s1">&#39;2009-07-31&#39;</span><span class="p">,</span> <span class="s1">&#39;asd&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
<span class="gr">Out[62]: </span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;2009-07-31&#39;</span><span class="p">,</span> <span class="s1">&#39;asd&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
</pre></div>
</div>
<p>Furthermore, <code class="docutils literal"><span class="pre">pd.to_timedelta</span></code> has gained a similar API, of <code class="docutils literal"><span class="pre">errors='raise'|'ignore'|'coerce'</span></code>, and the <code class="docutils literal"><span class="pre">coerce</span></code> keyword
has been deprecated in favor of <code class="docutils literal"><span class="pre">errors='coerce'</span></code>.</p>
</div>
<div class="section" id="consistent-parsing">
<h5>Consistent Parsing<a class="headerlink" href="#consistent-parsing" title="Permalink to this headline">¶</a></h5>
<p>The string parsing of <code class="docutils literal"><span class="pre">to_datetime</span></code>, <code class="docutils literal"><span class="pre">Timestamp</span></code> and <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> has
been made consistent. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7599">GH7599</a>)</p>
<p>Prior to v0.17.0, <code class="docutils literal"><span class="pre">Timestamp</span></code> and <code class="docutils literal"><span class="pre">to_datetime</span></code> may parse year-only datetime-string incorrectly using today&#8217;s date, otherwise <code class="docutils literal"><span class="pre">DatetimeIndex</span></code>
uses the beginning of the year. <code class="docutils literal"><span class="pre">Timestamp</span></code> and <code class="docutils literal"><span class="pre">to_datetime</span></code> may raise <code class="docutils literal"><span class="pre">ValueError</span></code> in some types of datetime-string which <code class="docutils literal"><span class="pre">DatetimeIndex</span></code>
can parse, such as a quarterly string.</p>
<p>Previous Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2012Q2&#39;</span><span class="p">)</span>
<span class="go">Traceback</span>
<span class="go">   ...</span>
<span class="go">ValueError: Unable to parse 2012Q2</span>

<span class="c"># Results in today&#39;s date.</span>
<span class="gp">In [2]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014&#39;</span><span class="p">)</span>
<span class="go">Out [2]: 2014-08-12 00:00:00</span>
</pre></div>
</div>
<p>v0.17.0 can parse them as below. It works on <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> also.</p>
<p>New Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [63]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2012Q2&#39;</span><span class="p">)</span>
<span class="gr">Out[63]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2012-04-01 00:00:00&#39;</span><span class="p">)</span>

<span class="gp">In [64]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014&#39;</span><span class="p">)</span>
<span class="gr">Out[64]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-01-01 00:00:00&#39;</span><span class="p">)</span>

<span class="gp">In [65]: </span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;2012Q2&#39;</span><span class="p">,</span> <span class="s1">&#39;2014&#39;</span><span class="p">])</span>
<span class="gr">Out[65]: </span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="s1">&#39;2012-04-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2014-01-01&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you want to perform calculations based on today&#8217;s date, use <code class="docutils literal"><span class="pre">Timestamp.now()</span></code> and <code class="docutils literal"><span class="pre">pandas.tseries.offsets</span></code>.</p>
<div class="last highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [66]: </span><span class="kn">import</span> <span class="nn">pandas.tseries.offsets</span> <span class="kn">as</span> <span class="nn">offsets</span>

<span class="gp">In [67]: </span><span class="n">Timestamp</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="gr">Out[67]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2016-12-24 18:35:41.107838&#39;</span><span class="p">)</span>

<span class="gp">In [68]: </span><span class="n">Timestamp</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">offsets</span><span class="o">.</span><span class="n">DateOffset</span><span class="p">(</span><span class="n">years</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gr">Out[68]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2017-12-24 18:35:41.109882&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="changes-to-index-comparisons">
<h4>Changes to Index Comparisons<a class="headerlink" href="#changes-to-index-comparisons" title="Permalink to this headline">¶</a></h4>
<p>Operator equal on <code class="docutils literal"><span class="pre">Index</span></code> should behavior similarly to <code class="docutils literal"><span class="pre">Series</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9947">GH9947</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10637">GH10637</a>)</p>
<p>Starting in v0.17.0, comparing <code class="docutils literal"><span class="pre">Index</span></code> objects of different lengths will raise
a <code class="docutils literal"><span class="pre">ValueError</span></code>. This is to be consistent with the behavior of <code class="docutils literal"><span class="pre">Series</span></code>.</p>
<p>Previous Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">==</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gr">Out[2]: </span><span class="n">array</span><span class="p">([</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">==</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">2</span><span class="p">])</span>
<span class="gr">Out[3]: </span><span class="n">array</span><span class="p">([</span><span class="bp">False</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">==</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gr">Out[4]: </span><span class="bp">False</span>
</pre></div>
</div>
<p>New Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">==</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gr">Out[8]: </span><span class="n">array</span><span class="p">([</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>

<span class="gp">In [9]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">==</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">2</span><span class="p">])</span>
<span class="go">ValueError: Lengths must match to compare</span>

<span class="gp">In [10]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">==</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="go">ValueError: Lengths must match to compare</span>
</pre></div>
</div>
<p>Note that this is different from the <code class="docutils literal"><span class="pre">numpy</span></code> behavior where a comparison can
be broadcast:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [69]: </span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="gr">Out[69]: </span><span class="n">array</span><span class="p">([</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
</pre></div>
</div>
<p>or it can return False if broadcasting can not be done:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [70]: </span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gr">Out[70]: </span><span class="bp">False</span>
</pre></div>
</div>
</div>
<div class="section" id="changes-to-boolean-comparisons-vs-none">
<h4>Changes to Boolean Comparisons vs. None<a class="headerlink" href="#changes-to-boolean-comparisons-vs-none" title="Permalink to this headline">¶</a></h4>
<p>Boolean comparisons of a <code class="docutils literal"><span class="pre">Series</span></code> vs <code class="docutils literal"><span class="pre">None</span></code> will now be equivalent to comparing with <code class="docutils literal"><span class="pre">np.nan</span></code>, rather than raise <code class="docutils literal"><span class="pre">TypeError</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1079">GH1079</a>).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [71]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

<span class="gp">In [72]: </span><span class="n">s</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>

<span class="gp">In [73]: </span><span class="n">s</span>
<span class="gr">Out[73]: </span>
<span class="go">0    0.0</span>
<span class="go">1    NaN</span>
<span class="go">2    2.0</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>Previous Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">s</span><span class="o">==</span><span class="bp">None</span>
<span class="go">TypeError: Could not compare &lt;type &#39;NoneType&#39;&gt; type with Series</span>
</pre></div>
</div>
<p>New Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [74]: </span><span class="n">s</span><span class="o">==</span><span class="bp">None</span>
<span class="gr">Out[74]: </span>
<span class="go">0    False</span>
<span class="go">1    False</span>
<span class="go">2    False</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
<p>Usually you simply want to know which values are null.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [75]: </span><span class="n">s</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span>
<span class="gr">Out[75]: </span>
<span class="go">0    False</span>
<span class="go">1     True</span>
<span class="go">2    False</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>You generally will want to use <code class="docutils literal"><span class="pre">isnull/notnull</span></code> for these types of comparisons, as <code class="docutils literal"><span class="pre">isnull/notnull</span></code> tells you which elements are null. One has to be
mindful that <code class="docutils literal"><span class="pre">nan's</span></code> don&#8217;t compare equal, but <code class="docutils literal"><span class="pre">None's</span></code> do. Note that Pandas/numpy uses the fact that <code class="docutils literal"><span class="pre">np.nan</span> <span class="pre">!=</span> <span class="pre">np.nan</span></code>, and treats <code class="docutils literal"><span class="pre">None</span></code> like <code class="docutils literal"><span class="pre">np.nan</span></code>.</p>
<div class="last highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [76]: </span><span class="bp">None</span> <span class="o">==</span> <span class="bp">None</span>
<span class="gr">Out[76]: </span><span class="bp">True</span>

<span class="gp">In [77]: </span><span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="gr">Out[77]: </span><span class="bp">False</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="hdfstore-dropna-behavior">
<span id="whatsnew-0170-api-breaking-hdf-dropna"></span><h4>HDFStore dropna behavior<a class="headerlink" href="#hdfstore-dropna-behavior" title="Permalink to this headline">¶</a></h4>
<p>The default behavior for HDFStore write functions with <code class="docutils literal"><span class="pre">format='table'</span></code> is now to keep rows that are all missing. Previously, the behavior was to drop rows that were all missing save the index. The previous behavior can be replicated using the <code class="docutils literal"><span class="pre">dropna=True</span></code> option. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9382">GH9382</a>)</p>
<p>Previous Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [78]: </span><span class="n">df_with_missing</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;col1&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">   ....:</span>                                 <span class="s1">&#39;col2&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]})</span>
<span class="gp">   ....:</span> 

<span class="gp">In [79]: </span><span class="n">df_with_missing</span>
<span class="gr">Out[79]: </span>
<span class="go">   col1  col2</span>
<span class="go">0   0.0   1.0</span>
<span class="go">1   NaN   NaN</span>
<span class="go">2   2.0   NaN</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="go">In [27]:</span>
<span class="go">df_with_missing.to_hdf(&#39;file.h5&#39;,</span>
<span class="go">                       &#39;df_with_missing&#39;,</span>
<span class="go">                       format=&#39;table&#39;,</span>
<span class="go">                       mode=&#39;w&#39;)</span>

<span class="gp">In [28]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_hdf</span><span class="p">(</span><span class="s1">&#39;file.h5&#39;</span><span class="p">,</span> <span class="s1">&#39;df_with_missing&#39;</span><span class="p">)</span>

<span class="go">Out [28]:</span>
<span class="go">      col1  col2</span>
<span class="go">  0     0     1</span>
<span class="go">  2     2   NaN</span>
</pre></div>
</div>
<p>New Behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [80]: </span><span class="n">df_with_missing</span><span class="o">.</span><span class="n">to_hdf</span><span class="p">(</span><span class="s1">&#39;file.h5&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>                        <span class="s1">&#39;df_with_missing&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>                         <span class="n">format</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>                         <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 

<span class="gp">In [81]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_hdf</span><span class="p">(</span><span class="s1">&#39;file.h5&#39;</span><span class="p">,</span> <span class="s1">&#39;df_with_missing&#39;</span><span class="p">)</span>
<span class="gr">Out[81]: </span>
<span class="go">   col1  col2</span>
<span class="go">0   0.0   1.0</span>
<span class="go">1   NaN   NaN</span>
<span class="go">2   2.0   NaN</span>
</pre></div>
</div>
<p>See the <a class="reference internal" href="io.html#io-hdf5"><span class="std std-ref">docs</span></a> for more details.</p>
</div>
<div class="section" id="changes-to-display-precision-option">
<span id="whatsnew-0170-api-breaking-display-precision"></span><h4>Changes to <code class="docutils literal"><span class="pre">display.precision</span></code> option<a class="headerlink" href="#changes-to-display-precision-option" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">display.precision</span></code> option has been clarified to refer to decimal places (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10451">GH10451</a>).</p>
<p>Earlier versions of pandas would format floating point numbers to have one less decimal place than the value in
<code class="docutils literal"><span class="pre">display.precision</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">123.456789</span><span class="p">]})</span>
<span class="go">Out[2]:</span>
<span class="go">       x</span>
<span class="go">0  123.5</span>
</pre></div>
</div>
<p>If interpreting precision as &#8220;significant figures&#8221; this did work for scientific notation but that same interpretation
did not work for values with standard formatting. It was also out of step with how numpy handles formatting.</p>
<p>Going forward the value of <code class="docutils literal"><span class="pre">display.precision</span></code> will directly control the number of places after the decimal, for
regular formatting as well as scientific notation, similar to how numpy&#8217;s <code class="docutils literal"><span class="pre">precision</span></code> print option works.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [82]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="gp">In [83]: </span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">123.456789</span><span class="p">]})</span>
<span class="gr">Out[83]: </span>
<span class="go">        x</span>
<span class="go">0  123.46</span>
</pre></div>
</div>
<p>To preserve output behavior with prior versions the default value of <code class="docutils literal"><span class="pre">display.precision</span></code> has been reduced to <code class="docutils literal"><span class="pre">6</span></code>
from <code class="docutils literal"><span class="pre">7</span></code>.</p>
</div>
<div class="section" id="changes-to-categorical-unique">
<span id="whatsnew-0170-api-breaking-categorical-unique"></span><h4>Changes to <code class="docutils literal"><span class="pre">Categorical.unique</span></code><a class="headerlink" href="#changes-to-categorical-unique" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">Categorical.unique</span></code> now returns new <code class="docutils literal"><span class="pre">Categoricals</span></code> with <code class="docutils literal"><span class="pre">categories</span></code> and <code class="docutils literal"><span class="pre">codes</span></code> that are unique, rather than returning <code class="docutils literal"><span class="pre">np.array</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10508">GH10508</a>)</p>
<ul class="simple">
<li>unordered category: values and categories are sorted by appearance order.</li>
<li>ordered category: values are sorted by appearance order, categories keep existing order.</li>
</ul>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [84]: </span><span class="n">cat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>                      <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>                      <span class="n">ordered</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">   ....:</span> 

<span class="gp">In [85]: </span><span class="n">cat</span>
<span class="gr">Out[85]: </span>
<span class="go">[C, A, B, C]</span>
<span class="go">Categories (3, object): [A &lt; B &lt; C]</span>

<span class="gp">In [86]: </span><span class="n">cat</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="gr">Out[86]: </span>
<span class="go">[C, A, B]</span>
<span class="go">Categories (3, object): [A &lt; B &lt; C]</span>

<span class="gp">In [87]: </span><span class="n">cat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>                      <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [88]: </span><span class="n">cat</span>
<span class="gr">Out[88]: </span>
<span class="go">[C, A, B, C]</span>
<span class="go">Categories (3, object): [A, B, C]</span>

<span class="gp">In [89]: </span><span class="n">cat</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="gr">Out[89]: </span>
<span class="go">[C, A, B]</span>
<span class="go">Categories (3, object): [C, A, B]</span>
</pre></div>
</div>
</div>
<div class="section" id="changes-to-bool-passed-as-header-in-parsers">
<h4>Changes to <code class="docutils literal"><span class="pre">bool</span></code> passed as <code class="docutils literal"><span class="pre">header</span></code> in Parsers<a class="headerlink" href="#changes-to-bool-passed-as-header-in-parsers" title="Permalink to this headline">¶</a></h4>
<p>In earlier versions of pandas, if a bool was passed the <code class="docutils literal"><span class="pre">header</span></code> argument of
<code class="docutils literal"><span class="pre">read_csv</span></code>, <code class="docutils literal"><span class="pre">read_excel</span></code>, or <code class="docutils literal"><span class="pre">read_html</span></code> it was implicitly converted to
an integer, resulting in <code class="docutils literal"><span class="pre">header=0</span></code> for <code class="docutils literal"><span class="pre">False</span></code> and <code class="docutils literal"><span class="pre">header=1</span></code> for <code class="docutils literal"><span class="pre">True</span></code>
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6113">GH6113</a>)</p>
<p>A <code class="docutils literal"><span class="pre">bool</span></code> input to <code class="docutils literal"><span class="pre">header</span></code> will now raise a <code class="docutils literal"><span class="pre">TypeError</span></code></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">29</span><span class="p">]:</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data.csv&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="n">Passing</span> <span class="n">a</span> <span class="nb">bool</span> <span class="n">to</span> <span class="n">header</span> <span class="ow">is</span> <span class="n">invalid</span><span class="o">.</span> <span class="n">Use</span> <span class="n">header</span><span class="o">=</span><span class="bp">None</span> <span class="k">for</span> <span class="n">no</span> <span class="n">header</span> <span class="ow">or</span>
<span class="n">header</span><span class="o">=</span><span class="nb">int</span> <span class="ow">or</span> <span class="nb">list</span><span class="o">-</span><span class="n">like</span> <span class="n">of</span> <span class="n">ints</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">making</span> <span class="n">up</span> <span class="n">the</span> <span class="n">column</span> <span class="n">names</span>
</pre></div>
</div>
</div>
<div class="section" id="whatsnew-0170-api-breaking-other">
<span id="id30"></span><h4>Other API Changes<a class="headerlink" href="#whatsnew-0170-api-breaking-other" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Line and kde plot with <code class="docutils literal"><span class="pre">subplots=True</span></code> now uses default colors, not all black. Specify <code class="docutils literal"><span class="pre">color='k'</span></code> to draw all lines in black (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9894">GH9894</a>)</p>
</li>
<li><p class="first">Calling the <code class="docutils literal"><span class="pre">.value_counts()</span></code> method on a Series with a <code class="docutils literal"><span class="pre">categorical</span></code> dtype now returns a Series with a <code class="docutils literal"><span class="pre">CategoricalIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10704">GH10704</a>)</p>
</li>
<li><p class="first">The metadata properties of subclasses of pandas objects will now be serialized (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10553">GH10553</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">groupby</span></code> using <code class="docutils literal"><span class="pre">Categorical</span></code> follows the same rule as <code class="docutils literal"><span class="pre">Categorical.unique</span></code> described above  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10508">GH10508</a>)</p>
</li>
<li><p class="first">When constructing <code class="docutils literal"><span class="pre">DataFrame</span></code> with an array of <code class="docutils literal"><span class="pre">complex64</span></code> dtype previously meant the corresponding column
was automatically promoted to the <code class="docutils literal"><span class="pre">complex128</span></code> dtype. Pandas will now preserve the itemsize of the input for complex data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10952">GH10952</a>)</p>
</li>
<li><p class="first">some numeric reduction operators would return <code class="docutils literal"><span class="pre">ValueError</span></code>, rather than <code class="docutils literal"><span class="pre">TypeError</span></code> on object types that includes strings and numbers (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11131">GH11131</a>)</p>
</li>
<li><p class="first">Passing currently unsupported <code class="docutils literal"><span class="pre">chunksize</span></code> argument to <code class="docutils literal"><span class="pre">read_excel</span></code> or <code class="docutils literal"><span class="pre">ExcelFile.parse</span></code> will now raise <code class="docutils literal"><span class="pre">NotImplementedError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8011">GH8011</a>)</p>
</li>
<li><p class="first">Allow an <code class="docutils literal"><span class="pre">ExcelFile</span></code> object to be passed into <code class="docutils literal"><span class="pre">read_excel</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11198">GH11198</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DatetimeIndex.union</span></code> does not infer <code class="docutils literal"><span class="pre">freq</span></code> if <code class="docutils literal"><span class="pre">self</span></code> and the input have <code class="docutils literal"><span class="pre">None</span></code> as <code class="docutils literal"><span class="pre">freq</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11086">GH11086</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">NaT</span></code>&#8216;s methods now either raise <code class="docutils literal"><span class="pre">ValueError</span></code>, or return <code class="docutils literal"><span class="pre">np.nan</span></code> or <code class="docutils literal"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9513">GH9513</a>)</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Behavior</th>
<th class="head">Methods</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>return <code class="docutils literal"><span class="pre">np.nan</span></code></td>
<td><code class="docutils literal"><span class="pre">weekday</span></code>, <code class="docutils literal"><span class="pre">isoweekday</span></code></td>
</tr>
<tr class="row-odd"><td>return <code class="docutils literal"><span class="pre">NaT</span></code></td>
<td><code class="docutils literal"><span class="pre">date</span></code>, <code class="docutils literal"><span class="pre">now</span></code>, <code class="docutils literal"><span class="pre">replace</span></code>, <code class="docutils literal"><span class="pre">to_datetime</span></code>, <code class="docutils literal"><span class="pre">today</span></code></td>
</tr>
<tr class="row-even"><td>return <code class="docutils literal"><span class="pre">np.datetime64('NaT')</span></code></td>
<td><code class="docutils literal"><span class="pre">to_datetime64</span></code> (unchanged)</td>
</tr>
<tr class="row-odd"><td>raise <code class="docutils literal"><span class="pre">ValueError</span></code></td>
<td>All other public methods (names not beginning with underscores)</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<div class="section" id="whatsnew-0170-deprecations">
<span id="id31"></span><h4>Deprecations<a class="headerlink" href="#whatsnew-0170-deprecations" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">For <code class="docutils literal"><span class="pre">Series</span></code> the following indexing functions are deprecated (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10177">GH10177</a>).</p>
<table border="1" class="docutils">
<colgroup>
<col width="39%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Deprecated Function</th>
<th class="head">Replacement</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">.irow(i)</span></code></td>
<td><code class="docutils literal"><span class="pre">.iloc[i]</span></code> or <code class="docutils literal"><span class="pre">.iat[i]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">.iget(i)</span></code></td>
<td><code class="docutils literal"><span class="pre">.iloc[i]</span></code> or <code class="docutils literal"><span class="pre">.iat[i]</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">.iget_value(i)</span></code></td>
<td><code class="docutils literal"><span class="pre">.iloc[i]</span></code> or <code class="docutils literal"><span class="pre">.iat[i]</span></code></td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">For <code class="docutils literal"><span class="pre">DataFrame</span></code> the following indexing functions are deprecated (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10177">GH10177</a>).</p>
<table border="1" class="docutils">
<colgroup>
<col width="39%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Deprecated Function</th>
<th class="head">Replacement</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">.irow(i)</span></code></td>
<td><code class="docutils literal"><span class="pre">.iloc[i]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">.iget_value(i,</span> <span class="pre">j)</span></code></td>
<td><code class="docutils literal"><span class="pre">.iloc[i,</span> <span class="pre">j]</span></code> or <code class="docutils literal"><span class="pre">.iat[i,</span> <span class="pre">j]</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">.icol(j)</span></code></td>
<td><code class="docutils literal"><span class="pre">.iloc[:,</span> <span class="pre">j]</span></code></td>
</tr>
</tbody>
</table>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These indexing function have been deprecated in the documentation since 0.11.0.</p>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Categorical.name</span></code> was deprecated to make <code class="docutils literal"><span class="pre">Categorical</span></code> more <code class="docutils literal"><span class="pre">numpy.ndarray</span></code> like. Use <code class="docutils literal"><span class="pre">Series(cat,</span> <span class="pre">name=&quot;whatever&quot;)</span></code> instead (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10482">GH10482</a>).</li>
<li>Setting missing values (NaN) in a <code class="docutils literal"><span class="pre">Categorical</span></code>&#8216;s <code class="docutils literal"><span class="pre">categories</span></code> will issue a warning (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10748">GH10748</a>). You can still have missing values in the <code class="docutils literal"><span class="pre">values</span></code>.</li>
<li><code class="docutils literal"><span class="pre">drop_duplicates</span></code> and <code class="docutils literal"><span class="pre">duplicated</span></code>&#8216;s <code class="docutils literal"><span class="pre">take_last</span></code> keyword was deprecated in favor of <code class="docutils literal"><span class="pre">keep</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6511">GH6511</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8505">GH8505</a>)</li>
<li><code class="docutils literal"><span class="pre">Series.nsmallest</span></code> and <code class="docutils literal"><span class="pre">nlargest</span></code>&#8216;s <code class="docutils literal"><span class="pre">take_last</span></code> keyword was deprecated in favor of <code class="docutils literal"><span class="pre">keep</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10792">GH10792</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.combineAdd</span></code> and <code class="docutils literal"><span class="pre">DataFrame.combineMult</span></code> are deprecated. They
can easily be replaced by using the <code class="docutils literal"><span class="pre">add</span></code> and <code class="docutils literal"><span class="pre">mul</span></code> methods:
<code class="docutils literal"><span class="pre">DataFrame.add(other,</span> <span class="pre">fill_value=0)</span></code> and <code class="docutils literal"><span class="pre">DataFrame.mul(other,</span> <span class="pre">fill_value=1.)</span></code>
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10735">GH10735</a>).</li>
<li><code class="docutils literal"><span class="pre">TimeSeries</span></code> deprecated in favor of <code class="docutils literal"><span class="pre">Series</span></code> (note that this has been an alias since 0.13.0), (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10890">GH10890</a>)</li>
<li><code class="docutils literal"><span class="pre">SparsePanel</span></code> deprecated and will be removed in a future version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11157">GH11157</a>).</li>
<li><code class="docutils literal"><span class="pre">Series.is_time_series</span></code> deprecated in favor of <code class="docutils literal"><span class="pre">Series.index.is_all_dates</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11135">GH11135</a>)</li>
<li>Legacy offsets (like <code class="docutils literal"><span class="pre">'A&#64;JAN'</span></code>) are deprecated (note that this has been alias since 0.8.0) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10878">GH10878</a>)</li>
<li><code class="docutils literal"><span class="pre">WidePanel</span></code> deprecated in favor of <code class="docutils literal"><span class="pre">Panel</span></code>, <code class="docutils literal"><span class="pre">LongPanel</span></code> in favor of <code class="docutils literal"><span class="pre">DataFrame</span></code> (note these have been aliases since &lt; 0.11.0), (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10892">GH10892</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.convert_objects</span></code> has been deprecated in favor of type-specific functions <code class="docutils literal"><span class="pre">pd.to_datetime</span></code>, <code class="docutils literal"><span class="pre">pd.to_timestamp</span></code> and <code class="docutils literal"><span class="pre">pd.to_numeric</span></code> (new in 0.17.0) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11133">GH11133</a>).</li>
</ul>
</div>
<div class="section" id="whatsnew-0170-prior-deprecations">
<span id="id32"></span><h4>Removal of prior version deprecations/changes<a class="headerlink" href="#whatsnew-0170-prior-deprecations" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Removal of <code class="docutils literal"><span class="pre">na_last</span></code> parameters from <code class="docutils literal"><span class="pre">Series.order()</span></code> and <code class="docutils literal"><span class="pre">Series.sort()</span></code>, in favor of <code class="docutils literal"><span class="pre">na_position</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5231">GH5231</a>)</p>
</li>
<li><p class="first">Remove of <code class="docutils literal"><span class="pre">percentile_width</span></code> from <code class="docutils literal"><span class="pre">.describe()</span></code>, in favor of <code class="docutils literal"><span class="pre">percentiles</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7088">GH7088</a>)</p>
</li>
<li><p class="first">Removal of <code class="docutils literal"><span class="pre">colSpace</span></code> parameter from <code class="docutils literal"><span class="pre">DataFrame.to_string()</span></code>, in favor of <code class="docutils literal"><span class="pre">col_space</span></code>, circa 0.8.0 version.</p>
</li>
<li><p class="first">Removal of automatic time-series broadcasting (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2304">GH2304</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [90]: </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1234</span><span class="p">)</span>

<span class="gp">In [91]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;AB&#39;</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>

<span class="gp">In [92]: </span><span class="n">df</span>
<span class="gr">Out[92]: </span>
<span class="go">                   A         B</span>
<span class="go">2013-01-01  0.471435 -1.190976</span>
<span class="go">2013-01-02  1.432707 -0.312652</span>
<span class="go">2013-01-03 -0.720589  0.887163</span>
<span class="go">2013-01-04  0.859588 -0.636524</span>
<span class="go">2013-01-05  0.015696 -2.242685</span>
</pre></div>
</div>
<p>Previously</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">df</span> <span class="o">+</span> <span class="n">df</span><span class="o">.</span><span class="n">A</span>
<span class="go">FutureWarning: TimeSeries broadcasting along DataFrame index by default is deprecated.</span>
<span class="go">Please use DataFrame.&lt;op&gt; to explicitly broadcast arithmetic operations along the index</span>

<span class="go">Out[3]:</span>
<span class="go">                    A         B</span>
<span class="go">2013-01-01  0.942870 -0.719541</span>
<span class="go">2013-01-02  2.865414  1.120055</span>
<span class="go">2013-01-03 -1.441177  0.166574</span>
<span class="go">2013-01-04  1.719177  0.223065</span>
<span class="go">2013-01-05  0.031393 -2.226989</span>
</pre></div>
</div>
<p>Current</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [93]: </span><span class="n">df</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">A</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>
<span class="gr">Out[93]: </span>
<span class="go">                   A         B</span>
<span class="go">2013-01-01  0.942870 -0.719541</span>
<span class="go">2013-01-02  2.865414  1.120055</span>
<span class="go">2013-01-03 -1.441177  0.166574</span>
<span class="go">2013-01-04  1.719177  0.223065</span>
<span class="go">2013-01-05  0.031393 -2.226989</span>
</pre></div>
</div>
</li>
<li><p class="first">Remove <code class="docutils literal"><span class="pre">table</span></code> keyword in <code class="docutils literal"><span class="pre">HDFStore.put/append</span></code>, in favor of using <code class="docutils literal"><span class="pre">format=</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4645">GH4645</a>)</p>
</li>
<li><p class="first">Remove <code class="docutils literal"><span class="pre">kind</span></code> in <code class="docutils literal"><span class="pre">read_excel/ExcelFile</span></code> as its unused (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4712">GH4712</a>)</p>
</li>
<li><p class="first">Remove <code class="docutils literal"><span class="pre">infer_type</span></code> keyword from <code class="docutils literal"><span class="pre">pd.read_html</span></code> as its unused (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4770">GH4770</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7032">GH7032</a>)</p>
</li>
<li><p class="first">Remove <code class="docutils literal"><span class="pre">offset</span></code> and <code class="docutils literal"><span class="pre">timeRule</span></code> keywords from <code class="docutils literal"><span class="pre">Series.tshift/shift</span></code>, in favor of <code class="docutils literal"><span class="pre">freq</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4853">GH4853</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4864">GH4864</a>)</p>
</li>
<li><p class="first">Remove <code class="docutils literal"><span class="pre">pd.load/pd.save</span></code> aliases in favor of <code class="docutils literal"><span class="pre">pd.to_pickle/pd.read_pickle</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3787">GH3787</a>)</p>
</li>
</ul>
</div>
</div>
<div class="section" id="whatsnew-0170-performance">
<span id="id33"></span><h3>Performance Improvements<a class="headerlink" href="#whatsnew-0170-performance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Development support for benchmarking with the <a class="reference external" href="https://github.com/spacetelescope/asv/">Air Speed Velocity library</a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8361">GH8361</a>)</li>
<li>Added vbench benchmarks for alternative ExcelWriter engines and reading Excel files (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7171">GH7171</a>)</li>
<li>Performance improvements in <code class="docutils literal"><span class="pre">Categorical.value_counts</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10804">GH10804</a>)</li>
<li>Performance improvements in <code class="docutils literal"><span class="pre">SeriesGroupBy.nunique</span></code> and <code class="docutils literal"><span class="pre">SeriesGroupBy.value_counts</span></code> and <code class="docutils literal"><span class="pre">SeriesGroupby.transform</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10820">GH10820</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11077">GH11077</a>)</li>
<li>Performance improvements in <code class="docutils literal"><span class="pre">DataFrame.drop_duplicates</span></code> with integer dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10917">GH10917</a>)</li>
<li>Performance improvements in <code class="docutils literal"><span class="pre">DataFrame.duplicated</span></code> with wide frames. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10161">GH10161</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11180">GH11180</a>)</li>
<li>4x improvement in <code class="docutils literal"><span class="pre">timedelta</span></code> string parsing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6755">GH6755</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10426">GH10426</a>)</li>
<li>8x improvement in <code class="docutils literal"><span class="pre">timedelta64</span></code> and <code class="docutils literal"><span class="pre">datetime64</span></code> ops (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6755">GH6755</a>)</li>
<li>Significantly improved performance of indexing <code class="docutils literal"><span class="pre">MultiIndex</span></code> with slicers (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10287">GH10287</a>)</li>
<li>8x improvement in <code class="docutils literal"><span class="pre">iloc</span></code> using list-like input (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10791">GH10791</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">Series.isin</span></code> for datetimelike/integer Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10287">GH10287</a>)</li>
<li>20x improvement in <code class="docutils literal"><span class="pre">concat</span></code> of Categoricals when categories are identical (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10587">GH10587</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">to_datetime</span></code> when specified format string is ISO8601 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10178">GH10178</a>)</li>
<li>2x improvement of <code class="docutils literal"><span class="pre">Series.value_counts</span></code> for float dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10821">GH10821</a>)</li>
<li>Enable <code class="docutils literal"><span class="pre">infer_datetime_format</span></code> in <code class="docutils literal"><span class="pre">to_datetime</span></code> when date components do not have 0 padding (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11142">GH11142</a>)</li>
<li>Regression from 0.16.1 in constructing <code class="docutils literal"><span class="pre">DataFrame</span></code> from nested dictionary (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11084">GH11084</a>)</li>
<li>Performance improvements in addition/subtraction operations for <code class="docutils literal"><span class="pre">DateOffset</span></code> with <code class="docutils literal"><span class="pre">Series</span></code> or <code class="docutils literal"><span class="pre">DatetimeIndex</span></code>  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10744">GH10744</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11205">GH11205</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0170-bug-fixes">
<span id="id35"></span><h3>Bug Fixes<a class="headerlink" href="#whatsnew-0170-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Bug in incorrection computation of <code class="docutils literal"><span class="pre">.mean()</span></code> on <code class="docutils literal"><span class="pre">timedelta64[ns]</span></code> because of overflow (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9442">GH9442</a>)</li>
<li>Bug in  <code class="docutils literal"><span class="pre">.isin</span></code> on older numpies (:issue: <cite>11232</cite>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_html(index=False)</span></code> renders unnecessary <code class="docutils literal"><span class="pre">name</span></code> row (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10344">GH10344</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_latex()</span></code> the <code class="docutils literal"><span class="pre">column_format</span></code> argument could not be passed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9402">GH9402</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> when localizing with <code class="docutils literal"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10477">GH10477</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.dt</span></code> ops in preserving meta-data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10477">GH10477</a>)</li>
<li>Bug in preserving <code class="docutils literal"><span class="pre">NaT</span></code> when passed in an otherwise invalid <code class="docutils literal"><span class="pre">to_datetime</span></code> construction (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10477">GH10477</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.apply</span></code> when function returns categorical series. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9573">GH9573</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_datetime</span></code> with invalid dates and formats supplied (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10154">GH10154</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index.drop_duplicates</span></code> dropping name(s) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10115">GH10115</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.quantile</span></code> dropping name (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10881">GH10881</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.Series</span></code> when setting a value on an empty <code class="docutils literal"><span class="pre">Series</span></code> whose index has a frequency. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10193">GH10193</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.Series.interpolate</span></code> with invalid <code class="docutils literal"><span class="pre">order</span></code> keyword values. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10633">GH10633</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.plot</span></code> raises <code class="docutils literal"><span class="pre">ValueError</span></code> when color name is specified by multiple characters (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10387">GH10387</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index</span></code> construction with a mixed list of tuples (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10697">GH10697</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.reset_index</span></code> when index contains <code class="docutils literal"><span class="pre">NaT</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10388">GH10388</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">ExcelReader</span></code> when worksheet is empty (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6403">GH6403</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">BinGrouper.group_info</span></code> where returned values are not compatible with base class (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10914">GH10914</a>)</li>
<li>Bug in clearing the cache on <code class="docutils literal"><span class="pre">DataFrame.pop</span></code> and a subsequent inplace op (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10912">GH10912</a>)</li>
<li>Bug in indexing with a mixed-integer <code class="docutils literal"><span class="pre">Index</span></code> causing an <code class="docutils literal"><span class="pre">ImportError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10610">GH10610</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.count</span></code> when index has nulls (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10946">GH10946</a>)</li>
<li>Bug in pickling of a non-regular freq <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11002">GH11002</a>)</li>
<li>Bug causing <code class="docutils literal"><span class="pre">DataFrame.where</span></code> to not respect the <code class="docutils literal"><span class="pre">axis</span></code> parameter when the frame has a symmetric shape. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9736">GH9736</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Table.select_column</span></code> where name is not preserved (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10392">GH10392</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">offsets.generate_range</span></code> where <code class="docutils literal"><span class="pre">start</span></code> and <code class="docutils literal"><span class="pre">end</span></code> have finer precision than <code class="docutils literal"><span class="pre">offset</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9907">GH9907</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.rolling_*</span></code> where <code class="docutils literal"><span class="pre">Series.name</span></code> would be lost in the output (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10565">GH10565</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">stack</span></code> when index or columns are not unique. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10417">GH10417</a>)</li>
<li>Bug in setting a <code class="docutils literal"><span class="pre">Panel</span></code> when an axis has a multi-index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10360">GH10360</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">USFederalHolidayCalendar</span></code> where <code class="docutils literal"><span class="pre">USMemorialDay</span></code> and <code class="docutils literal"><span class="pre">USMartinLutherKingJr</span></code> were incorrect (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10278">GH10278</a> and <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9760">GH9760</a> )</li>
<li>Bug in <code class="docutils literal"><span class="pre">.sample()</span></code> where returned object, if set, gives unnecessary <code class="docutils literal"><span class="pre">SettingWithCopyWarning</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10738">GH10738</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.sample()</span></code> where weights passed as <code class="docutils literal"><span class="pre">Series</span></code> were not aligned along axis before being treated positionally, potentially causing problems if weight indices were not aligned with sampled object. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10738">GH10738</a>)</li>
<li>Regression fixed in (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9311">GH9311</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6620">GH6620</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9345">GH9345</a>), where groupby with a datetime-like converting to float with certain aggregators (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10979">GH10979</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.interpolate</span></code> with <code class="docutils literal"><span class="pre">axis=1</span></code> and <code class="docutils literal"><span class="pre">inplace=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10395">GH10395</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">io.sql.get_schema</span></code> when specifying multiple columns as primary
key (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10385">GH10385</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby(sort=False)</span></code> with datetime-like <code class="docutils literal"><span class="pre">Categorical</span></code> raises <code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10505">GH10505</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby(axis=1)</span></code> with <code class="docutils literal"><span class="pre">filter()</span></code> throws <code class="docutils literal"><span class="pre">IndexError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11041">GH11041</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">test_categorical</span></code> on big-endian builds (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10425">GH10425</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.shift</span></code> and <code class="docutils literal"><span class="pre">DataFrame.shift</span></code> not supporting categorical data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9416">GH9416</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.map</span></code> using categorical <code class="docutils literal"><span class="pre">Series</span></code> raises <code class="docutils literal"><span class="pre">AttributeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10324">GH10324</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">MultiIndex.get_level_values</span></code> including <code class="docutils literal"><span class="pre">Categorical</span></code> raises <code class="docutils literal"><span class="pre">AttributeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10460">GH10460</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.get_dummies</span></code> with <code class="docutils literal"><span class="pre">sparse=True</span></code> not returning <code class="docutils literal"><span class="pre">SparseDataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10531">GH10531</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index</span></code> subtypes (such as <code class="docutils literal"><span class="pre">PeriodIndex</span></code>) not returning their own type for <code class="docutils literal"><span class="pre">.drop</span></code> and <code class="docutils literal"><span class="pre">.insert</span></code> methods (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10620">GH10620</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">algos.outer_join_indexer</span></code> when <code class="docutils literal"><span class="pre">right</span></code> array is empty (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10618">GH10618</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">filter</span></code> (regression from 0.16.0) and <code class="docutils literal"><span class="pre">transform</span></code> when grouping on multiple keys, one of which is datetime-like (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10114">GH10114</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_datetime</span></code> and <code class="docutils literal"><span class="pre">to_timedelta</span></code> causing <code class="docutils literal"><span class="pre">Index</span></code> name to be lost (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10875">GH10875</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">len(DataFrame.groupby)</span></code> causing <code class="docutils literal"><span class="pre">IndexError</span></code> when there&#8217;s a column containing only NaNs (:issue: <cite>11016</cite>)</li>
<li>Bug that caused segfault when resampling an empty Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10228">GH10228</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex.value_counts</span></code> resets name from its result, but retains in result&#8217;s <code class="docutils literal"><span class="pre">Index</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10150">GH10150</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.eval</span></code> using <code class="docutils literal"><span class="pre">numexpr</span></code> engine coerces 1 element numpy array to scalar (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10546">GH10546</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.concat</span></code> with <code class="docutils literal"><span class="pre">axis=0</span></code> when column is of dtype <code class="docutils literal"><span class="pre">category</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10177">GH10177</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_msgpack</span></code> where input type is not always checked (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10369">GH10369</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10630">GH10630</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_csv</span></code> with kwargs <code class="docutils literal"><span class="pre">index_col=False</span></code>, <code class="docutils literal"><span class="pre">index_col=['a',</span> <span class="pre">'b']</span></code> or <code class="docutils literal"><span class="pre">dtype</span></code>
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10413">GH10413</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10467">GH10467</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10577">GH10577</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.from_csv</span></code> with <code class="docutils literal"><span class="pre">header</span></code> kwarg not setting the <code class="docutils literal"><span class="pre">Series.name</span></code> or the <code class="docutils literal"><span class="pre">Series.index.name</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10483">GH10483</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby.var</span></code> which caused variance to be inaccurate for small float values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10448">GH10448</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.plot(kind='hist')</span></code> Y Label not informative (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10485">GH10485</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_csv</span></code> when using a converter which generates a <code class="docutils literal"><span class="pre">uint8</span></code> type (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9266">GH9266</a>)</li>
<li>Bug causes memory leak in time-series line and area plot (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9003">GH9003</a>)</li>
<li>Bug when setting a <code class="docutils literal"><span class="pre">Panel</span></code> sliced along the major or minor axes when the right-hand side is a <code class="docutils literal"><span class="pre">DataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11014">GH11014</a>)</li>
<li>Bug that returns <code class="docutils literal"><span class="pre">None</span></code> and does not raise <code class="docutils literal"><span class="pre">NotImplementedError</span></code> when operator functions (e.g. <code class="docutils literal"><span class="pre">.add</span></code>) of <code class="docutils literal"><span class="pre">Panel</span></code> are not implemented (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7692">GH7692</a>)</li>
<li>Bug in line and kde plot cannot accept multiple colors when <code class="docutils literal"><span class="pre">subplots=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9894">GH9894</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.plot</span></code> raises <code class="docutils literal"><span class="pre">ValueError</span></code> when color name is specified by multiple characters (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10387">GH10387</a>)</li>
<li>Bug in left and right <code class="docutils literal"><span class="pre">align</span></code> of <code class="docutils literal"><span class="pre">Series</span></code> with <code class="docutils literal"><span class="pre">MultiIndex</span></code> may be inverted (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10665">GH10665</a>)</li>
<li>Bug in left and right <code class="docutils literal"><span class="pre">join</span></code> of with <code class="docutils literal"><span class="pre">MultiIndex</span></code> may be inverted (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10741">GH10741</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_stata</span></code> when reading a file with a different order set in <code class="docutils literal"><span class="pre">columns</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10757">GH10757</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Categorical</span></code> may not representing properly when category contains <code class="docutils literal"><span class="pre">tz</span></code> or <code class="docutils literal"><span class="pre">Period</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10713">GH10713</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Categorical.__iter__</span></code> may not returning correct <code class="docutils literal"><span class="pre">datetime</span></code> and <code class="docutils literal"><span class="pre">Period</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10713">GH10713</a>)</li>
<li>Bug in indexing with a <code class="docutils literal"><span class="pre">PeriodIndex</span></code> on an object with a <code class="docutils literal"><span class="pre">PeriodIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4125">GH4125</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_csv</span></code> with <code class="docutils literal"><span class="pre">engine='c'</span></code>: EOF preceded by a comment, blank line, etc. was not handled correctly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10728">GH10728</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10548">GH10548</a>)</li>
<li>Reading &#8220;famafrench&#8221; data via <code class="docutils literal"><span class="pre">DataReader</span></code> results in HTTP 404 error because of the website url is changed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10591">GH10591</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_msgpack</span></code> where DataFrame to decode has duplicate column names (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9618">GH9618</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">io.common.get_filepath_or_buffer</span></code> which caused reading of valid S3 files to fail if the bucket also contained keys for which the user does not have read permission (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10604">GH10604</a>)</li>
<li>Bug in vectorised setting of timestamp columns with python <code class="docutils literal"><span class="pre">datetime.date</span></code> and numpy <code class="docutils literal"><span class="pre">datetime64</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10408">GH10408</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10412">GH10412</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index.take</span></code> may add unnecessary <code class="docutils literal"><span class="pre">freq</span></code> attribute (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10791">GH10791</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">merge</span></code> with empty <code class="docutils literal"><span class="pre">DataFrame</span></code> may raise <code class="docutils literal"><span class="pre">IndexError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10824">GH10824</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_latex</span></code> where unexpected keyword argument for some documented arguments (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10888">GH10888</a>)</li>
<li>Bug in indexing of large <code class="docutils literal"><span class="pre">DataFrame</span></code> where <code class="docutils literal"><span class="pre">IndexError</span></code> is uncaught (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10645">GH10645</a> and <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10692">GH10692</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_csv</span></code> when using the <code class="docutils literal"><span class="pre">nrows</span></code> or <code class="docutils literal"><span class="pre">chunksize</span></code> parameters if file contains only a header line (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9535">GH9535</a>)</li>
<li>Bug in serialization of <code class="docutils literal"><span class="pre">category</span></code> types in HDF5 in presence of alternate encodings. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10366">GH10366</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.DataFrame</span></code> when constructing an empty DataFrame with a string dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9428">GH9428</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.DataFrame.diff</span></code> when DataFrame is not consolidated (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10907">GH10907</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.unique</span></code> for arrays with the <code class="docutils literal"><span class="pre">datetime64</span></code> or <code class="docutils literal"><span class="pre">timedelta64</span></code> dtype that meant an array with object dtype was returned instead the original dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9431">GH9431</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Timedelta</span></code> raising error when slicing from 0s (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10583">GH10583</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex.take</span></code> and <code class="docutils literal"><span class="pre">TimedeltaIndex.take</span></code> may not raise <code class="docutils literal"><span class="pre">IndexError</span></code> against invalid index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10295">GH10295</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series([np.nan]).astype('M8[ms]')</span></code>, which now returns <code class="docutils literal"><span class="pre">Series([pd.NaT])</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10747">GH10747</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">PeriodIndex.order</span></code> reset freq (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10295">GH10295</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">date_range</span></code> when <code class="docutils literal"><span class="pre">freq</span></code> divides <code class="docutils literal"><span class="pre">end</span></code> as nanos (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10885">GH10885</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">iloc</span></code> allowing memory outside bounds of a Series to be accessed with negative integers (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10779">GH10779</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_msgpack</span></code> where encoding is not respected (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10581">GH10581</a>)</li>
<li>Bug preventing access to the first index when using <code class="docutils literal"><span class="pre">iloc</span></code> with a list containing the appropriate negative integer (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10547">GH10547</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10779">GH10779</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> formatter causing error while trying to save <code class="docutils literal"><span class="pre">DataFrame</span></code> with <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> using <code class="docutils literal"><span class="pre">to_csv</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10833">GH10833</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.where</span></code> when handling Series slicing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10218">GH10218</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9558">GH9558</a>)</li>
<li>Bug where <code class="docutils literal"><span class="pre">pd.read_gbq</span></code> throws <code class="docutils literal"><span class="pre">ValueError</span></code> when Bigquery returns zero rows (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10273">GH10273</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_json</span></code> which was causing segmentation fault when serializing 0-rank ndarray (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9576">GH9576</a>)</li>
<li>Bug in plotting functions may raise <code class="docutils literal"><span class="pre">IndexError</span></code> when plotted on <code class="docutils literal"><span class="pre">GridSpec</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10819">GH10819</a>)</li>
<li>Bug in plot result may show unnecessary minor ticklabels (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10657">GH10657</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby</span></code> incorrect computation for aggregation on <code class="docutils literal"><span class="pre">DataFrame</span></code> with <code class="docutils literal"><span class="pre">NaT</span></code> (E.g <code class="docutils literal"><span class="pre">first</span></code>, <code class="docutils literal"><span class="pre">last</span></code>, <code class="docutils literal"><span class="pre">min</span></code>). (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10590">GH10590</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11010">GH11010</a>)</li>
<li>Bug when constructing <code class="docutils literal"><span class="pre">DataFrame</span></code> where passing a dictionary with only scalar values and specifying columns did not raise an error (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10856">GH10856</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.var()</span></code> causing roundoff errors for highly similar values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10242">GH10242</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.plot(subplots=True)</span></code> with duplicated columns outputs incorrect result (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10962">GH10962</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index</span></code> arithmetic may result in incorrect class (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10638">GH10638</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">date_range</span></code> results in empty if freq is negative annualy, quarterly and monthly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11018">GH11018</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> cannot infer negative freq (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11018">GH11018</a>)</li>
<li>Remove use of some deprecated numpy comparison operations, mainly in tests. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10569">GH10569</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index</span></code> dtype may not applied properly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11017">GH11017</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">io.gbq</span></code> when testing for minimum google api client version (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10652">GH10652</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame</span></code> construction from nested <code class="docutils literal"><span class="pre">dict</span></code> with <code class="docutils literal"><span class="pre">timedelta</span></code> keys (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11129">GH11129</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.fillna</span></code> against may raise <code class="docutils literal"><span class="pre">TypeError</span></code> when data contains datetime dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7095">GH7095</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11153">GH11153</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.groupby</span></code> when number of keys to group by is same as length of index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/11185">GH11185</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">convert_objects</span></code> where converted values might not be returned if all null and <code class="docutils literal"><span class="pre">coerce</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9589">GH9589</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">convert_objects</span></code> where <code class="docutils literal"><span class="pre">copy</span></code> keyword was not respected (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9589">GH9589</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v0-16-2-june-12-2015">
<span id="whatsnew-0162"></span><h2>v0.16.2 (June 12, 2015)<a class="headerlink" href="#v0-16-2-june-12-2015" title="Permalink to this headline">¶</a></h2>
<p>This is a minor bug-fix release from 0.16.1 and includes a a large number of
bug fixes along some new features (<code class="xref py py-meth docutils literal"><span class="pre">pipe()</span></code> method), enhancements, and performance improvements.</p>
<p>We recommend that all users upgrade to this version.</p>
<p>Highlights include:</p>
<ul class="simple">
<li>A new <code class="docutils literal"><span class="pre">pipe</span></code> method, see <a class="reference internal" href="#whatsnew-0162-enhancements-pipe"><span class="std std-ref">here</span></a></li>
<li>Documentation on how to use <a class="reference external" href="http://numba.pydata.org">numba</a> with <em>pandas</em>, see <a class="reference internal" href="enhancingperf.html#enhancingperf-numba"><span class="std std-ref">here</span></a></li>
</ul>
<div class="contents local topic" id="what-s-new-in-v0-16-2">
<p class="topic-title first">What&#8217;s new in v0.16.2</p>
<ul class="simple">
<li><a class="reference internal" href="#whatsnew-0162-enhancements" id="id265">New features</a><ul>
<li><a class="reference internal" href="#pipe" id="id266">Pipe</a></li>
<li><a class="reference internal" href="#whatsnew-0162-enhancements-other" id="id267">Other Enhancements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#whatsnew-0162-api" id="id268">API Changes</a></li>
<li><a class="reference internal" href="#whatsnew-0162-performance" id="id269">Performance Improvements</a></li>
<li><a class="reference internal" href="#whatsnew-0162-bug-fixes" id="id270">Bug Fixes</a></li>
</ul>
</div>
<div class="section" id="whatsnew-0162-enhancements">
<span id="id36"></span><h3>New features<a class="headerlink" href="#whatsnew-0162-enhancements" title="Permalink to this headline">¶</a></h3>
<div class="section" id="pipe">
<span id="whatsnew-0162-enhancements-pipe"></span><h4>Pipe<a class="headerlink" href="#pipe" title="Permalink to this headline">¶</a></h4>
<p>We&#8217;ve introduced a new method <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.pipe()</span></code>. As suggested by the name, <code class="docutils literal"><span class="pre">pipe</span></code>
should be used to pipe data through a chain of function calls.
The goal is to avoid confusing nested function calls like</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># df is a DataFrame</span>
<span class="c1"># f, g, and h are functions that take and return DataFrames</span>
<span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">(</span><span class="n">h</span><span class="p">(</span><span class="n">df</span><span class="p">),</span> <span class="n">arg1</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">arg2</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">arg3</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>The logic flows from inside out, and function names are separated from their keyword arguments.
This can be rewritten as</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
   <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">arg1</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
   <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">arg2</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">arg3</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Now both the code and the logic flow from top to bottom. Keyword arguments are next to
their functions. Overall the code is much more readable.</p>
<p>In the example above, the functions <code class="docutils literal"><span class="pre">f</span></code>, <code class="docutils literal"><span class="pre">g</span></code>, and <code class="docutils literal"><span class="pre">h</span></code> each expected the DataFrame as the first positional argument.
When the function you wish to apply takes its data anywhere other than the first argument, pass a tuple
of <code class="docutils literal"><span class="pre">(function,</span> <span class="pre">keyword)</span></code> indicating where the DataFrame should flow. For example:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">import</span> <span class="nn">statsmodels.formula.api</span> <span class="kn">as</span> <span class="nn">sm</span>

<span class="gp">In [2]: </span><span class="n">bb</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/baseball.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>

<span class="c"># sm.poisson takes (formula, data)</span>
<span class="gp">In [3]: </span><span class="p">(</span><span class="n">bb</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;h &gt; 0&#39;</span><span class="p">)</span>
<span class="gp">   ...:</span>    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">ln_h</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">h</span><span class="p">))</span>
<span class="gp">   ...:</span>    <span class="o">.</span><span class="n">pipe</span><span class="p">((</span><span class="n">sm</span><span class="o">.</span><span class="n">poisson</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">),</span> <span class="s1">&#39;hr ~ ln_h + year + g + C(lg)&#39;</span><span class="p">)</span>
<span class="gp">   ...:</span>    <span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="gp">   ...:</span>    <span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="gp">   ...:</span> <span class="p">)</span>
<span class="gp">   ...:</span> 
<span class="go">Optimization terminated successfully.</span>
<span class="go">         Current function value: 2.116284</span>
<span class="go">         Iterations 24</span>
<span class="gr">Out[3]: </span>
<span class="go">&lt;class &#39;statsmodels.iolib.summary.Summary&#39;&gt;</span>
<span class="go">&quot;&quot;&quot;</span>
<span class="go">                          Poisson Regression Results                          </span>
<span class="go">==============================================================================</span>
<span class="go">Dep. Variable:                     hr   No. Observations:                   68</span>
<span class="go">Model:                        Poisson   Df Residuals:                       63</span>
<span class="go">Method:                           MLE   Df Model:                            4</span>
<span class="go">Date:                Sat, 24 Dec 2016   Pseudo R-squ.:                  0.6878</span>
<span class="go">Time:                        18:35:41   Log-Likelihood:                -143.91</span>
<span class="go">converged:                       True   LL-Null:                       -460.91</span>
<span class="go">                                        LLR p-value:                6.774e-136</span>
<span class="go">===============================================================================</span>
<span class="go">                  coef    std err          z      P&gt;|z|      [95.0% Conf. Int.]</span>
<span class="go">-------------------------------------------------------------------------------</span>
<span class="go">Intercept   -1267.3636    457.867     -2.768      0.006     -2164.767  -369.960</span>
<span class="go">C(lg)[T.NL]    -0.2057      0.101     -2.044      0.041        -0.403    -0.008</span>
<span class="go">ln_h            0.9280      0.191      4.866      0.000         0.554     1.302</span>
<span class="go">year            0.6301      0.228      2.762      0.006         0.183     1.077</span>
<span class="go">g               0.0099      0.004      2.754      0.006         0.003     0.017</span>
<span class="go">===============================================================================</span>
<span class="go">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>The pipe method is inspired by unix pipes, which stream text through
processes. More recently <a class="reference external" href="https://github.com/hadley/dplyr">dplyr</a> and <a class="reference external" href="https://github.com/smbache/magrittr">magrittr</a> have introduced the
popular <code class="docutils literal"><span class="pre">(%&gt;%)</span></code> pipe operator for <a class="reference external" href="http://www.r-project.org">R</a>.</p>
<p>See the <a class="reference internal" href="basics.html#basics-pipe"><span class="std std-ref">documentation</span></a> for more. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10129">GH10129</a>)</p>
</div>
<div class="section" id="whatsnew-0162-enhancements-other">
<span id="id37"></span><h4>Other Enhancements<a class="headerlink" href="#whatsnew-0162-enhancements-other" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Added <cite>rsplit</cite> to Index/Series StringMethods (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10303">GH10303</a>)</p>
</li>
<li><p class="first">Removed the hard-coded size limits on the <code class="docutils literal"><span class="pre">DataFrame</span></code> HTML representation
in the IPython notebook, and leave this to IPython itself (only for IPython
v3.0 or greater). This eliminates the duplicate scroll bars that appeared in
the notebook with large frames (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10231">GH10231</a>).</p>
<p>Note that the notebook has a <code class="docutils literal"><span class="pre">toggle</span> <span class="pre">output</span> <span class="pre">scrolling</span></code> feature to limit the
display of very large frames (by clicking left of the output).
You can also configure the way DataFrames are displayed using the pandas
options, see here <a class="reference internal" href="options.html#options-frequently-used"><span class="std std-ref">here</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">axis</span></code> parameter of <code class="docutils literal"><span class="pre">DataFrame.quantile</span></code> now accepts also <code class="docutils literal"><span class="pre">index</span></code> and <code class="docutils literal"><span class="pre">column</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9543">GH9543</a>)</p>
</li>
</ul>
</div>
</div>
<div class="section" id="whatsnew-0162-api">
<span id="id38"></span><h3>API Changes<a class="headerlink" href="#whatsnew-0162-api" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Holiday</span></code> now raises <code class="docutils literal"><span class="pre">NotImplementedError</span></code> if both <code class="docutils literal"><span class="pre">offset</span></code> and <code class="docutils literal"><span class="pre">observance</span></code> are used in the constructor instead of returning an incorrect result (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10217">GH10217</a>).</li>
</ul>
</div>
<div class="section" id="whatsnew-0162-performance">
<span id="id39"></span><h3>Performance Improvements<a class="headerlink" href="#whatsnew-0162-performance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Improved <code class="docutils literal"><span class="pre">Series.resample</span></code> performance with <code class="docutils literal"><span class="pre">dtype=datetime64[ns]</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7754">GH7754</a>)</li>
<li>Increase performance of <code class="docutils literal"><span class="pre">str.split</span></code> when <code class="docutils literal"><span class="pre">expand=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10081">GH10081</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0162-bug-fixes">
<span id="id40"></span><h3>Bug Fixes<a class="headerlink" href="#whatsnew-0162-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Bug in <code class="docutils literal"><span class="pre">Series.hist</span></code> raises an error when a one row <code class="docutils literal"><span class="pre">Series</span></code> was given (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10214">GH10214</a>)</li>
<li>Bug where <code class="docutils literal"><span class="pre">HDFStore.select</span></code> modifies the passed columns list (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7212">GH7212</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Categorical</span></code> repr with <code class="docutils literal"><span class="pre">display.width</span></code> of <code class="docutils literal"><span class="pre">None</span></code> in Python 3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10087">GH10087</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_json</span></code> with certain orients and a <code class="docutils literal"><span class="pre">CategoricalIndex</span></code> would segfault (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10317">GH10317</a>)</li>
<li>Bug where some of the nan funcs do not have consistent return dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10251">GH10251</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.quantile</span></code> on checking that a valid axis was passed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9543">GH9543</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby.apply</span></code> aggregation for <code class="docutils literal"><span class="pre">Categorical</span></code> not preserving categories (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10138">GH10138</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_csv</span></code> where <code class="docutils literal"><span class="pre">date_format</span></code> is ignored if the <code class="docutils literal"><span class="pre">datetime</span></code> is fractional (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10209">GH10209</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_json</span></code> with mixed data types (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10289">GH10289</a>)</li>
<li>Bug in cache updating when consolidating (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10264">GH10264</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">mean()</span></code> where integer dtypes can overflow (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10172">GH10172</a>)</li>
<li>Bug where <code class="docutils literal"><span class="pre">Panel.from_dict</span></code> does not set dtype when specified (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10058">GH10058</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index.union</span></code> raises <code class="docutils literal"><span class="pre">AttributeError</span></code> when passing array-likes. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10149">GH10149</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Timestamp</span></code>&#8216;s&#8217; <code class="docutils literal"><span class="pre">microsecond</span></code>, <code class="docutils literal"><span class="pre">quarter</span></code>, <code class="docutils literal"><span class="pre">dayofyear</span></code>, <code class="docutils literal"><span class="pre">week</span></code> and <code class="docutils literal"><span class="pre">daysinmonth</span></code> properties return <code class="docutils literal"><span class="pre">np.int</span></code> type, not built-in <code class="docutils literal"><span class="pre">int</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10050">GH10050</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">NaT</span></code> raises <code class="docutils literal"><span class="pre">AttributeError</span></code> when accessing to <code class="docutils literal"><span class="pre">daysinmonth</span></code>, <code class="docutils literal"><span class="pre">dayofweek</span></code> properties. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10096">GH10096</a>)</li>
<li>Bug in Index repr when using the <code class="docutils literal"><span class="pre">max_seq_items=None</span></code> setting (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10182">GH10182</a>).</li>
<li>Bug in getting timezone data with <code class="docutils literal"><span class="pre">dateutil</span></code> on various platforms ( <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9059">GH9059</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8639">GH8639</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9663">GH9663</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10121">GH10121</a>)</li>
<li>Bug in displaying datetimes with mixed frequencies; display &#8216;ms&#8217; datetimes to the proper precision. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10170">GH10170</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">setitem</span></code> where type promotion is applied to the entire block (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10280">GH10280</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series</span></code> arithmetic methods may incorrectly hold names (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10068">GH10068</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">GroupBy.get_group</span></code> when grouping on multiple keys, one of which is categorical. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10132">GH10132</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> and <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> names are lost after timedelta arithmetics ( <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9926">GH9926</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame</span></code> construction from nested <code class="docutils literal"><span class="pre">dict</span></code> with <code class="docutils literal"><span class="pre">datetime64</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10160">GH10160</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series</span></code> construction from <code class="docutils literal"><span class="pre">dict</span></code> with <code class="docutils literal"><span class="pre">datetime64</span></code> keys (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9456">GH9456</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.plot(label=&quot;LABEL&quot;)</span></code> not correctly setting the label (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10119">GH10119</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">plot</span></code> not defaulting to matplotlib <code class="docutils literal"><span class="pre">axes.grid</span></code> setting (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9792">GH9792</a>)</li>
<li>Bug causing strings containing an exponent, but no decimal to be parsed as <code class="docutils literal"><span class="pre">int</span></code> instead of <code class="docutils literal"><span class="pre">float</span></code> in <code class="docutils literal"><span class="pre">engine='python'</span></code> for the <code class="docutils literal"><span class="pre">read_csv</span></code> parser (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9565">GH9565</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.align</span></code> resets <code class="docutils literal"><span class="pre">name</span></code> when <code class="docutils literal"><span class="pre">fill_value</span></code> is specified (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10067">GH10067</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_csv</span></code> causing index name not to be set on an empty DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10184">GH10184</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries.abs</span></code> resets <code class="docutils literal"><span class="pre">name</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10241">GH10241</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> slicing may reset freq (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10292">GH10292</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">GroupBy.get_group</span></code> raises <code class="docutils literal"><span class="pre">ValueError</span></code> when group key contains <code class="docutils literal"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6992">GH6992</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">SparseSeries</span></code> constructor ignores input data name (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10258">GH10258</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Categorical.remove_categories</span></code> causing a <code class="docutils literal"><span class="pre">ValueError</span></code> when removing the <code class="docutils literal"><span class="pre">NaN</span></code> category if underlying dtype is floating-point (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10156">GH10156</a>)</li>
<li>Bug where infer_freq infers timerule (WOM-5XXX) unsupported by to_offset (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9425">GH9425</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_hdf()</span></code> where table format would raise a seemingly unrelated error for invalid (non-string) column names. This is now explicitly forbidden. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9057">GH9057</a>)</li>
<li>Bug to handle masking empty <code class="docutils literal"><span class="pre">DataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10126">GH10126</a>).</li>
<li>Bug where MySQL interface could not handle numeric table/column names (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10255">GH10255</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_csv</span></code> with a <code class="docutils literal"><span class="pre">date_parser</span></code> that returned a <code class="docutils literal"><span class="pre">datetime64</span></code> array of other time resolution than <code class="docutils literal"><span class="pre">[ns]</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10245">GH10245</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Panel.apply</span></code> when the result has ndim=0 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10332">GH10332</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_hdf</span></code> where <code class="docutils literal"><span class="pre">auto_close</span></code> could not be passed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9327">GH9327</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_hdf</span></code> where open stores could not be used (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10330">GH10330</a>).</li>
<li>Bug in adding empty <code class="docutils literal"><span class="pre">DataFrame``s,</span> <span class="pre">now</span> <span class="pre">results</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">``DataFrame</span></code> that <code class="docutils literal"><span class="pre">.equals</span></code> an empty <code class="docutils literal"><span class="pre">DataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10181">GH10181</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_hdf</span></code> and <code class="docutils literal"><span class="pre">HDFStore</span></code> which did not check that complib choices were valid (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4582">GH4582</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8874">GH8874</a>).</li>
</ul>
</div>
</div>
<div class="section" id="v0-16-1-may-11-2015">
<span id="whatsnew-0161"></span><h2>v0.16.1 (May 11, 2015)<a class="headerlink" href="#v0-16-1-may-11-2015" title="Permalink to this headline">¶</a></h2>
<p>This is a minor bug-fix release from 0.16.0 and includes a a large number of
bug fixes along several new features, enhancements, and performance improvements.
We recommend that all users upgrade to this version.</p>
<p>Highlights include:</p>
<ul class="simple">
<li>Support for a <code class="docutils literal"><span class="pre">CategoricalIndex</span></code>, a category based index, see <a class="reference internal" href="#whatsnew-0161-enhancements-categoricalindex"><span class="std std-ref">here</span></a></li>
<li>New section on how-to-contribute to <em>pandas</em>, see <a class="reference internal" href="contributing.html#contributing"><span class="std std-ref">here</span></a></li>
<li>Revised &#8220;Merge, join, and concatenate&#8221; documentation, including graphical examples to make it easier to understand each operations, see <a class="reference internal" href="merging.html#merging"><span class="std std-ref">here</span></a></li>
<li>New method <code class="docutils literal"><span class="pre">sample</span></code> for drawing random samples from Series, DataFrames and Panels. See <a class="reference internal" href="#whatsnew-0161-enhancements-sample"><span class="std std-ref">here</span></a></li>
<li>The default <code class="docutils literal"><span class="pre">Index</span></code> printing has changed to a more uniform format, see <a class="reference internal" href="#whatsnew-0161-index-repr"><span class="std std-ref">here</span></a></li>
<li><code class="docutils literal"><span class="pre">BusinessHour</span></code> datetime-offset is now supported, see <a class="reference internal" href="timeseries.html#timeseries-businesshour"><span class="std std-ref">here</span></a></li>
<li>Further enhancement to the <code class="docutils literal"><span class="pre">.str</span></code> accessor to make string operations easier, see <a class="reference internal" href="#whatsnew-0161-enhancements-string"><span class="std std-ref">here</span></a></li>
</ul>
<div class="contents local topic" id="what-s-new-in-v0-16-1">
<p class="topic-title first">What&#8217;s new in v0.16.1</p>
<ul class="simple">
<li><a class="reference internal" href="#id41" id="id271">Enhancements</a><ul>
<li><a class="reference internal" href="#categoricalindex" id="id272">CategoricalIndex</a></li>
<li><a class="reference internal" href="#sample" id="id273">Sample</a></li>
<li><a class="reference internal" href="#string-methods-enhancements" id="id274">String Methods Enhancements</a></li>
<li><a class="reference internal" href="#whatsnew-0161-enhancements-other" id="id275">Other Enhancements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#whatsnew-0161-api" id="id276">API changes</a><ul>
<li><a class="reference internal" href="#whatsnew-0161-deprecations" id="id277">Deprecations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#index-representation" id="id278">Index Representation</a></li>
<li><a class="reference internal" href="#whatsnew-0161-performance" id="id279">Performance Improvements</a></li>
<li><a class="reference internal" href="#whatsnew-0161-bug-fixes" id="id280">Bug Fixes</a></li>
</ul>
</div>
<div class="admonition warning" id="whatsnew-0161-enhancements">
<p class="first admonition-title">Warning</p>
<p class="last">In pandas 0.17.0, the sub-package <code class="docutils literal"><span class="pre">pandas.io.data</span></code> will be removed in favor of a separately installable package. See <a class="reference internal" href="remote_data.html#remote-data-pandas-datareader"><span class="std std-ref">here for details</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8961">GH8961</a>)</p>
</div>
<div class="section" id="id41">
<h3>Enhancements<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
<div class="section" id="categoricalindex">
<span id="whatsnew-0161-enhancements-categoricalindex"></span><h4>CategoricalIndex<a class="headerlink" href="#categoricalindex" title="Permalink to this headline">¶</a></h4>
<p>We introduce a <code class="docutils literal"><span class="pre">CategoricalIndex</span></code>, a new type of index object that is useful for supporting
indexing with duplicates. This is a container around a <code class="docutils literal"><span class="pre">Categorical</span></code> (introduced in v0.15.0)
and allows efficient indexing and storage of an index with a large number of duplicated elements. Prior to 0.16.1,
setting the index of a <code class="docutils literal"><span class="pre">DataFrame/Series</span></code> with a <code class="docutils literal"><span class="pre">category</span></code> dtype would convert this to regular object-based <code class="docutils literal"><span class="pre">Index</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span>
<span class="gp">   ...:</span>                 <span class="s1">&#39;B&#39;</span> <span class="p">:</span> <span class="n">Series</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;aabbca&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                                                     <span class="n">categories</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;cab&#39;</span><span class="p">))</span>
<span class="gp">   ...:</span>                <span class="p">})</span>
<span class="gp">   ...:</span> 

<span class="gp">In [2]: </span><span class="n">df</span>
<span class="gr">Out[2]: </span>
<span class="go">   A  B</span>
<span class="go">0  0  a</span>
<span class="go">1  1  a</span>
<span class="go">2  2  b</span>
<span class="go">3  3  b</span>
<span class="go">4  4  c</span>
<span class="go">5  5  a</span>

<span class="gp">In [3]: </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[3]: </span>
<span class="go">A       int64</span>
<span class="go">B    category</span>
<span class="go">dtype: object</span>

<span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">B</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span>
<span class="gr">Out[4]: </span><span class="n">Index</span><span class="p">([</span><span class="s1">u&#39;c&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;b&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>setting the index, will create create a <code class="docutils literal"><span class="pre">CategoricalIndex</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>

<span class="gp">In [6]: </span><span class="n">df2</span><span class="o">.</span><span class="n">index</span>
<span class="gr">Out[6]: </span><span class="n">CategoricalIndex</span><span class="p">([</span><span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;b&#39;</span><span class="p">,</span> <span class="s1">u&#39;b&#39;</span><span class="p">,</span> <span class="s1">u&#39;c&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">u&#39;c&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;b&#39;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">u&#39;B&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>indexing with <code class="docutils literal"><span class="pre">__getitem__/.iloc/.loc/.ix</span></code> works similarly to an Index with duplicates.
The indexers MUST be in the category or the operation will raise.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">df2</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="gr">Out[7]: </span>
<span class="go">   A</span>
<span class="go">B   </span>
<span class="go">a  0</span>
<span class="go">a  1</span>
<span class="go">a  5</span>
</pre></div>
</div>
<p>and preserves the <code class="docutils literal"><span class="pre">CategoricalIndex</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">df2</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
<span class="gr">Out[8]: </span><span class="n">CategoricalIndex</span><span class="p">([</span><span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">u&#39;c&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;b&#39;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">u&#39;B&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>sorting will order by the order of the categories</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">df2</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
<span class="gr">Out[9]: </span>
<span class="go">   A</span>
<span class="go">B   </span>
<span class="go">c  4</span>
<span class="go">a  0</span>
<span class="go">a  1</span>
<span class="go">a  5</span>
<span class="go">b  2</span>
<span class="go">b  3</span>
</pre></div>
</div>
<p>groupby operations on the index will preserve the index nature as well</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [10]: </span><span class="n">df2</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gr">Out[10]: </span>
<span class="go">   A</span>
<span class="go">B   </span>
<span class="go">c  4</span>
<span class="go">a  6</span>
<span class="go">b  5</span>

<span class="gp">In [11]: </span><span class="n">df2</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">index</span>
<span class="gr">Out[11]: </span><span class="n">CategoricalIndex</span><span class="p">([</span><span class="s1">u&#39;c&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;b&#39;</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">u&#39;c&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;b&#39;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">u&#39;B&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>reindexing operations, will return a resulting index based on the type of the passed
indexer, meaning that passing a list will return a plain-old-<code class="docutils literal"><span class="pre">Index</span></code>; indexing with
a <code class="docutils literal"><span class="pre">Categorical</span></code> will return a <code class="docutils literal"><span class="pre">CategoricalIndex</span></code>, indexed according to the categories
of the PASSED <code class="docutils literal"><span class="pre">Categorical</span></code> dtype. This allows one to arbitrarly index these even with
values NOT in the categories, similarly to how you can reindex ANY pandas index.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="n">df2</span><span class="o">.</span><span class="n">reindex</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">])</span>
<span class="gr">Out[12]: </span>
<span class="go">     A</span>
<span class="go">B     </span>
<span class="go">a  0.0</span>
<span class="go">a  1.0</span>
<span class="go">a  5.0</span>
<span class="go">e  NaN</span>

<span class="gp">In [13]: </span><span class="n">df2</span><span class="o">.</span><span class="n">reindex</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">index</span>
<span class="gr">Out[13]: </span><span class="n">Index</span><span class="p">([</span><span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;e&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">u&#39;B&#39;</span><span class="p">)</span>

<span class="gp">In [14]: </span><span class="n">df2</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">],</span><span class="n">categories</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">)))</span>
<span class="gr">Out[14]: </span>
<span class="go">     A</span>
<span class="go">B     </span>
<span class="go">a  0.0</span>
<span class="go">a  1.0</span>
<span class="go">a  5.0</span>
<span class="go">e  NaN</span>

<span class="gp">In [15]: </span><span class="n">df2</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">],</span><span class="n">categories</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">)))</span><span class="o">.</span><span class="n">index</span>
<span class="gr">Out[15]: </span><span class="n">CategoricalIndex</span><span class="p">([</span><span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;e&#39;</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;b&#39;</span><span class="p">,</span> <span class="s1">u&#39;c&#39;</span><span class="p">,</span> <span class="s1">u&#39;d&#39;</span><span class="p">,</span> <span class="s1">u&#39;e&#39;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">u&#39;B&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>See the <a class="reference internal" href="advanced.html#indexing-categoricalindex"><span class="std std-ref">documentation</span></a> for more. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7629">GH7629</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10038">GH10038</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10039">GH10039</a>)</p>
</div>
<div class="section" id="sample">
<span id="whatsnew-0161-enhancements-sample"></span><h4>Sample<a class="headerlink" href="#sample" title="Permalink to this headline">¶</a></h4>
<p>Series, DataFrames, and Panels now have a new method: <a class="reference internal" href="generated/pandas.DataFrame.sample.html#pandas.DataFrame.sample" title="pandas.DataFrame.sample"><code class="xref py py-meth docutils literal"><span class="pre">sample()</span></code></a>.
The method accepts a specific number of rows or columns to return, or a fraction of the
total number or rows or columns. It also has options for sampling with or without replacement,
for passing in a column for weights for non-uniform sampling, and for setting seed values to
facilitate replication. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2419">GH2419</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">example_series</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>

<span class="c"># When no arguments are passed, returns 1</span>
<span class="gp">In [17]: </span><span class="n">example_series</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span>
<span class="gr">Out[17]: </span>
<span class="go">3    3</span>
<span class="go">dtype: int64</span>

<span class="c"># One may specify either a number of rows:</span>
<span class="gp">In [18]: </span><span class="n">example_series</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gr">Out[18]: </span>
<span class="go">5    5</span>
<span class="go">1    1</span>
<span class="go">4    4</span>
<span class="go">dtype: int64</span>

<span class="c"># Or a fraction of the rows:</span>
<span class="gp">In [19]: </span><span class="n">example_series</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gr">Out[19]: </span>
<span class="go">4    4</span>
<span class="go">1    1</span>
<span class="go">0    0</span>
<span class="go">dtype: int64</span>

<span class="c"># weights are accepted.</span>
<span class="gp">In [20]: </span><span class="n">example_weights</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">]</span>

<span class="gp">In [21]: </span><span class="n">example_series</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">example_weights</span><span class="p">)</span>
<span class="gr">Out[21]: </span>
<span class="go">2    2</span>
<span class="go">3    3</span>
<span class="go">5    5</span>
<span class="go">dtype: int64</span>

<span class="c"># weights will also be normalized if they do not sum to one,</span>
<span class="c"># and missing values will be treated as zeros.</span>
<span class="gp">In [22]: </span><span class="n">example_weights2</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]</span>

<span class="gp">In [23]: </span><span class="n">example_series</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">example_weights2</span><span class="p">)</span>
<span class="gr">Out[23]: </span>
<span class="go">0    0</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>When applied to a DataFrame, one may pass the name of a column to specify sampling weights
when sampling from rows.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [24]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;col1&#39;</span><span class="p">:[</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="s1">&#39;weight_column&#39;</span><span class="p">:[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]})</span>

<span class="gp">In [25]: </span><span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="s1">&#39;weight_column&#39;</span><span class="p">)</span>
<span class="gr">Out[25]: </span>
<span class="go">   col1  weight_column</span>
<span class="go">0     9            0.5</span>
<span class="go">1     8            0.4</span>
<span class="go">2     7            0.1</span>
</pre></div>
</div>
</div>
<div class="section" id="string-methods-enhancements">
<span id="whatsnew-0161-enhancements-string"></span><h4>String Methods Enhancements<a class="headerlink" href="#string-methods-enhancements" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="#whatsnew-0160-enhancements-string"><span class="std std-ref">Continuing from v0.16.0</span></a>, the following
enhancements make string operations easier and more consistent with standard python string operations.</p>
<ul>
<li><p class="first">Added <code class="docutils literal"><span class="pre">StringMethods</span></code> (<code class="docutils literal"><span class="pre">.str</span></code> accessor) to <code class="docutils literal"><span class="pre">Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9068">GH9068</a>)</p>
<p>The <code class="docutils literal"><span class="pre">.str</span></code> accessor is now available for both <code class="docutils literal"><span class="pre">Series</span></code> and <code class="docutils literal"><span class="pre">Index</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [26]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Index</span><span class="p">([</span><span class="s1">&#39; jack&#39;</span><span class="p">,</span> <span class="s1">&#39;jill &#39;</span><span class="p">,</span> <span class="s1">&#39; jesse &#39;</span><span class="p">,</span> <span class="s1">&#39;frank&#39;</span><span class="p">])</span>

<span class="gp">In [27]: </span><span class="n">idx</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="gr">Out[27]: </span><span class="n">Index</span><span class="p">([</span><span class="s1">u&#39;jack&#39;</span><span class="p">,</span> <span class="s1">u&#39;jill&#39;</span><span class="p">,</span> <span class="s1">u&#39;jesse&#39;</span><span class="p">,</span> <span class="s1">u&#39;frank&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>One special case for the <cite>.str</cite> accessor on <code class="docutils literal"><span class="pre">Index</span></code> is that if a string method returns <code class="docutils literal"><span class="pre">bool</span></code>, the <code class="docutils literal"><span class="pre">.str</span></code> accessor
will return a <code class="docutils literal"><span class="pre">np.array</span></code> instead of a boolean <code class="docutils literal"><span class="pre">Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8875">GH8875</a>). This enables the following expression
to work naturally:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [28]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span> <span class="s1">&#39;a2&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">])</span>

<span class="gp">In [29]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="n">idx</span><span class="p">)</span>

<span class="gp">In [30]: </span><span class="n">s</span>
<span class="gr">Out[30]: </span>
<span class="go">a1    0</span>
<span class="go">a2    1</span>
<span class="go">b1    2</span>
<span class="go">b2    3</span>
<span class="go">dtype: int64</span>

<span class="gp">In [31]: </span><span class="n">idx</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gr">Out[31]: </span><span class="n">array</span><span class="p">([</span> <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>

<span class="gp">In [32]: </span><span class="n">s</span><span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)]</span>
<span class="gr">Out[32]: </span>
<span class="go">a1    0</span>
<span class="go">a2    1</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</li>
<li><p class="first">The following new methods are accesible via <code class="docutils literal"><span class="pre">.str</span></code> accessor to apply the function to each values. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9766">GH9766</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9773">GH9773</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10031">GH10031</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10045">GH10045</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10052">GH10052</a>)</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="19%" />
<col width="19%" />
<col width="19%" />
<col width="21%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"></th>
<th class="head"></th>
<th class="head">Methods</th>
<th class="head"></th>
<th class="head"></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">capitalize()</span></code></td>
<td><code class="docutils literal"><span class="pre">swapcase()</span></code></td>
<td><code class="docutils literal"><span class="pre">normalize()</span></code></td>
<td><code class="docutils literal"><span class="pre">partition()</span></code></td>
<td><code class="docutils literal"><span class="pre">rpartition()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">index()</span></code></td>
<td><code class="docutils literal"><span class="pre">rindex()</span></code></td>
<td><code class="docutils literal"><span class="pre">translate()</span></code></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">split</span></code> now takes <code class="docutils literal"><span class="pre">expand</span></code> keyword to specify whether to expand dimensionality. <code class="docutils literal"><span class="pre">return_type</span></code> is deprecated. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9847">GH9847</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [33]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a,b&#39;</span><span class="p">,</span> <span class="s1">&#39;a,c&#39;</span><span class="p">,</span> <span class="s1">&#39;b,c&#39;</span><span class="p">])</span>

<span class="c"># return Series</span>
<span class="gp">In [34]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="gr">Out[34]: </span>
<span class="go">0    [a, b]</span>
<span class="go">1    [a, c]</span>
<span class="go">2    [b, c]</span>
<span class="go">dtype: object</span>

<span class="c"># return DataFrame</span>
<span class="gp">In [35]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[35]: </span>
<span class="go">   0  1</span>
<span class="go">0  a  b</span>
<span class="go">1  a  c</span>
<span class="go">2  b  c</span>

<span class="gp">In [36]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a,b&#39;</span><span class="p">,</span> <span class="s1">&#39;a,c&#39;</span><span class="p">,</span> <span class="s1">&#39;b,c&#39;</span><span class="p">])</span>

<span class="c"># return Index</span>
<span class="gp">In [37]: </span><span class="n">idx</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="gr">Out[37]: </span><span class="n">Index</span><span class="p">([[</span><span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;c&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">u&#39;b&#39;</span><span class="p">,</span> <span class="s1">u&#39;c&#39;</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>

<span class="c"># return MultiIndex</span>
<span class="gp">In [38]: </span><span class="n">idx</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[38]: </span>
<span class="go">MultiIndex(levels=[[u&#39;a&#39;, u&#39;b&#39;], [u&#39;b&#39;, u&#39;c&#39;]],</span>
<span class="go">           labels=[[0, 0, 1], [0, 1, 1]])</span>
</pre></div>
</div>
</li>
<li><p class="first">Improved <code class="docutils literal"><span class="pre">extract</span></code> and <code class="docutils literal"><span class="pre">get_dummies</span></code> methods for <code class="docutils literal"><span class="pre">Index.str</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9980">GH9980</a>)</p>
</li>
</ul>
</div>
<div class="section" id="whatsnew-0161-enhancements-other">
<span id="id42"></span><h4>Other Enhancements<a class="headerlink" href="#whatsnew-0161-enhancements-other" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">BusinessHour</span></code> offset is now supported, which represents business hours starting from 09:00 - 17:00 on <code class="docutils literal"><span class="pre">BusinessDay</span></code> by default. See <a class="reference internal" href="timeseries.html#timeseries-businesshour"><span class="std std-ref">Here</span></a> for details. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7905">GH7905</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [39]: </span><span class="kn">from</span> <span class="nn">pandas.tseries.offsets</span> <span class="kn">import</span> <span class="n">BusinessHour</span>

<span class="gp">In [40]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-08-01 09:00&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">BusinessHour</span><span class="p">()</span>
<span class="gr">Out[40]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-08-01 10:00:00&#39;</span><span class="p">)</span>

<span class="gp">In [41]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-08-01 07:00&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">BusinessHour</span><span class="p">()</span>
<span class="gr">Out[41]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-08-01 10:00:00&#39;</span><span class="p">)</span>

<span class="gp">In [42]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-08-01 16:30&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">BusinessHour</span><span class="p">()</span>
<span class="gr">Out[42]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-08-04 09:30:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.diff</span></code> now takes an <code class="docutils literal"><span class="pre">axis</span></code> parameter that determines the direction of differencing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9727">GH9727</a>)</p>
</li>
<li><p class="first">Allow <code class="docutils literal"><span class="pre">clip</span></code>, <code class="docutils literal"><span class="pre">clip_lower</span></code>, and <code class="docutils literal"><span class="pre">clip_upper</span></code> to accept array-like arguments as thresholds (This is a regression from 0.11.0). These methods now have an <code class="docutils literal"><span class="pre">axis</span></code> parameter which determines how the Series or DataFrame will be aligned with the threshold(s). (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6966">GH6966</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.mask()</span></code> and <code class="docutils literal"><span class="pre">Series.mask()</span></code> now support same keywords as <code class="docutils literal"><span class="pre">where</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8801">GH8801</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">drop</span></code> function can now accept <code class="docutils literal"><span class="pre">errors</span></code> keyword to suppress <code class="docutils literal"><span class="pre">ValueError</span></code> raised when any of label does not exist in the target data. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6736">GH6736</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [43]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">])</span>

<span class="gp">In [44]: </span><span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
<span class="gr">Out[44]: </span>
<span class="go">          B         C</span>
<span class="go">0  1.058969 -0.397840</span>
<span class="go">1  1.047579  1.045938</span>
<span class="go">2 -0.122092  0.124713</span>
</pre></div>
</div>
</li>
<li><p class="first">Add support for separating years and quarters using dashes, for
example 2014-Q1.  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9688">GH9688</a>)</p>
</li>
<li><p class="first">Allow conversion of values with dtype <code class="docutils literal"><span class="pre">datetime64</span></code> or <code class="docutils literal"><span class="pre">timedelta64</span></code> to strings using <code class="docutils literal"><span class="pre">astype(str)</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9757">GH9757</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">get_dummies</span></code> function now accepts <code class="docutils literal"><span class="pre">sparse</span></code> keyword.  If set to <code class="docutils literal"><span class="pre">True</span></code>, the return <code class="docutils literal"><span class="pre">DataFrame</span></code> is sparse, e.g. <code class="docutils literal"><span class="pre">SparseDataFrame</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8823">GH8823</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Period</span></code> now accepts <code class="docutils literal"><span class="pre">datetime64</span></code> as value input. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9054">GH9054</a>)</p>
</li>
<li><p class="first">Allow timedelta string conversion when leading zero is missing from time definition, ie <cite>0:00:00</cite> vs <cite>00:00:00</cite>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9570">GH9570</a>)</p>
</li>
<li><p class="first">Allow <code class="docutils literal"><span class="pre">Panel.shift</span></code> with <code class="docutils literal"><span class="pre">axis='items'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9890">GH9890</a>)</p>
</li>
<li><p class="first">Trying to write an excel file now raises <code class="docutils literal"><span class="pre">NotImplementedError</span></code> if the <code class="docutils literal"><span class="pre">DataFrame</span></code> has a <code class="docutils literal"><span class="pre">MultiIndex</span></code> instead of writing a broken Excel file. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9794">GH9794</a>)</p>
</li>
<li><p class="first">Allow <code class="docutils literal"><span class="pre">Categorical.add_categories</span></code> to accept <code class="docutils literal"><span class="pre">Series</span></code> or <code class="docutils literal"><span class="pre">np.array</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9927">GH9927</a>)</p>
</li>
<li><p class="first">Add/delete <code class="docutils literal"><span class="pre">str/dt/cat</span></code> accessors dynamically from <code class="docutils literal"><span class="pre">__dir__</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9910">GH9910</a>)</p>
</li>
<li><p class="first">Add <code class="docutils literal"><span class="pre">normalize</span></code> as a <code class="docutils literal"><span class="pre">dt</span></code> accessor method. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10047">GH10047</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame</span></code> and <code class="docutils literal"><span class="pre">Series</span></code> now have <code class="docutils literal"><span class="pre">_constructor_expanddim</span></code> property as overridable constructor for one higher dimensionality data. This should be used only when it is really needed, see <a class="reference internal" href="internals.html#ref-subclassing-pandas"><span class="std std-ref">here</span></a></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.lib.infer_dtype</span></code> now returns <code class="docutils literal"><span class="pre">'bytes'</span></code> in Python 3 where appropriate. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10032">GH10032</a>)</p>
</li>
</ul>
</div>
</div>
<div class="section" id="whatsnew-0161-api">
<span id="id43"></span><h3>API changes<a class="headerlink" href="#whatsnew-0161-api" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>When passing in an ax to <code class="docutils literal"><span class="pre">df.plot(</span> <span class="pre">...,</span> <span class="pre">ax=ax)</span></code>, the <cite>sharex</cite> kwarg will now default to <cite>False</cite>.
The result is that the visibility of xlabels and xticklabels will not anymore be changed. You
have to do that by yourself for the right axes in your figure or set <code class="docutils literal"><span class="pre">sharex=True</span></code> explicitly
(but this changes the visible for all axes in the figure, not only the one which is passed in!).
If pandas creates the subplots itself (e.g. no passed in <cite>ax</cite> kwarg), then the
default is still <code class="docutils literal"><span class="pre">sharex=True</span></code> and the visibility changes are applied.</li>
<li><a class="reference internal" href="generated/pandas.DataFrame.assign.html#pandas.DataFrame.assign" title="pandas.DataFrame.assign"><code class="xref py py-meth docutils literal"><span class="pre">assign()</span></code></a> now inserts new columns in alphabetical order. Previously
the order was arbitrary. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9777">GH9777</a>)</li>
<li>By default, <code class="docutils literal"><span class="pre">read_csv</span></code> and <code class="docutils literal"><span class="pre">read_table</span></code> will now try to infer the compression type based on the file extension. Set <code class="docutils literal"><span class="pre">compression=None</span></code> to restore the previous behavior (no decompression). (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9770">GH9770</a>)</li>
</ul>
<div class="section" id="whatsnew-0161-deprecations">
<span id="id44"></span><h4>Deprecations<a class="headerlink" href="#whatsnew-0161-deprecations" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Series.str.split</span></code>&#8216;s <code class="docutils literal"><span class="pre">return_type</span></code> keyword was removed in favor of <code class="docutils literal"><span class="pre">expand</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9847">GH9847</a>)</li>
</ul>
</div>
</div>
<div class="section" id="index-representation">
<span id="whatsnew-0161-index-repr"></span><h3>Index Representation<a class="headerlink" href="#index-representation" title="Permalink to this headline">¶</a></h3>
<p>The string representation of <code class="docutils literal"><span class="pre">Index</span></code> and its sub-classes have now been unified. These will show a single-line display if there are few values; a wrapped multi-line display for a lot of values (but less than <code class="docutils literal"><span class="pre">display.max_seq_items</span></code>; if lots of items (&gt; <code class="docutils literal"><span class="pre">display.max_seq_items</span></code>) will show a truncated display (the head and tail of the data). The formatting for <code class="docutils literal"><span class="pre">MultiIndex</span></code> is unchanges (a multi-line wrapped display). The display width responds to the option <code class="docutils literal"><span class="pre">display.max_seq_items</span></code>, which is defaulted to 100. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6482">GH6482</a>)</p>
<p>Previous Behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gr">Out[2]: </span><span class="n">Int64Index</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">104</span><span class="p">),</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gr">Out[3]: </span><span class="n">Int64Index</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">71</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">77</span><span class="p">,</span> <span class="mi">78</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">81</span><span class="p">,</span> <span class="mi">82</span><span class="p">,</span> <span class="mi">83</span><span class="p">,</span> <span class="mi">84</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">91</span><span class="p">,</span> <span class="mi">92</span><span class="p">,</span> <span class="mi">93</span><span class="p">,</span> <span class="mi">94</span><span class="p">,</span> <span class="mi">95</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">97</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span><span class="n">tz</span><span class="o">=</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span>
<span class="go">Out[4]:</span>
<span class="go">&lt;class &#39;pandas.tseries.index.DatetimeIndex&#39;&gt;</span>
<span class="go">[2013-01-01 00:00:00-05:00, ..., 2013-01-04 00:00:00-05:00]</span>
<span class="go">Length: 4, Freq: D, Timezone: US/Eastern</span>

<span class="gp">In [5]: </span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">104</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span><span class="n">tz</span><span class="o">=</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span>
<span class="go">Out[5]:</span>
<span class="go">&lt;class &#39;pandas.tseries.index.DatetimeIndex&#39;&gt;</span>
<span class="go">[2013-01-01 00:00:00-05:00, ..., 2013-04-14 00:00:00-04:00]</span>
<span class="go">Length: 104, Freq: D, Timezone: US/Eastern</span>
</pre></div>
</div>
<p>New Behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [45]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.width&#39;</span><span class="p">,</span> <span class="mi">80</span><span class="p">)</span>

<span class="gp">In [46]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gr">Out[46]: </span><span class="n">Int64Index</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int64&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">u&#39;foo&#39;</span><span class="p">)</span>

<span class="gp">In [47]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gr">Out[47]: </span>
<span class="go">Int64Index([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,</span>
<span class="go">            17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29],</span>
<span class="go">           dtype=&#39;int64&#39;, name=u&#39;foo&#39;)</span>

<span class="gp">In [48]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">104</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gr">Out[48]: </span>
<span class="go">Int64Index([  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,</span>
<span class="go">            ...</span>
<span class="go">             94,  95,  96,  97,  98,  99, 100, 101, 102, 103],</span>
<span class="go">           dtype=&#39;int64&#39;, name=u&#39;foo&#39;, length=104)</span>

<span class="gp">In [49]: </span><span class="n">pd</span><span class="o">.</span><span class="n">CategoricalIndex</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;bb&#39;</span><span class="p">,</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span><span class="s1">&#39;dddd&#39;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foobar&#39;</span><span class="p">)</span>
<span class="gr">Out[49]: </span><span class="n">CategoricalIndex</span><span class="p">([</span><span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;bb&#39;</span><span class="p">,</span> <span class="s1">u&#39;ccc&#39;</span><span class="p">,</span> <span class="s1">u&#39;dddd&#39;</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;bb&#39;</span><span class="p">,</span> <span class="s1">u&#39;ccc&#39;</span><span class="p">,</span> <span class="s1">u&#39;dddd&#39;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">u&#39;foobar&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="gp">In [50]: </span><span class="n">pd</span><span class="o">.</span><span class="n">CategoricalIndex</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;bb&#39;</span><span class="p">,</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span><span class="s1">&#39;dddd&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foobar&#39;</span><span class="p">)</span>
<span class="gr">Out[50]: </span>
<span class="go">CategoricalIndex([u&#39;a&#39;, u&#39;bb&#39;, u&#39;ccc&#39;, u&#39;dddd&#39;, u&#39;a&#39;, u&#39;bb&#39;, u&#39;ccc&#39;, u&#39;dddd&#39;,</span>
<span class="go">                  u&#39;a&#39;, u&#39;bb&#39;, u&#39;ccc&#39;, u&#39;dddd&#39;, u&#39;a&#39;, u&#39;bb&#39;, u&#39;ccc&#39;, u&#39;dddd&#39;,</span>
<span class="go">                  u&#39;a&#39;, u&#39;bb&#39;, u&#39;ccc&#39;, u&#39;dddd&#39;, u&#39;a&#39;, u&#39;bb&#39;, u&#39;ccc&#39;, u&#39;dddd&#39;,</span>
<span class="go">                  u&#39;a&#39;, u&#39;bb&#39;, u&#39;ccc&#39;, u&#39;dddd&#39;, u&#39;a&#39;, u&#39;bb&#39;, u&#39;ccc&#39;, u&#39;dddd&#39;,</span>
<span class="go">                  u&#39;a&#39;, u&#39;bb&#39;, u&#39;ccc&#39;, u&#39;dddd&#39;, u&#39;a&#39;, u&#39;bb&#39;, u&#39;ccc&#39;, u&#39;dddd&#39;],</span>
<span class="go">                 categories=[u&#39;a&#39;, u&#39;bb&#39;, u&#39;ccc&#39;, u&#39;dddd&#39;], ordered=True, name=u&#39;foobar&#39;, dtype=&#39;category&#39;)</span>

<span class="gp">In [51]: </span><span class="n">pd</span><span class="o">.</span><span class="n">CategoricalIndex</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;bb&#39;</span><span class="p">,</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span><span class="s1">&#39;dddd&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foobar&#39;</span><span class="p">)</span>
<span class="gr">Out[51]: </span>
<span class="go">CategoricalIndex([u&#39;a&#39;, u&#39;bb&#39;, u&#39;ccc&#39;, u&#39;dddd&#39;, u&#39;a&#39;, u&#39;bb&#39;, u&#39;ccc&#39;, u&#39;dddd&#39;,</span>
<span class="go">                  u&#39;a&#39;, u&#39;bb&#39;,</span>
<span class="go">                  ...</span>
<span class="go">                  u&#39;ccc&#39;, u&#39;dddd&#39;, u&#39;a&#39;, u&#39;bb&#39;, u&#39;ccc&#39;, u&#39;dddd&#39;, u&#39;a&#39;, u&#39;bb&#39;,</span>
<span class="go">                  u&#39;ccc&#39;, u&#39;dddd&#39;],</span>
<span class="go">                 categories=[u&#39;a&#39;, u&#39;bb&#39;, u&#39;ccc&#39;, u&#39;dddd&#39;], ordered=True, name=u&#39;foobar&#39;, dtype=&#39;category&#39;, length=400)</span>

<span class="gp">In [52]: </span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span>
<span class="gr">Out[52]: </span>
<span class="go">DatetimeIndex([&#39;2013-01-01 00:00:00-05:00&#39;, &#39;2013-01-02 00:00:00-05:00&#39;,</span>
<span class="go">               &#39;2013-01-03 00:00:00-05:00&#39;, &#39;2013-01-04 00:00:00-05:00&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns, US/Eastern]&#39;, name=u&#39;foo&#39;, freq=&#39;D&#39;)</span>

<span class="gp">In [53]: </span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>
<span class="gr">Out[53]: </span>
<span class="go">DatetimeIndex([&#39;2013-01-01&#39;, &#39;2013-01-02&#39;, &#39;2013-01-03&#39;, &#39;2013-01-04&#39;,</span>
<span class="go">               &#39;2013-01-05&#39;, &#39;2013-01-06&#39;, &#39;2013-01-07&#39;, &#39;2013-01-08&#39;,</span>
<span class="go">               &#39;2013-01-09&#39;, &#39;2013-01-10&#39;, &#39;2013-01-11&#39;, &#39;2013-01-12&#39;,</span>
<span class="go">               &#39;2013-01-13&#39;, &#39;2013-01-14&#39;, &#39;2013-01-15&#39;, &#39;2013-01-16&#39;,</span>
<span class="go">               &#39;2013-01-17&#39;, &#39;2013-01-18&#39;, &#39;2013-01-19&#39;, &#39;2013-01-20&#39;,</span>
<span class="go">               &#39;2013-01-21&#39;, &#39;2013-01-22&#39;, &#39;2013-01-23&#39;, &#39;2013-01-24&#39;,</span>
<span class="go">               &#39;2013-01-25&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns]&#39;, freq=&#39;D&#39;)</span>

<span class="gp">In [54]: </span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">104</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span>
<span class="gr">Out[54]: </span>
<span class="go">DatetimeIndex([&#39;2013-01-01 00:00:00-05:00&#39;, &#39;2013-01-02 00:00:00-05:00&#39;,</span>
<span class="go">               &#39;2013-01-03 00:00:00-05:00&#39;, &#39;2013-01-04 00:00:00-05:00&#39;,</span>
<span class="go">               &#39;2013-01-05 00:00:00-05:00&#39;, &#39;2013-01-06 00:00:00-05:00&#39;,</span>
<span class="go">               &#39;2013-01-07 00:00:00-05:00&#39;, &#39;2013-01-08 00:00:00-05:00&#39;,</span>
<span class="go">               &#39;2013-01-09 00:00:00-05:00&#39;, &#39;2013-01-10 00:00:00-05:00&#39;,</span>
<span class="go">               ...</span>
<span class="go">               &#39;2013-04-05 00:00:00-04:00&#39;, &#39;2013-04-06 00:00:00-04:00&#39;,</span>
<span class="go">               &#39;2013-04-07 00:00:00-04:00&#39;, &#39;2013-04-08 00:00:00-04:00&#39;,</span>
<span class="go">               &#39;2013-04-09 00:00:00-04:00&#39;, &#39;2013-04-10 00:00:00-04:00&#39;,</span>
<span class="go">               &#39;2013-04-11 00:00:00-04:00&#39;, &#39;2013-04-12 00:00:00-04:00&#39;,</span>
<span class="go">               &#39;2013-04-13 00:00:00-04:00&#39;, &#39;2013-04-14 00:00:00-04:00&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns, US/Eastern]&#39;, name=u&#39;foo&#39;, length=104, freq=&#39;D&#39;)</span>
</pre></div>
</div>
</div>
<div class="section" id="whatsnew-0161-performance">
<span id="id45"></span><h3>Performance Improvements<a class="headerlink" href="#whatsnew-0161-performance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Improved csv write performance with mixed dtypes, including datetimes by up to 5x (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9940">GH9940</a>)</li>
<li>Improved csv write performance generally by 2x (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9940">GH9940</a>)</li>
<li>Improved the performance of <code class="docutils literal"><span class="pre">pd.lib.max_len_string_array</span></code> by 5-7x (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10024">GH10024</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0161-bug-fixes">
<span id="id46"></span><h3>Bug Fixes<a class="headerlink" href="#whatsnew-0161-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Bug where labels did not appear properly in the legend of <code class="docutils literal"><span class="pre">DataFrame.plot()</span></code>, passing <code class="docutils literal"><span class="pre">label=</span></code> arguments works, and Series indices are no longer mutated. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9542">GH9542</a>)</li>
<li>Bug in json serialization causing a segfault when a frame had zero length. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9805">GH9805</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_csv</span></code> where missing trailing delimiters would cause segfault. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5664">GH5664</a>)</li>
<li>Bug in retaining index name on appending (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9862">GH9862</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">scatter_matrix</span></code> draws unexpected axis ticklabels (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5662">GH5662</a>)</li>
<li>Fixed bug in <code class="docutils literal"><span class="pre">StataWriter</span></code> resulting in changes to input <code class="docutils literal"><span class="pre">DataFrame</span></code> upon save (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9795">GH9795</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">transform</span></code> causing length mismatch when null entries were present and a fast aggregator was being used (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9697">GH9697</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">equals</span></code> causing false negatives when block order differed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9330">GH9330</a>)</li>
<li>Bug in grouping with multiple <code class="docutils literal"><span class="pre">pd.Grouper</span></code> where one is non-time based (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10063">GH10063</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_sql_table</span></code> error when reading postgres table with timezone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7139">GH7139</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame</span></code> slicing may not retain metadata (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9776">GH9776</a>)</li>
<li>Bug where <code class="docutils literal"><span class="pre">TimdeltaIndex</span></code> were not properly serialized in fixed <code class="docutils literal"><span class="pre">HDFStore</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9635">GH9635</a>)</li>
<li>Bug with <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> constructor ignoring <code class="docutils literal"><span class="pre">name</span></code> when given another <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> as data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10025">GH10025</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrameFormatter._get_formatted_index</span></code> with not applying <code class="docutils literal"><span class="pre">max_colwidth</span></code> to the <code class="docutils literal"><span class="pre">DataFrame</span></code> index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7856">GH7856</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.loc</span></code> with a read-only ndarray data source (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10043">GH10043</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby.apply()</span></code> that would raise if a passed user defined function either returned only <code class="docutils literal"><span class="pre">None</span></code> (for all input). (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9685">GH9685</a>)</li>
<li>Always use temporary files in pytables tests (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9992">GH9992</a>)</li>
<li>Bug in plotting continuously using <code class="docutils literal"><span class="pre">secondary_y</span></code> may not show legend properly. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9610">GH9610</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9779">GH9779</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.plot(kind=&quot;hist&quot;)</span></code> results in <code class="docutils literal"><span class="pre">TypeError</span></code> when <code class="docutils literal"><span class="pre">DataFrame</span></code> contains non-numeric columns  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9853">GH9853</a>)</li>
<li>Bug where repeated plotting of <code class="docutils literal"><span class="pre">DataFrame</span></code> with a <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> may raise <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9852">GH9852</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">setup.py</span></code> that would allow an incompat cython version to build (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9827">GH9827</a>)</li>
<li>Bug in plotting <code class="docutils literal"><span class="pre">secondary_y</span></code> incorrectly attaches <code class="docutils literal"><span class="pre">right_ax</span></code> property to secondary axes specifying itself recursively. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9861">GH9861</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.quantile</span></code> on empty Series of type <code class="docutils literal"><span class="pre">Datetime</span></code> or <code class="docutils literal"><span class="pre">Timedelta</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9675">GH9675</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">where</span></code> causing incorrect results when upcasting was required (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9731">GH9731</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">FloatArrayFormatter</span></code> where decision boundary for displaying &#8220;small&#8221; floats in decimal format is off by one order of magnitude for a given display.precision (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9764">GH9764</a>)</li>
<li>Fixed bug where <code class="docutils literal"><span class="pre">DataFrame.plot()</span></code> raised an error when both <code class="docutils literal"><span class="pre">color</span></code> and <code class="docutils literal"><span class="pre">style</span></code> keywords were passed and there was no color symbol in the style strings (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9671">GH9671</a>)</li>
<li>Not showing a <code class="docutils literal"><span class="pre">DeprecationWarning</span></code> on combining list-likes with an <code class="docutils literal"><span class="pre">Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10083">GH10083</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_csv</span></code> and <code class="docutils literal"><span class="pre">read_table</span></code> when using <code class="docutils literal"><span class="pre">skip_rows</span></code> parameter if blank lines are present. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9832">GH9832</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_csv()</span></code> interprets <code class="docutils literal"><span class="pre">index_col=True</span></code> as <code class="docutils literal"><span class="pre">1</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9798">GH9798</a>)</li>
<li>Bug in index equality comparisons using <code class="docutils literal"><span class="pre">==</span></code> failing on Index/MultiIndex type incompatibility (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9785">GH9785</a>)</li>
<li>Bug in which <code class="docutils literal"><span class="pre">SparseDataFrame</span></code> could not take <cite>nan</cite> as a column name (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8822">GH8822</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_msgpack</span></code> and <code class="docutils literal"><span class="pre">read_msgpack</span></code> zlib and blosc compression support (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9783">GH9783</a>)</li>
<li>Bug <code class="docutils literal"><span class="pre">GroupBy.size</span></code> doesn&#8217;t attach index name properly if grouped by <code class="docutils literal"><span class="pre">TimeGrouper</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9925">GH9925</a>)</li>
<li>Bug causing an exception in slice assignments because <code class="docutils literal"><span class="pre">length_of_indexer</span></code> returns wrong results (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9995">GH9995</a>)</li>
<li>Bug in csv parser causing lines with initial whitespace plus one non-space character to be skipped. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9710">GH9710</a>)</li>
<li>Bug in C csv parser causing spurious NaNs when data started with newline followed by whitespace. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10022">GH10022</a>)</li>
<li>Bug causing elements with a null group to spill into the final group when grouping by a <code class="docutils literal"><span class="pre">Categorical</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9603">GH9603</a>)</li>
<li>Bug where .iloc and .loc behavior is not consistent on empty dataframes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9964">GH9964</a>)</li>
<li>Bug in invalid attribute access on a <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> incorrectly raised <code class="docutils literal"><span class="pre">ValueError</span></code> instead of <code class="docutils literal"><span class="pre">AttributeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9680">GH9680</a>)</li>
<li>Bug in unequal comparisons between categorical data and a scalar, which was not in the categories (e.g. <code class="docutils literal"><span class="pre">Series(Categorical(list(&quot;abc&quot;),</span> <span class="pre">ordered=True))</span> <span class="pre">&gt;</span> <span class="pre">&quot;d&quot;</span></code>. This returned <code class="docutils literal"><span class="pre">False</span></code> for all elements, but now raises a <code class="docutils literal"><span class="pre">TypeError</span></code>. Equality comparisons also now return <code class="docutils literal"><span class="pre">False</span></code> for <code class="docutils literal"><span class="pre">==</span></code> and <code class="docutils literal"><span class="pre">True</span></code> for <code class="docutils literal"><span class="pre">!=</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9848">GH9848</a>)</li>
<li>Bug in DataFrame <code class="docutils literal"><span class="pre">__setitem__</span></code> when right hand side is a dictionary (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9874">GH9874</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">where</span></code> when dtype is <code class="docutils literal"><span class="pre">datetime64/timedelta64</span></code>, but dtype of other is not (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9804">GH9804</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">MultiIndex.sortlevel()</span></code> results in unicode level name breaks (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9856">GH9856</a>)</li>
<li>Bug in which <code class="docutils literal"><span class="pre">groupby.transform</span></code> incorrectly enforced output dtypes to match input dtypes. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9807">GH9807</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame</span></code> constructor when <code class="docutils literal"><span class="pre">columns</span></code> parameter is set, and <code class="docutils literal"><span class="pre">data</span></code> is an empty list (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9939">GH9939</a>)</li>
<li>Bug in bar plot with <code class="docutils literal"><span class="pre">log=True</span></code> raises <code class="docutils literal"><span class="pre">TypeError</span></code> if all values are less than 1 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9905">GH9905</a>)</li>
<li>Bug in horizontal bar plot ignores <code class="docutils literal"><span class="pre">log=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9905">GH9905</a>)</li>
<li>Bug in PyTables queries that did not return proper results using the index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8265">GH8265</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9676">GH9676</a>)</li>
<li>Bug where dividing a dataframe containing values of type <code class="docutils literal"><span class="pre">Decimal</span></code> by another <code class="docutils literal"><span class="pre">Decimal</span></code> would raise. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9787">GH9787</a>)</li>
<li>Bug where using DataFrames asfreq would remove the name of the index. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9885">GH9885</a>)</li>
<li>Bug causing extra index point when resample BM/BQ (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9756">GH9756</a>)</li>
<li>Changed caching in <code class="docutils literal"><span class="pre">AbstractHolidayCalendar</span></code> to be at the instance level rather than at the class level as the latter can result in unexpected behaviour. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9552">GH9552</a>)</li>
<li>Fixed latex output for multi-indexed dataframes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9778">GH9778</a>)</li>
<li>Bug causing an exception when setting an empty range using <code class="docutils literal"><span class="pre">DataFrame.loc</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9596">GH9596</a>)</li>
<li>Bug in hiding ticklabels with subplots and shared axes when adding a new plot to an existing grid of axes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9158">GH9158</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">transform</span></code> and <code class="docutils literal"><span class="pre">filter</span></code> when grouping on a categorical variable (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9921">GH9921</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">transform</span></code> when groups are equal in number and dtype to the input index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9700">GH9700</a>)</li>
<li>Google BigQuery connector now imports dependencies on a per-method basis.(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9713">GH9713</a>)</li>
<li>Updated BigQuery connector to no longer use deprecated <code class="docutils literal"><span class="pre">oauth2client.tools.run()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8327">GH8327</a>)</li>
<li>Bug in subclassed <code class="docutils literal"><span class="pre">DataFrame</span></code>. It may not return the correct class, when slicing or subsetting it. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9632">GH9632</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.median()</span></code> where non-float null values are not handled correctly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10040">GH10040</a>)</li>
<li>Bug in Series.fillna() where it raises if a numerically convertible string is given (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/10092">GH10092</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v0-16-0-march-22-2015">
<span id="whatsnew-0160"></span><h2>v0.16.0 (March 22, 2015)<a class="headerlink" href="#v0-16-0-march-22-2015" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.15.2 and includes a small number of API changes, several new features,
enhancements, and performance improvements along with a large number of bug fixes. We recommend that all
users upgrade to this version.</p>
<p>Highlights include:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">DataFrame.assign</span></code> method, see <a class="reference internal" href="#whatsnew-0160-enhancements-assign"><span class="std std-ref">here</span></a></li>
<li><code class="docutils literal"><span class="pre">Series.to_coo/from_coo</span></code> methods to interact with <code class="docutils literal"><span class="pre">scipy.sparse</span></code>, see <a class="reference internal" href="#whatsnew-0160-enhancements-sparse"><span class="std std-ref">here</span></a></li>
<li>Backwards incompatible change to <code class="docutils literal"><span class="pre">Timedelta</span></code> to conform the <code class="docutils literal"><span class="pre">.seconds</span></code> attribute with <code class="docutils literal"><span class="pre">datetime.timedelta</span></code>, see <a class="reference internal" href="#whatsnew-0160-api-breaking-timedelta"><span class="std std-ref">here</span></a></li>
<li>Changes to the <code class="docutils literal"><span class="pre">.loc</span></code> slicing API to conform with the behavior of <code class="docutils literal"><span class="pre">.ix</span></code> see <a class="reference internal" href="#whatsnew-0160-api-breaking-indexing"><span class="std std-ref">here</span></a></li>
<li>Changes to the default for ordering in the <code class="docutils literal"><span class="pre">Categorical</span></code> constructor, see <a class="reference internal" href="#whatsnew-0160-api-breaking-categorical"><span class="std std-ref">here</span></a></li>
<li>Enhancement to the <code class="docutils literal"><span class="pre">.str</span></code> accessor to make string operations easier, see <a class="reference internal" href="#whatsnew-0160-enhancements-string"><span class="std std-ref">here</span></a></li>
<li>The <code class="docutils literal"><span class="pre">pandas.tools.rplot</span></code>, <code class="docutils literal"><span class="pre">pandas.sandbox.qtpandas</span></code> and <code class="docutils literal"><span class="pre">pandas.rpy</span></code>
modules are deprecated. We refer users to external packages like
<a class="reference external" href="http://stanford.edu/~mwaskom/software/seaborn/">seaborn</a>,
<a class="reference external" href="https://github.com/datalyze-solutions/pandas-qt">pandas-qt</a> and
<a class="reference external" href="http://rpy2.bitbucket.org/">rpy2</a> for similar or equivalent
functionality, see <a class="reference internal" href="#whatsnew-0160-deprecations"><span class="std std-ref">here</span></a></li>
</ul>
<p>Check the <a class="reference internal" href="#whatsnew-0160-api"><span class="std std-ref">API Changes</span></a> and <a class="reference internal" href="#whatsnew-0160-deprecations"><span class="std std-ref">deprecations</span></a> before updating.</p>
<div class="contents local topic" id="what-s-new-in-v0-16-0">
<p class="topic-title first">What&#8217;s new in v0.16.0</p>
<ul class="simple">
<li><a class="reference internal" href="#whatsnew-0160-enhancements" id="id281">New features</a><ul>
<li><a class="reference internal" href="#dataframe-assign" id="id282">DataFrame Assign</a></li>
<li><a class="reference internal" href="#interaction-with-scipy-sparse" id="id283">Interaction with scipy.sparse</a></li>
<li><a class="reference internal" href="#whatsnew-0160-enhancements-string" id="id284">String Methods Enhancements</a></li>
<li><a class="reference internal" href="#whatsnew-0160-enhancements-other" id="id285">Other enhancements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#whatsnew-0160-api" id="id286">Backwards incompatible API changes</a><ul>
<li><a class="reference internal" href="#changes-in-timedelta" id="id287">Changes in Timedelta</a></li>
<li><a class="reference internal" href="#indexing-changes" id="id288">Indexing Changes</a></li>
<li><a class="reference internal" href="#categorical-changes" id="id289">Categorical Changes</a></li>
<li><a class="reference internal" href="#whatsnew-0160-api-breaking-other" id="id290">Other API Changes</a></li>
<li><a class="reference internal" href="#whatsnew-0160-deprecations" id="id291">Deprecations</a></li>
<li><a class="reference internal" href="#whatsnew-0160-prior-deprecations" id="id292">Removal of prior version deprecations/changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#whatsnew-0160-performance" id="id293">Performance Improvements</a></li>
<li><a class="reference internal" href="#whatsnew-0160-bug-fixes" id="id294">Bug Fixes</a></li>
</ul>
</div>
<div class="section" id="whatsnew-0160-enhancements">
<span id="id47"></span><h3>New features<a class="headerlink" href="#whatsnew-0160-enhancements" title="Permalink to this headline">¶</a></h3>
<div class="section" id="dataframe-assign">
<span id="whatsnew-0160-enhancements-assign"></span><h4>DataFrame Assign<a class="headerlink" href="#dataframe-assign" title="Permalink to this headline">¶</a></h4>
<p>Inspired by <a class="reference external" href="http://cran.rstudio.com/web/packages/dplyr/vignettes/introduction.html#mutate">dplyr&#8217;s</a> <code class="docutils literal"><span class="pre">mutate</span></code> verb, DataFrame has a new
<a class="reference internal" href="generated/pandas.DataFrame.assign.html#pandas.DataFrame.assign" title="pandas.DataFrame.assign"><code class="xref py py-meth docutils literal"><span class="pre">assign()</span></code></a> method.
The function signature for <code class="docutils literal"><span class="pre">assign</span></code> is simply <code class="docutils literal"><span class="pre">**kwargs</span></code>. The keys
are the column names for the new fields, and the values are either a value
to be inserted (for example, a <code class="docutils literal"><span class="pre">Series</span></code> or NumPy array), or a function
of one argument to be called on the <code class="docutils literal"><span class="pre">DataFrame</span></code>. The new values are inserted,
and the entire DataFrame (with all original and new columns) is returned.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">iris</span> <span class="o">=</span> <span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/iris.data&#39;</span><span class="p">)</span>

<span class="gp">In [2]: </span><span class="n">iris</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gr">Out[2]: </span>
<span class="go">   SepalLength  SepalWidth  PetalLength  PetalWidth         Name</span>
<span class="go">0          5.1         3.5          1.4         0.2  Iris-setosa</span>
<span class="go">1          4.9         3.0          1.4         0.2  Iris-setosa</span>
<span class="go">2          4.7         3.2          1.3         0.2  Iris-setosa</span>
<span class="go">3          4.6         3.1          1.5         0.2  Iris-setosa</span>
<span class="go">4          5.0         3.6          1.4         0.2  Iris-setosa</span>

<span class="gp">In [3]: </span><span class="n">iris</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">sepal_ratio</span><span class="o">=</span><span class="n">iris</span><span class="p">[</span><span class="s1">&#39;SepalWidth&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">iris</span><span class="p">[</span><span class="s1">&#39;SepalLength&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gr">Out[3]: </span>
<span class="go">   SepalLength  SepalWidth  PetalLength  PetalWidth         Name  sepal_ratio</span>
<span class="go">0          5.1         3.5          1.4         0.2  Iris-setosa     0.686275</span>
<span class="go">1          4.9         3.0          1.4         0.2  Iris-setosa     0.612245</span>
<span class="go">2          4.7         3.2          1.3         0.2  Iris-setosa     0.680851</span>
<span class="go">3          4.6         3.1          1.5         0.2  Iris-setosa     0.673913</span>
<span class="go">4          5.0         3.6          1.4         0.2  Iris-setosa     0.720000</span>
</pre></div>
</div>
<p>Above was an example of inserting a precomputed value. We can also pass in
a function to be evalutated.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">iris</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">sepal_ratio</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;SepalWidth&#39;</span><span class="p">]</span> <span class="o">/</span>
<span class="gp">   ...:</span>                                      <span class="n">x</span><span class="p">[</span><span class="s1">&#39;SepalLength&#39;</span><span class="p">]))</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gp">   ...:</span> 
<span class="gr">Out[4]: </span>
<span class="go">   SepalLength  SepalWidth  PetalLength  PetalWidth         Name  sepal_ratio</span>
<span class="go">0          5.1         3.5          1.4         0.2  Iris-setosa     0.686275</span>
<span class="go">1          4.9         3.0          1.4         0.2  Iris-setosa     0.612245</span>
<span class="go">2          4.7         3.2          1.3         0.2  Iris-setosa     0.680851</span>
<span class="go">3          4.6         3.1          1.5         0.2  Iris-setosa     0.673913</span>
<span class="go">4          5.0         3.6          1.4         0.2  Iris-setosa     0.720000</span>
</pre></div>
</div>
<p>The power of <code class="docutils literal"><span class="pre">assign</span></code> comes when used in chains of operations. For example,
we can limit the DataFrame to just those with a Sepal Length greater than 5,
calculate the ratio, and plot</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;SepalLength &gt; 5&#39;</span><span class="p">)</span>
<span class="gp">   ...:</span>      <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">SepalRatio</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">SepalWidth</span> <span class="o">/</span> <span class="n">x</span><span class="o">.</span><span class="n">SepalLength</span><span class="p">,</span>
<span class="gp">   ...:</span>              <span class="n">PetalRatio</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">PetalWidth</span> <span class="o">/</span> <span class="n">x</span><span class="o">.</span><span class="n">PetalLength</span><span class="p">)</span>
<span class="gp">   ...:</span>      <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;scatter&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;SepalRatio&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;PetalRatio&#39;</span><span class="p">))</span>
<span class="gp">   ...:</span> 
<span class="gr">Out[5]: </span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x7ff27041ab50</span><span class="o">&gt;</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/whatsnew_assign.png"><img alt="_images/whatsnew_assign.png" src="_images/whatsnew_assign.png" style="width: 234.0px; height: 178.5px;" /></a>
<p>See the <a class="reference internal" href="dsintro.html#dsintro-chained-assignment"><span class="std std-ref">documentation</span></a> for more. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9229">GH9229</a>)</p>
</div>
<div class="section" id="interaction-with-scipy-sparse">
<span id="whatsnew-0160-enhancements-sparse"></span><h4>Interaction with scipy.sparse<a class="headerlink" href="#interaction-with-scipy-sparse" title="Permalink to this headline">¶</a></h4>
<p>Added <code class="xref py py-meth docutils literal"><span class="pre">SparseSeries.to_coo()</span></code> and <code class="xref py py-meth docutils literal"><span class="pre">SparseSeries.from_coo()</span></code> methods (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8048">GH8048</a>) for converting to and from <code class="docutils literal"><span class="pre">scipy.sparse.coo_matrix</span></code> instances (see <a class="reference internal" href="sparse.html#sparse-scipysparse"><span class="std std-ref">here</span></a>). For example, given a SparseSeries with MultiIndex we can convert to a <cite>scipy.sparse.coo_matrix</cite> by specifying the row and column labels as index levels:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">nan</span>

<span class="gp">In [7]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">])</span>

<span class="gp">In [8]: </span><span class="n">s</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="gp">   ...:</span>                                   <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">   ...:</span>                                   <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="gp">   ...:</span>                                   <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">   ...:</span>                                   <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="gp">   ...:</span>                                   <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)],</span>
<span class="gp">   ...:</span>                                   <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">])</span>
<span class="gp">   ...:</span> 

<span class="gp">In [9]: </span><span class="n">s</span>
<span class="gr">Out[9]: </span>
<span class="go">A  B  C  D</span>
<span class="go">1  2  a  0    3.0</span>
<span class="go">         1    NaN</span>
<span class="go">   1  b  0    1.0</span>
<span class="go">         1    3.0</span>
<span class="go">2  1  b  0    NaN</span>
<span class="go">         1    NaN</span>
<span class="go">dtype: float64</span>

<span class="c"># SparseSeries</span>
<span class="gp">In [10]: </span><span class="n">ss</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">to_sparse</span><span class="p">()</span>

<span class="gp">In [11]: </span><span class="n">ss</span>
<span class="gr">Out[11]: </span>
<span class="go">A  B  C  D</span>
<span class="go">1  2  a  0    3.0</span>
<span class="go">         1    NaN</span>
<span class="go">   1  b  0    1.0</span>
<span class="go">         1    3.0</span>
<span class="go">2  1  b  0    NaN</span>
<span class="go">         1    NaN</span>
<span class="go">dtype: float64</span>
<span class="go">BlockIndex</span>
<span class="go">Block locations: array([0, 2], dtype=int32)</span>
<span class="go">Block lengths: array([1, 2], dtype=int32)</span>

<span class="gp">In [12]: </span><span class="n">A</span><span class="p">,</span> <span class="n">rows</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">ss</span><span class="o">.</span><span class="n">to_coo</span><span class="p">(</span><span class="n">row_levels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>                              <span class="n">column_levels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>                              <span class="n">sort_labels</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">   ....:</span> 

<span class="gp">In [13]: </span><span class="n">A</span>
<span class="gr">Out[13]: </span>
<span class="go">&lt;3x4 sparse matrix of type &#39;&lt;type &#39;numpy.float64&#39;&gt;&#39;</span>
<span class="go">	with 3 stored elements in COOrdinate format&gt;</span>

<span class="gp">In [14]: </span><span class="n">A</span><span class="o">.</span><span class="n">todense</span><span class="p">()</span>
<span class="gr">Out[14]: </span>
<span class="go">matrix([[ 3.,  0.,  0.,  0.],</span>
<span class="go">        [ 0.,  0.,  1.,  3.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.]])</span>

<span class="gp">In [15]: </span><span class="n">rows</span>
<span class="gr">Out[15]: </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>

<span class="gp">In [16]: </span><span class="n">columns</span>
<span class="gr">Out[16]: </span><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
</pre></div>
</div>
<p>The from_coo method is a convenience method for creating a <code class="docutils literal"><span class="pre">SparseSeries</span></code>
from a <code class="docutils literal"><span class="pre">scipy.sparse.coo_matrix</span></code>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">sparse</span>

<span class="gp">In [18]: </span><span class="n">A</span> <span class="o">=</span> <span class="n">sparse</span><span class="o">.</span><span class="n">coo_matrix</span><span class="p">(([</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])),</span>
<span class="gp">   ....:</span>                             <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="gp">   ....:</span> 

<span class="gp">In [19]: </span><span class="n">A</span>
<span class="gr">Out[19]: </span>
<span class="go">&lt;3x4 sparse matrix of type &#39;&lt;type &#39;numpy.float64&#39;&gt;&#39;</span>
<span class="go">	with 3 stored elements in COOrdinate format&gt;</span>

<span class="gp">In [20]: </span><span class="n">A</span><span class="o">.</span><span class="n">todense</span><span class="p">()</span>
<span class="gr">Out[20]: </span>
<span class="go">matrix([[ 0.,  0.,  1.,  2.],</span>
<span class="go">        [ 3.,  0.,  0.,  0.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.]])</span>

<span class="gp">In [21]: </span><span class="n">ss</span> <span class="o">=</span> <span class="n">SparseSeries</span><span class="o">.</span><span class="n">from_coo</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>

<span class="gp">In [22]: </span><span class="n">ss</span>
<span class="gr">Out[22]: </span>
<span class="go">0  2    1.0</span>
<span class="go">   3    2.0</span>
<span class="go">1  0    3.0</span>
<span class="go">dtype: float64</span>
<span class="go">BlockIndex</span>
<span class="go">Block locations: array([0], dtype=int32)</span>
<span class="go">Block lengths: array([3], dtype=int32)</span>
</pre></div>
</div>
</div>
<div class="section" id="whatsnew-0160-enhancements-string">
<span id="id48"></span><h4>String Methods Enhancements<a class="headerlink" href="#whatsnew-0160-enhancements-string" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Following new methods are accesible via <code class="docutils literal"><span class="pre">.str</span></code> accessor to apply the function to each values. This is intended to make it more consistent with standard methods on strings. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9282">GH9282</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9352">GH9352</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9386">GH9386</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9387">GH9387</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9439">GH9439</a>)</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="19%" />
<col width="19%" />
<col width="22%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"></th>
<th class="head"></th>
<th class="head">Methods</th>
<th class="head"></th>
<th class="head"></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">isalnum()</span></code></td>
<td><code class="docutils literal"><span class="pre">isalpha()</span></code></td>
<td><code class="docutils literal"><span class="pre">isdigit()</span></code></td>
<td><code class="docutils literal"><span class="pre">isdigit()</span></code></td>
<td><code class="docutils literal"><span class="pre">isspace()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">islower()</span></code></td>
<td><code class="docutils literal"><span class="pre">isupper()</span></code></td>
<td><code class="docutils literal"><span class="pre">istitle()</span></code></td>
<td><code class="docutils literal"><span class="pre">isnumeric()</span></code></td>
<td><code class="docutils literal"><span class="pre">isdecimal()</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">find()</span></code></td>
<td><code class="docutils literal"><span class="pre">rfind()</span></code></td>
<td><code class="docutils literal"><span class="pre">ljust()</span></code></td>
<td><code class="docutils literal"><span class="pre">rjust()</span></code></td>
<td><code class="docutils literal"><span class="pre">zfill()</span></code></td>
</tr>
</tbody>
</table>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [23]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="s1">&#39;abcd&#39;</span><span class="p">,</span> <span class="s1">&#39;3456&#39;</span><span class="p">,</span> <span class="s1">&#39;EFGH&#39;</span><span class="p">])</span>

<span class="gp">In [24]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">isalpha</span><span class="p">()</span>
<span class="gr">Out[24]: </span>
<span class="go">0     True</span>
<span class="go">1    False</span>
<span class="go">2     True</span>
<span class="go">dtype: bool</span>

<span class="gp">In [25]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;ab&#39;</span><span class="p">)</span>
<span class="gr">Out[25]: </span>
<span class="go">0    0</span>
<span class="go">1   -1</span>
<span class="go">2   -1</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="xref py py-meth docutils literal"><span class="pre">Series.str.pad()</span></code> and <code class="xref py py-meth docutils literal"><span class="pre">Series.str.center()</span></code> now accept <code class="docutils literal"><span class="pre">fillchar</span></code> option to specify filling character (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9352">GH9352</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [26]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="s1">&#39;12&#39;</span><span class="p">,</span> <span class="s1">&#39;300&#39;</span><span class="p">,</span> <span class="s1">&#39;25&#39;</span><span class="p">])</span>

<span class="gp">In [27]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">pad</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">fillchar</span><span class="o">=</span><span class="s1">&#39;_&#39;</span><span class="p">)</span>
<span class="gr">Out[27]: </span>
<span class="go">0    ___12</span>
<span class="go">1    __300</span>
<span class="go">2    ___25</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</li>
<li><p class="first">Added <code class="xref py py-meth docutils literal"><span class="pre">Series.str.slice_replace()</span></code>, which previously raised <code class="docutils literal"><span class="pre">NotImplementedError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8888">GH8888</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [28]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="s1">&#39;ABCD&#39;</span><span class="p">,</span> <span class="s1">&#39;EFGH&#39;</span><span class="p">,</span> <span class="s1">&#39;IJK&#39;</span><span class="p">])</span>

<span class="gp">In [29]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">slice_replace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="gr">Out[29]: </span>
<span class="go">0    AXD</span>
<span class="go">1    EXH</span>
<span class="go">2     IX</span>
<span class="go">dtype: object</span>

<span class="c"># replaced with empty char</span>
<span class="gp">In [30]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">slice_replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gr">Out[30]: </span>
<span class="go">0    BCD</span>
<span class="go">1    FGH</span>
<span class="go">2     JK</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="whatsnew-0160-enhancements-other">
<span id="id49"></span><h4>Other enhancements<a class="headerlink" href="#whatsnew-0160-enhancements-other" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Reindex now supports <code class="docutils literal"><span class="pre">method='nearest'</span></code> for frames or series with a monotonic increasing or decreasing index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9258">GH9258</a>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [31]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)})</span>

<span class="gp">In [32]: </span><span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">([</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
<span class="gr">Out[32]: </span>
<span class="go">     x</span>
<span class="go">0.2  0</span>
<span class="go">1.8  2</span>
<span class="go">3.5  4</span>
</pre></div>
</div>
<p>This method is also exposed by the lower level <code class="docutils literal"><span class="pre">Index.get_indexer</span></code> and <code class="docutils literal"><span class="pre">Index.get_loc</span></code> methods.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">read_excel()</span></code> function&#8217;s <a class="reference internal" href="io.html#io-excel-specifying-sheets"><span class="std std-ref">sheetname</span></a> argument now accepts a list and <code class="docutils literal"><span class="pre">None</span></code>, to get multiple or all sheets respectively.  If more than one sheet is specified, a dictionary is returned. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9450">GH9450</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Returns the 1st and 4th sheet, as a dictionary of DataFrames.</span>
<span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;path_to_file.xls&#39;</span><span class="p">,</span><span class="n">sheetname</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Sheet1&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p class="first">Allow Stata files to be read incrementally with an iterator; support for long strings in Stata files. See the docs <a class="reference internal" href="io.html#io-stata-reader"><span class="std std-ref">here</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9493">GH9493</a>:).</p>
</li>
<li><p class="first">Paths beginning with ~ will now be expanded to begin with the user&#8217;s home directory (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9066">GH9066</a>)</p>
</li>
<li><p class="first">Added time interval selection in <code class="docutils literal"><span class="pre">get_data_yahoo</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9071">GH9071</a>)</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">Timestamp.to_datetime64()</span></code> to complement <code class="docutils literal"><span class="pre">Timedelta.to_timedelta64()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9255">GH9255</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">tseries.frequencies.to_offset()</span></code> now accepts <code class="docutils literal"><span class="pre">Timedelta</span></code> as input (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9064">GH9064</a>)</p>
</li>
<li><p class="first">Lag parameter was added to the autocorrelation method of <code class="docutils literal"><span class="pre">Series</span></code>, defaults to lag-1 autocorrelation (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9192">GH9192</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Timedelta</span></code> will now accept <code class="docutils literal"><span class="pre">nanoseconds</span></code> keyword in constructor (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9273">GH9273</a>)</p>
</li>
<li><p class="first">SQL code now safely escapes table and column names (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8986">GH8986</a>)</p>
</li>
<li><p class="first">Added auto-complete for <code class="docutils literal"><span class="pre">Series.str.&lt;tab&gt;</span></code>, <code class="docutils literal"><span class="pre">Series.dt.&lt;tab&gt;</span></code> and <code class="docutils literal"><span class="pre">Series.cat.&lt;tab&gt;</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9322">GH9322</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Index.get_indexer</span></code> now supports <code class="docutils literal"><span class="pre">method='pad'</span></code> and <code class="docutils literal"><span class="pre">method='backfill'</span></code> even for any target array, not just monotonic targets. These methods also work for monotonic decreasing as well as monotonic increasing indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9258">GH9258</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Index.asof</span></code> now works on all index types (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9258">GH9258</a>).</p>
</li>
<li><p class="first">A <code class="docutils literal"><span class="pre">verbose</span></code> argument has been augmented in <code class="docutils literal"><span class="pre">io.read_excel()</span></code>, defaults to False. Set to True to print sheet names as they are parsed. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9450">GH9450</a>)</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">days_in_month</span></code> (compatibility alias <code class="docutils literal"><span class="pre">daysinmonth</span></code>) property to <code class="docutils literal"><span class="pre">Timestamp</span></code>, <code class="docutils literal"><span class="pre">DatetimeIndex</span></code>, <code class="docutils literal"><span class="pre">Period</span></code>, <code class="docutils literal"><span class="pre">PeriodIndex</span></code>, and <code class="docutils literal"><span class="pre">Series.dt</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9572">GH9572</a>)</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">decimal</span></code> option in <code class="docutils literal"><span class="pre">to_csv</span></code> to provide formatting for non-&#8216;.&#8217; decimal separators (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/781">GH781</a>)</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">normalize</span></code> option for <code class="docutils literal"><span class="pre">Timestamp</span></code> to normalized to midnight (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8794">GH8794</a>)</p>
</li>
<li><p class="first">Added example for <code class="docutils literal"><span class="pre">DataFrame</span></code> import to R using HDF5 file and <code class="docutils literal"><span class="pre">rhdf5</span></code>
library. See the <a class="reference internal" href="io.html#io-external-compatibility"><span class="std std-ref">documentation</span></a> for more
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9636">GH9636</a>).</p>
</li>
</ul>
</div>
</div>
<div class="section" id="whatsnew-0160-api">
<span id="id50"></span><h3>Backwards incompatible API changes<a class="headerlink" href="#whatsnew-0160-api" title="Permalink to this headline">¶</a></h3>
<div class="section" id="changes-in-timedelta">
<span id="whatsnew-0160-api-breaking-timedelta"></span><span id="whatsnew-0160-api-breaking"></span><h4>Changes in Timedelta<a class="headerlink" href="#changes-in-timedelta" title="Permalink to this headline">¶</a></h4>
<p>In v0.15.0 a new scalar type <code class="docutils literal"><span class="pre">Timedelta</span></code> was introduced, that is a
sub-class of <code class="docutils literal"><span class="pre">datetime.timedelta</span></code>. Mentioned <a class="reference internal" href="#whatsnew-0150-timedeltaindex"><span class="std std-ref">here</span></a> was a notice of an API change w.r.t. the <code class="docutils literal"><span class="pre">.seconds</span></code> accessor. The intent was to provide a user-friendly set of accessors that give the &#8216;natural&#8217; value for that unit, e.g. if you had a <code class="docutils literal"><span class="pre">Timedelta('1</span> <span class="pre">day,</span> <span class="pre">10:11:12')</span></code>, then <code class="docutils literal"><span class="pre">.seconds</span></code> would return 12. However, this is at odds with the definition of <code class="docutils literal"><span class="pre">datetime.timedelta</span></code>, which defines <code class="docutils literal"><span class="pre">.seconds</span></code> as <code class="docutils literal"><span class="pre">10</span> <span class="pre">*</span> <span class="pre">3600</span> <span class="pre">+</span> <span class="pre">11</span> <span class="pre">*</span> <span class="pre">60</span> <span class="pre">+</span> <span class="pre">12</span> <span class="pre">==</span> <span class="pre">36672</span></code>.</p>
<p>So in v0.16.0, we are restoring the API to match that of <code class="docutils literal"><span class="pre">datetime.timedelta</span></code>. Further, the component values are still available through the <code class="docutils literal"><span class="pre">.components</span></code> accessor. This affects the <code class="docutils literal"><span class="pre">.seconds</span></code> and <code class="docutils literal"><span class="pre">.microseconds</span></code> accessors, and removes the <code class="docutils literal"><span class="pre">.hours</span></code>, <code class="docutils literal"><span class="pre">.minutes</span></code>, <code class="docutils literal"><span class="pre">.milliseconds</span></code> accessors. These changes affect <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> and the Series <code class="docutils literal"><span class="pre">.dt</span></code> accessor as well. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9185">GH9185</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9139">GH9139</a>)</p>
<p>Previous Behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">t</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;1 day, 10:11:12.100123&#39;</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">t</span><span class="o">.</span><span class="n">days</span>
<span class="gr">Out[3]: </span><span class="mi">1</span>

<span class="gp">In [4]: </span><span class="n">t</span><span class="o">.</span><span class="n">seconds</span>
<span class="gr">Out[4]: </span><span class="mi">12</span>

<span class="gp">In [5]: </span><span class="n">t</span><span class="o">.</span><span class="n">microseconds</span>
<span class="gr">Out[5]: </span><span class="mi">123</span>
</pre></div>
</div>
<p>New Behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [33]: </span><span class="n">t</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;1 day, 10:11:12.100123&#39;</span><span class="p">)</span>

<span class="gp">In [34]: </span><span class="n">t</span><span class="o">.</span><span class="n">days</span>
<span class="gr">Out[34]: </span><span class="mi">1</span>

<span class="gp">In [35]: </span><span class="n">t</span><span class="o">.</span><span class="n">seconds</span>
<span class="gr">Out[35]: </span><span class="mi">36672</span>

<span class="gp">In [36]: </span><span class="n">t</span><span class="o">.</span><span class="n">microseconds</span>
<span class="gr">Out[36]: </span><span class="mi">100123</span>
</pre></div>
</div>
<p>Using <code class="docutils literal"><span class="pre">.components</span></code> allows the full component access</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [37]: </span><span class="n">t</span><span class="o">.</span><span class="n">components</span>
<span class="gr">Out[37]: </span><span class="n">Components</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">hours</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">minutes</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">seconds</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">milliseconds</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">microseconds</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span> <span class="n">nanoseconds</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="gp">In [38]: </span><span class="n">t</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">seconds</span>
<span class="gr">Out[38]: </span><span class="mi">12</span>
</pre></div>
</div>
</div>
<div class="section" id="indexing-changes">
<span id="whatsnew-0160-api-breaking-indexing"></span><h4>Indexing Changes<a class="headerlink" href="#indexing-changes" title="Permalink to this headline">¶</a></h4>
<p>The behavior of a small sub-set of edge cases for using <code class="docutils literal"><span class="pre">.loc</span></code> have changed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8613">GH8613</a>). Furthermore we have improved the content of the error messages that are raised:</p>
<ul>
<li><p class="first">Slicing with <code class="docutils literal"><span class="pre">.loc</span></code> where the start and/or stop bound is not found in the index is now allowed; this previously would raise a <code class="docutils literal"><span class="pre">KeyError</span></code>. This makes the behavior the same as <code class="docutils literal"><span class="pre">.ix</span></code> in this case. This change is only for slicing, not when indexing with a single label.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [39]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....:</span>                <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABCD&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>                <span class="n">index</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">   ....:</span> 

<span class="gp">In [40]: </span><span class="n">df</span>
<span class="gr">Out[40]: </span>
<span class="go">                   A         B         C         D</span>
<span class="go">2013-01-01 -0.322795  0.841675  2.390961  0.076200</span>
<span class="go">2013-01-02 -0.566446  0.036142 -2.074978  0.247792</span>
<span class="go">2013-01-03 -0.897157 -0.136795  0.018289  0.755414</span>
<span class="go">2013-01-04  0.215269  0.841009 -1.445810 -1.401973</span>
<span class="go">2013-01-05 -0.100918 -0.548242 -0.144620  0.354020</span>

<span class="gp">In [41]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>

<span class="gp">In [42]: </span><span class="n">s</span>
<span class="gr">Out[42]: </span>
<span class="go">-2    0</span>
<span class="go">-1    1</span>
<span class="go"> 1    2</span>
<span class="go"> 2    3</span>
<span class="go"> 3    4</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>Previous Behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;2013-01-02&#39;</span><span class="p">:</span><span class="s1">&#39;2013-01-10&#39;</span><span class="p">]</span>
<span class="go">KeyError: &#39;stop bound [2013-01-10] is not in the [index]&#39;</span>

<span class="gp">In [6]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="go">KeyError: &#39;start bound [-10] is not the [index]&#39;</span>
</pre></div>
</div>
<p>New Behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [43]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;2013-01-02&#39;</span><span class="p">:</span><span class="s1">&#39;2013-01-10&#39;</span><span class="p">]</span>
<span class="gr">Out[43]: </span>
<span class="go">                   A         B         C         D</span>
<span class="go">2013-01-02 -0.566446  0.036142 -2.074978  0.247792</span>
<span class="go">2013-01-03 -0.897157 -0.136795  0.018289  0.755414</span>
<span class="go">2013-01-04  0.215269  0.841009 -1.445810 -1.401973</span>
<span class="go">2013-01-05 -0.100918 -0.548242 -0.144620  0.354020</span>

<span class="gp">In [44]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="gr">Out[44]: </span>
<span class="go">-2    0</span>
<span class="go">-1    1</span>
<span class="go"> 1    2</span>
<span class="go"> 2    3</span>
<span class="go"> 3    4</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</li>
<li><p class="first">Allow slicing with float-like values on an integer index for <code class="docutils literal"><span class="pre">.ix</span></code>. Previously this was only enabled for <code class="docutils literal"><span class="pre">.loc</span></code>:</p>
<p>Previous Behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">s</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="go">TypeError: the slice start value [-1.0] is not a proper indexer for this index type (Int64Index)</span>
</pre></div>
</div>
<p>New Behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [45]: </span><span class="n">s</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="gr">Out[45]: </span>
<span class="go">-1    1</span>
<span class="go"> 1    2</span>
<span class="go"> 2    3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</li>
<li><p class="first">Provide a useful exception for indexing with an invalid type for that index when using <code class="docutils literal"><span class="pre">.loc</span></code>. For example trying to use <code class="docutils literal"><span class="pre">.loc</span></code> on an index of type <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> or <code class="docutils literal"><span class="pre">PeriodIndex</span></code> or <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code>, with an integer (or a float).</p>
<p>Previous Behavior</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="ne">KeyError</span><span class="p">:</span> <span class="s1">&#39;start bound [2] is not the [index]&#39;</span>
</pre></div>
</div>
<p>New Behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="go">TypeError: Cannot do slice indexing on &lt;class &#39;pandas.tseries.index.DatetimeIndex&#39;&gt; with &lt;type &#39;int&#39;&gt; keys</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="categorical-changes">
<span id="whatsnew-0160-api-breaking-categorical"></span><h4>Categorical Changes<a class="headerlink" href="#categorical-changes" title="Permalink to this headline">¶</a></h4>
<p>In prior versions, <code class="docutils literal"><span class="pre">Categoricals</span></code> that had an unspecified ordering (meaning no <code class="docutils literal"><span class="pre">ordered</span></code> keyword was passed) were defaulted as <code class="docutils literal"><span class="pre">ordered</span></code> Categoricals. Going forward, the <code class="docutils literal"><span class="pre">ordered</span></code> keyword in the <code class="docutils literal"><span class="pre">Categorical</span></code> constructor will default to <code class="docutils literal"><span class="pre">False</span></code>. Ordering must now be explicit.</p>
<p>Furthermore, previously you <em>could</em> change the <code class="docutils literal"><span class="pre">ordered</span></code> attribute of a Categorical by just setting the attribute, e.g. <code class="docutils literal"><span class="pre">cat.ordered=True</span></code>; This is now deprecated and you should use <code class="docutils literal"><span class="pre">cat.as_ordered()</span></code> or <code class="docutils literal"><span class="pre">cat.as_unordered()</span></code>. These will by default return a <strong>new</strong> object and not modify the existing object. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9347">GH9347</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9190">GH9190</a>)</p>
<p>Previous Behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">s</span>
<span class="go">Out[4]:</span>
<span class="go">0    0</span>
<span class="go">1    1</span>
<span class="go">2    2</span>
<span class="go">dtype: category</span>
<span class="go">Categories (3, int64): [0 &lt; 1 &lt; 2]</span>

<span class="gp">In [5]: </span><span class="n">s</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">ordered</span>
<span class="gr">Out[5]: </span><span class="bp">True</span>

<span class="gp">In [6]: </span><span class="n">s</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">ordered</span> <span class="o">=</span> <span class="bp">False</span>

<span class="gp">In [7]: </span><span class="n">s</span>
<span class="go">Out[7]:</span>
<span class="go">0    0</span>
<span class="go">1    1</span>
<span class="go">2    2</span>
<span class="go">dtype: category</span>
<span class="go">Categories (3, int64): [0, 1, 2]</span>
</pre></div>
</div>
<p>New Behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [46]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="gp">In [47]: </span><span class="n">s</span>
<span class="gr">Out[47]: </span>
<span class="go">0    0</span>
<span class="go">1    1</span>
<span class="go">2    2</span>
<span class="go">dtype: category</span>
<span class="go">Categories (3, int64): [0, 1, 2]</span>

<span class="gp">In [48]: </span><span class="n">s</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">ordered</span>
<span class="gr">Out[48]: </span><span class="bp">False</span>

<span class="gp">In [49]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">as_ordered</span><span class="p">()</span>

<span class="gp">In [50]: </span><span class="n">s</span>
<span class="gr">Out[50]: </span>
<span class="go">0    0</span>
<span class="go">1    1</span>
<span class="go">2    2</span>
<span class="go">dtype: category</span>
<span class="go">Categories (3, int64): [0 &lt; 1 &lt; 2]</span>

<span class="gp">In [51]: </span><span class="n">s</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">ordered</span>
<span class="gr">Out[51]: </span><span class="bp">True</span>

<span class="c"># you can set in the constructor of the Categorical</span>
<span class="gp">In [52]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">Categorical</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="n">ordered</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>

<span class="gp">In [53]: </span><span class="n">s</span>
<span class="gr">Out[53]: </span>
<span class="go">0    0</span>
<span class="go">1    1</span>
<span class="go">2    2</span>
<span class="go">dtype: category</span>
<span class="go">Categories (3, int64): [0 &lt; 1 &lt; 2]</span>

<span class="gp">In [54]: </span><span class="n">s</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">ordered</span>
<span class="gr">Out[54]: </span><span class="bp">True</span>
</pre></div>
</div>
<p>For ease of creation of series of categorical data, we have added the ability to pass keywords when calling <code class="docutils literal"><span class="pre">.astype()</span></code>. These are passed directly to the constructor.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [55]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;c&quot;</span><span class="p">,</span><span class="s2">&quot;a&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">,</span><span class="n">ordered</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="gp">In [56]: </span><span class="n">s</span>
<span class="gr">Out[56]: </span>
<span class="go">0    a</span>
<span class="go">1    b</span>
<span class="go">2    c</span>
<span class="go">3    a</span>
<span class="go">dtype: category</span>
<span class="go">Categories (3, object): [a &lt; b &lt; c]</span>

<span class="gp">In [57]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;c&quot;</span><span class="p">,</span><span class="s2">&quot;a&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">,</span><span class="n">categories</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcdef&#39;</span><span class="p">),</span><span class="n">ordered</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="gp">In [58]: </span><span class="n">s</span>
<span class="gr">Out[58]: </span>
<span class="go">0    a</span>
<span class="go">1    b</span>
<span class="go">2    c</span>
<span class="go">3    a</span>
<span class="go">dtype: category</span>
<span class="go">Categories (6, object): [a, b, c, d, e, f]</span>
</pre></div>
</div>
</div>
<div class="section" id="whatsnew-0160-api-breaking-other">
<span id="id51"></span><h4>Other API Changes<a class="headerlink" href="#whatsnew-0160-api-breaking-other" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">Index.duplicated</span></code> now returns <code class="docutils literal"><span class="pre">np.array(dtype=bool)</span></code> rather than <code class="docutils literal"><span class="pre">Index(dtype=object)</span></code> containing <code class="docutils literal"><span class="pre">bool</span></code> values. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8875">GH8875</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.to_json</span></code> now returns accurate type serialisation for each column for frames of mixed dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9037">GH9037</a>)</p>
<p>Previously data was coerced to a common dtype before serialisation, which for
example resulted in integers being serialised to floats:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;i&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">]})</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>
<span class="gr">Out[2]: </span><span class="s1">&#39;{&quot;f&quot;:{&quot;0&quot;:3.0,&quot;1&quot;:4.2},&quot;i&quot;:{&quot;0&quot;:1.0,&quot;1&quot;:2.0}}&#39;</span>
</pre></div>
</div>
<p>Now each column is serialised using its correct dtype:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;i&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">]})</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>
<span class="gr">Out[2]: </span><span class="s1">&#39;{&quot;f&quot;:{&quot;0&quot;:3.0,&quot;1&quot;:4.2},&quot;i&quot;:{&quot;0&quot;:1,&quot;1&quot;:2}}&#39;</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DatetimeIndex</span></code>, <code class="docutils literal"><span class="pre">PeriodIndex</span></code> and <code class="docutils literal"><span class="pre">TimedeltaIndex.summary</span></code> now output the same format. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9116">GH9116</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">TimedeltaIndex.freqstr</span></code> now output the same string format as <code class="docutils literal"><span class="pre">DatetimeIndex</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9116">GH9116</a>)</p>
</li>
<li><p class="first">Bar and horizontal bar plots no longer add a dashed line along the info axis. The prior style can be achieved with matplotlib&#8217;s <code class="docutils literal"><span class="pre">axhline</span></code> or <code class="docutils literal"><span class="pre">axvline</span></code> methods (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9088">GH9088</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series</span></code> accessors <code class="docutils literal"><span class="pre">.dt</span></code>, <code class="docutils literal"><span class="pre">.cat</span></code> and <code class="docutils literal"><span class="pre">.str</span></code> now raise <code class="docutils literal"><span class="pre">AttributeError</span></code> instead of <code class="docutils literal"><span class="pre">TypeError</span></code> if the series does not contain the appropriate type of data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9617">GH9617</a>). This follows Python&#8217;s built-in exception hierarchy more closely and ensures that tests like <code class="docutils literal"><span class="pre">hasattr(s,</span> <span class="pre">'cat')</span></code> are consistent on both Python 2 and 3.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series</span></code> now supports bitwise operation for integral types (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9016">GH9016</a>). Previously even if the input dtypes were integral, the output dtype was coerced to <code class="docutils literal"><span class="pre">bool</span></code>.</p>
<p>Previous Behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">))</span> <span class="o">|</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">))</span>
<span class="go">Out[2]:</span>
<span class="go">a    True</span>
<span class="go">b    True</span>
<span class="go">c    True</span>
<span class="go">d    True</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
<p>New Behavior. If the input dtypes are integral, the output dtype is also integral and the output
values are the result of the bitwise operation.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">))</span> <span class="o">|</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">))</span>
<span class="go">Out[2]:</span>
<span class="go">a    4</span>
<span class="go">b    5</span>
<span class="go">c    6</span>
<span class="go">d    7</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</li>
<li><p class="first">During division involving a <code class="docutils literal"><span class="pre">Series</span></code> or <code class="docutils literal"><span class="pre">DataFrame</span></code>, <code class="docutils literal"><span class="pre">0/0</span></code> and <code class="docutils literal"><span class="pre">0//0</span></code> now give <code class="docutils literal"><span class="pre">np.nan</span></code> instead of <code class="docutils literal"><span class="pre">np.inf</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9144">GH9144</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8445">GH8445</a>)</p>
<p>Previous Behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [3]: </span><span class="n">p</span> <span class="o">/</span> <span class="mi">0</span>
<span class="go">Out[3]:</span>
<span class="go">0    inf</span>
<span class="go">1    inf</span>
<span class="go">dtype: float64</span>

<span class="gp">In [4]: </span><span class="n">p</span> <span class="o">//</span> <span class="mi">0</span>
<span class="go">Out[4]:</span>
<span class="go">0    inf</span>
<span class="go">1    inf</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>New Behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [59]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [60]: </span><span class="n">p</span> <span class="o">/</span> <span class="mi">0</span>
<span class="gr">Out[60]: </span>
<span class="go">0    NaN</span>
<span class="go">1    inf</span>
<span class="go">dtype: float64</span>

<span class="gp">In [61]: </span><span class="n">p</span> <span class="o">//</span> <span class="mi">0</span>
<span class="gr">Out[61]: </span>
<span class="go">0    NaN</span>
<span class="go">1    inf</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series.values_counts</span></code> and <code class="docutils literal"><span class="pre">Series.describe</span></code> for categorical data will now put <code class="docutils literal"><span class="pre">NaN</span></code> entries at the end. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9443">GH9443</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series.describe</span></code> for categorical data will now give counts and frequencies of 0, not <code class="docutils literal"><span class="pre">NaN</span></code>, for unused categories (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9443">GH9443</a>)</p>
</li>
<li><p class="first">Due to a bug fix, looking up a partial string label with <code class="docutils literal"><span class="pre">DatetimeIndex.asof</span></code> now includes values that match the string, even if they are after the start of the partial string label (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9258">GH9258</a>).</p>
<p>Old behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="s1">&#39;2000-01-31&#39;</span><span class="p">,</span> <span class="s1">&#39;2000-02-28&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">asof</span><span class="p">(</span><span class="s1">&#39;2000-02&#39;</span><span class="p">)</span>
<span class="gr">Out[4]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2000-01-31 00:00:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Fixed behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [62]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">([</span><span class="s1">&#39;2000-01-31&#39;</span><span class="p">,</span> <span class="s1">&#39;2000-02-28&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">asof</span><span class="p">(</span><span class="s1">&#39;2000-02&#39;</span><span class="p">)</span>
<span class="gr">Out[62]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2000-02-28 00:00:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To reproduce the old behavior, simply add more precision to the label (e.g., use <code class="docutils literal"><span class="pre">2000-02-01</span></code> instead of <code class="docutils literal"><span class="pre">2000-02</span></code>).</p>
</li>
</ul>
</div>
<div class="section" id="whatsnew-0160-deprecations">
<span id="id52"></span><h4>Deprecations<a class="headerlink" href="#whatsnew-0160-deprecations" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">rplot</span></code> trellis plotting interface is deprecated and will be removed
in a future version. We refer to external packages like
<a class="reference external" href="http://stanford.edu/~mwaskom/software/seaborn/">seaborn</a> for similar
but more refined functionality (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3445">GH3445</a>).
The documentation includes some examples how to convert your existing code
using <code class="docutils literal"><span class="pre">rplot</span></code> to seaborn: <a class="reference internal" href="visualization.html#rplot"><span class="std std-ref">rplot docs</span></a>.</li>
<li>The <code class="docutils literal"><span class="pre">pandas.sandbox.qtpandas</span></code> interface is deprecated and will be removed in a future version.
We refer users to the external package <a class="reference external" href="https://github.com/datalyze-solutions/pandas-qt">pandas-qt</a>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9615">GH9615</a>)</li>
<li>The <code class="docutils literal"><span class="pre">pandas.rpy</span></code> interface is deprecated and will be removed in a future version.
Similar functionaility can be accessed thru the <a class="reference external" href="http://rpy2.bitbucket.org/">rpy2</a> project (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9602">GH9602</a>)</li>
<li>Adding <code class="docutils literal"><span class="pre">DatetimeIndex/PeriodIndex</span></code> to another <code class="docutils literal"><span class="pre">DatetimeIndex/PeriodIndex</span></code> is being deprecated as a set-operation. This will be changed to a <code class="docutils literal"><span class="pre">TypeError</span></code> in a future version. <code class="docutils literal"><span class="pre">.union()</span></code> should be used for the union set operation. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9094">GH9094</a>)</li>
<li>Subtracting <code class="docutils literal"><span class="pre">DatetimeIndex/PeriodIndex</span></code> from another <code class="docutils literal"><span class="pre">DatetimeIndex/PeriodIndex</span></code> is being deprecated as a set-operation. This will be changed to an actual numeric subtraction yielding a <code class="docutils literal"><span class="pre">TimeDeltaIndex</span></code> in a future version. <code class="docutils literal"><span class="pre">.difference()</span></code> should be used for the differencing set operation. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9094">GH9094</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0160-prior-deprecations">
<span id="id56"></span><h4>Removal of prior version deprecations/changes<a class="headerlink" href="#whatsnew-0160-prior-deprecations" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">DataFrame.pivot_table</span></code> and <code class="docutils literal"><span class="pre">crosstab</span></code>&#8216;s <code class="docutils literal"><span class="pre">rows</span></code> and <code class="docutils literal"><span class="pre">cols</span></code> keyword arguments were removed in favor
of <code class="docutils literal"><span class="pre">index</span></code> and <code class="docutils literal"><span class="pre">columns</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6581">GH6581</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.to_excel</span></code> and <code class="docutils literal"><span class="pre">DataFrame.to_csv</span></code> <code class="docutils literal"><span class="pre">cols</span></code> keyword argument was removed in favor of <code class="docutils literal"><span class="pre">columns</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6581">GH6581</a>)</li>
<li>Removed <code class="docutils literal"><span class="pre">convert_dummies</span></code> in favor of <code class="docutils literal"><span class="pre">get_dummies</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6581">GH6581</a>)</li>
<li>Removed <code class="docutils literal"><span class="pre">value_range</span></code> in favor of <code class="docutils literal"><span class="pre">describe</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6581">GH6581</a>)</li>
</ul>
</div>
</div>
<div class="section" id="whatsnew-0160-performance">
<span id="id57"></span><h3>Performance Improvements<a class="headerlink" href="#whatsnew-0160-performance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a performance regression for <code class="docutils literal"><span class="pre">.loc</span></code> indexing with an array or list-like (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9126">GH9126</a>:).</li>
<li><code class="docutils literal"><span class="pre">DataFrame.to_json</span></code> 30x performance improvement for mixed dtype frames. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9037">GH9037</a>)</li>
<li>Performance improvements in <code class="docutils literal"><span class="pre">MultiIndex.duplicated</span></code> by working with labels instead of values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9125">GH9125</a>)</li>
<li>Improved the speed of <code class="docutils literal"><span class="pre">nunique</span></code> by calling <code class="docutils literal"><span class="pre">unique</span></code> instead of <code class="docutils literal"><span class="pre">value_counts</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9129">GH9129</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7771">GH7771</a>)</li>
<li>Performance improvement of up to 10x in <code class="docutils literal"><span class="pre">DataFrame.count</span></code> and <code class="docutils literal"><span class="pre">DataFrame.dropna</span></code> by taking advantage of homogeneous/heterogeneous dtypes appropriately (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9136">GH9136</a>)</li>
<li>Performance improvement of up to 20x in <code class="docutils literal"><span class="pre">DataFrame.count</span></code> when using a <code class="docutils literal"><span class="pre">MultiIndex</span></code> and the <code class="docutils literal"><span class="pre">level</span></code> keyword argument  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9163">GH9163</a>)</li>
<li>Performance and memory usage improvements in <code class="docutils literal"><span class="pre">merge</span></code> when key space exceeds <code class="docutils literal"><span class="pre">int64</span></code> bounds (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9151">GH9151</a>)</li>
<li>Performance improvements in multi-key <code class="docutils literal"><span class="pre">groupby</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9429">GH9429</a>)</li>
<li>Performance improvements in <code class="docutils literal"><span class="pre">MultiIndex.sortlevel</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9445">GH9445</a>)</li>
<li>Performance and memory usage improvements in <code class="docutils literal"><span class="pre">DataFrame.duplicated</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9398">GH9398</a>)</li>
<li>Cythonized <code class="docutils literal"><span class="pre">Period</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9440">GH9440</a>)</li>
<li>Decreased memory usage on <code class="docutils literal"><span class="pre">to_hdf</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9648">GH9648</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0160-bug-fixes">
<span id="id58"></span><h3>Bug Fixes<a class="headerlink" href="#whatsnew-0160-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Changed <code class="docutils literal"><span class="pre">.to_html</span></code> to remove leading/trailing spaces in table body (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4987">GH4987</a>)</li>
<li>Fixed issue using <code class="docutils literal"><span class="pre">read_csv</span></code> on s3 with Python 3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9452">GH9452</a>)</li>
<li>Fixed compatibility issue in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> affecting architectures where <code class="docutils literal"><span class="pre">numpy.int_</span></code> defaults to <code class="docutils literal"><span class="pre">numpy.int32</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8943">GH8943</a>)</li>
<li>Bug in Panel indexing with an object-like (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9140">GH9140</a>)</li>
<li>Bug in the returned <code class="docutils literal"><span class="pre">Series.dt.components</span></code> index was reset to the default index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9247">GH9247</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Categorical.__getitem__/__setitem__</span></code> with listlike input getting incorrect results from indexer coercion (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9469">GH9469</a>)</li>
<li>Bug in partial setting with a DatetimeIndex (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9478">GH9478</a>)</li>
<li>Bug in groupby for integer and datetime64 columns when applying an aggregator that caused the value to be
changed when the number was sufficiently large (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9311">GH9311</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6620">GH6620</a>)</li>
<li>Fixed bug in <code class="docutils literal"><span class="pre">to_sql</span></code> when mapping a <code class="docutils literal"><span class="pre">Timestamp</span></code> object column (datetime
column with timezone info) to the appropriate sqlalchemy type (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9085">GH9085</a>).</li>
<li>Fixed bug in <code class="docutils literal"><span class="pre">to_sql</span></code> <code class="docutils literal"><span class="pre">dtype</span></code> argument not accepting an instantiated
SQLAlchemy type  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9083">GH9083</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">.loc</span></code> partial setting with a <code class="docutils literal"><span class="pre">np.datetime64</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9516">GH9516</a>)</li>
<li>Incorrect dtypes inferred on datetimelike looking <code class="docutils literal"><span class="pre">Series</span></code> &amp; on <code class="docutils literal"><span class="pre">.xs</span></code> slices (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9477">GH9477</a>)</li>
<li>Items in <code class="docutils literal"><span class="pre">Categorical.unique()</span></code> (and <code class="docutils literal"><span class="pre">s.unique()</span></code> if <code class="docutils literal"><span class="pre">s</span></code> is of dtype <code class="docutils literal"><span class="pre">category</span></code>) now appear in the order in which they are originally found, not in sorted order (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9331">GH9331</a>). This is now consistent with the behavior for other dtypes in pandas.</li>
<li>Fixed bug on big endian platforms which produced incorrect results in <code class="docutils literal"><span class="pre">StataReader</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8688">GH8688</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">MultiIndex.has_duplicates</span></code> when having many levels causes an indexer overflow (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9075">GH9075</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5873">GH5873</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pivot</span></code> and <code class="docutils literal"><span class="pre">unstack</span></code> where <code class="docutils literal"><span class="pre">nan</span></code> values would break index alignment (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4862">GH4862</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7401">GH7401</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7403">GH7403</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7405">GH7405</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7466">GH7466</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9497">GH9497</a>)</li>
<li>Bug in left <code class="docutils literal"><span class="pre">join</span></code> on multi-index with <code class="docutils literal"><span class="pre">sort=True</span></code> or null values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9210">GH9210</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">MultiIndex</span></code> where inserting new keys would fail (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9250">GH9250</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby</span></code> when key space exceeds <code class="docutils literal"><span class="pre">int64</span></code> bounds (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9096">GH9096</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">unstack</span></code> with <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> or <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> and nulls (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9491">GH9491</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">rank</span></code> where comparing floats with tolerance will cause inconsistent behaviour (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8365">GH8365</a>).</li>
<li>Fixed character encoding bug in <code class="docutils literal"><span class="pre">read_stata</span></code> and <code class="docutils literal"><span class="pre">StataReader</span></code> when loading data from a URL (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9231">GH9231</a>).</li>
<li>Bug in adding <code class="docutils literal"><span class="pre">offsets.Nano</span></code> to other offets raises <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9284">GH9284</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> iteration, related to (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8890">GH8890</a>), fixed in (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9100">GH9100</a>)</li>
<li>Bugs in <code class="docutils literal"><span class="pre">resample</span></code> around DST transitions. This required fixing offset classes so they behave correctly on DST transitions. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5172">GH5172</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8744">GH8744</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8653">GH8653</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9173">GH9173</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9468">GH9468</a>).</li>
<li>Bug in binary operator method (eg <code class="docutils literal"><span class="pre">.mul()</span></code>) alignment with integer levels (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9463">GH9463</a>).</li>
<li>Bug in boxplot, scatter and hexbin plot may show an unnecessary warning (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8877">GH8877</a>)</li>
<li>Bug in subplot with <code class="docutils literal"><span class="pre">layout</span></code> kw may show unnecessary warning (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9464">GH9464</a>)</li>
<li>Bug in using grouper functions that need passed thru arguments (e.g. axis), when using wrapped function (e.g. <code class="docutils literal"><span class="pre">fillna</span></code>), (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9221">GH9221</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame</span></code> now properly supports simultaneous <code class="docutils literal"><span class="pre">copy</span></code> and <code class="docutils literal"><span class="pre">dtype</span></code> arguments in constructor (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9099">GH9099</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_csv</span></code> when using skiprows on a file with CR line endings with the c engine. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9079">GH9079</a>)</li>
<li><code class="docutils literal"><span class="pre">isnull</span></code> now detects <code class="docutils literal"><span class="pre">NaT</span></code> in <code class="docutils literal"><span class="pre">PeriodIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9129">GH9129</a>)</li>
<li>Bug in groupby <code class="docutils literal"><span class="pre">.nth()</span></code> with a multiple column groupby (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8979">GH8979</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.where</span></code> and <code class="docutils literal"><span class="pre">Series.where</span></code> coerce numerics to string incorrectly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9280">GH9280</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.where</span></code> and <code class="docutils literal"><span class="pre">Series.where</span></code> raise <code class="docutils literal"><span class="pre">ValueError</span></code> when string list-like is passed. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9280">GH9280</a>)</li>
<li>Accessing <code class="docutils literal"><span class="pre">Series.str</span></code> methods on with non-string values now raises <code class="docutils literal"><span class="pre">TypeError</span></code> instead of producing incorrect results (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9184">GH9184</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex.__contains__</span></code> when index has duplicates and is not monotonic increasing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9512">GH9512</a>)</li>
<li>Fixed division by zero error for <code class="docutils literal"><span class="pre">Series.kurt()</span></code> when all values are equal (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9197">GH9197</a>)</li>
<li>Fixed issue in the <code class="docutils literal"><span class="pre">xlsxwriter</span></code> engine where it added a default &#8216;General&#8217; format to cells if no other format wass applied. This prevented other row or column formatting being applied. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9167">GH9167</a>)</li>
<li>Fixes issue with <code class="docutils literal"><span class="pre">index_col=False</span></code> when <code class="docutils literal"><span class="pre">usecols</span></code> is also specified in <code class="docutils literal"><span class="pre">read_csv</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9082">GH9082</a>)</li>
<li>Bug where <code class="docutils literal"><span class="pre">wide_to_long</span></code> would modify the input stubnames list (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9204">GH9204</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_sql</span></code> not storing float64 values using double precision. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9009">GH9009</a>)</li>
<li><code class="docutils literal"><span class="pre">SparseSeries</span></code> and <code class="docutils literal"><span class="pre">SparsePanel</span></code> now accept zero argument constructors (same as their non-sparse counterparts) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9272">GH9272</a>).</li>
<li>Regression in merging <code class="docutils literal"><span class="pre">Categorical</span></code> and <code class="docutils literal"><span class="pre">object</span></code> dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9426">GH9426</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_csv</span></code> with buffer overflows with certain malformed input files (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9205">GH9205</a>)</li>
<li>Bug in groupby MultiIndex with missing pair (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9049">GH9049</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9344">GH9344</a>)</li>
<li>Fixed bug in <code class="docutils literal"><span class="pre">Series.groupby</span></code> where grouping on <code class="docutils literal"><span class="pre">MultiIndex</span></code> levels would ignore the sort argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9444">GH9444</a>)</li>
<li>Fix bug in <code class="docutils literal"><span class="pre">DataFrame.Groupby</span></code> where <code class="docutils literal"><span class="pre">sort=False</span></code> is ignored in the case of Categorical columns. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8868">GH8868</a>)</li>
<li>Fixed bug with reading CSV files from Amazon S3 on python 3 raising a TypeError (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9452">GH9452</a>)</li>
<li>Bug in the Google BigQuery reader where the &#8216;jobComplete&#8217; key may be present but False in the query results (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8728">GH8728</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.values_counts</span></code> with excluding <code class="docutils literal"><span class="pre">NaN</span></code> for categorical type <code class="docutils literal"><span class="pre">Series</span></code> with <code class="docutils literal"><span class="pre">dropna=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9443">GH9443</a>)</li>
<li>Fixed mising numeric_only option for <code class="docutils literal"><span class="pre">DataFrame.std/var/sem</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9201">GH9201</a>)</li>
<li>Support constructing <code class="docutils literal"><span class="pre">Panel</span></code> or <code class="docutils literal"><span class="pre">Panel4D</span></code> with scalar data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8285">GH8285</a>)</li>
<li><code class="docutils literal"><span class="pre">Series</span></code> text representation disconnected from <cite>max_rows</cite>/<cite>max_columns</cite> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7508">GH7508</a>).</li>
</ul>
<p></p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">Series</span></code> number formatting inconsistent when truncated (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8532">GH8532</a>).</p>
<p>Previous Behavior</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_rows</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.9999</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">s</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span>
<span class="mi">0</span>    <span class="mi">1</span>
<span class="mi">1</span>    <span class="mi">1</span>
<span class="mi">2</span>    <span class="mi">1</span>
<span class="o">...</span>
<span class="mi">127</span>    <span class="mf">0.9999</span>
<span class="mi">128</span>    <span class="mf">1.0000</span>
<span class="mi">129</span>    <span class="mf">1.0000</span>
<span class="n">Length</span><span class="p">:</span> <span class="mi">130</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</pre></div>
</div>
<p>New Behavior</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="mi">0</span>      <span class="mf">1.0000</span>
<span class="mi">1</span>      <span class="mf">1.0000</span>
<span class="mi">2</span>      <span class="mf">1.0000</span>
<span class="mi">3</span>      <span class="mf">1.0000</span>
<span class="mi">4</span>      <span class="mf">1.0000</span>
<span class="o">...</span>
<span class="mi">125</span>    <span class="mf">1.0000</span>
<span class="mi">126</span>    <span class="mf">1.0000</span>
<span class="mi">127</span>    <span class="mf">0.9999</span>
<span class="mi">128</span>    <span class="mf">1.0000</span>
<span class="mi">129</span>    <span class="mf">1.0000</span>
<span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</pre></div>
</div>
</li>
<li><p class="first">A Spurious <code class="docutils literal"><span class="pre">SettingWithCopy</span></code> Warning was generated when setting a new item in a frame in some cases (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8730">GH8730</a>)</p>
<p>The following would previously report a <code class="docutils literal"><span class="pre">SettingWithCopy</span></code> Warning.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df1</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">]),</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">Series</span><span class="p">([</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">,</span><span class="s1">&#39;f&#39;</span><span class="p">])})</span>

<span class="gp">In [2]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[[</span><span class="s1">&#39;x&#39;</span><span class="p">]]</span>

<span class="gp">In [3]: </span><span class="n">df2</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="v0-15-2-december-12-2014">
<span id="whatsnew-0152"></span><h2>v0.15.2 (December 12, 2014)<a class="headerlink" href="#v0-15-2-december-12-2014" title="Permalink to this headline">¶</a></h2>
<p>This is a minor release from 0.15.1 and includes a large number of bug fixes
along with several new features, enhancements, and performance improvements.
A small number of API changes were necessary to fix existing bugs.
We recommend that all users upgrade to this version.</p>
<ul class="simple">
<li><a class="reference internal" href="#whatsnew-0152-enhancements"><span class="std std-ref">Enhancements</span></a></li>
<li><a class="reference internal" href="#whatsnew-0152-api"><span class="std std-ref">API Changes</span></a></li>
<li><a class="reference internal" href="#whatsnew-0152-performance"><span class="std std-ref">Performance Improvements</span></a></li>
<li><a class="reference internal" href="#whatsnew-0152-bug-fixes"><span class="std std-ref">Bug Fixes</span></a></li>
</ul>
<div class="section" id="whatsnew-0152-api">
<span id="id59"></span><h3>API changes<a class="headerlink" href="#whatsnew-0152-api" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Indexing in <code class="docutils literal"><span class="pre">MultiIndex</span></code> beyond lex-sort depth is now supported, though
a lexically sorted index will have a better performance. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2646">GH2646</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;jim&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">   ...:</span>                    <span class="s1">&#39;joe&#39;</span><span class="p">:[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">],</span>
<span class="gp">   ...:</span>                    <span class="s1">&#39;jolie&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">)})</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;jim&#39;</span><span class="p">,</span> <span class="s1">&#39;joe&#39;</span><span class="p">])</span>
<span class="gp">   ...:</span> 

<span class="gp">In [2]: </span><span class="n">df</span>
<span class="gr">Out[2]: </span>
<span class="go">            jolie</span>
<span class="go">jim joe          </span>
<span class="go">0   x    0.123943</span>
<span class="go">    x    0.119381</span>
<span class="go">1   z    0.738523</span>
<span class="go">    y    0.587304</span>

<span class="gp">In [3]: </span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">lexsort_depth</span>
<span class="gr">Out[3]: </span><span class="mi">1</span>

<span class="c"># in prior versions this would raise a KeyError</span>
<span class="c"># will now show a PerformanceWarning</span>
<span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">)]</span>
<span class="gr">Out[4]: </span>
<span class="go">            jolie</span>
<span class="go">jim joe          </span>
<span class="go">1   z    0.738523</span>

<span class="c"># lexically sorting</span>
<span class="gp">In [5]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sortlevel</span><span class="p">()</span>

<span class="gp">In [6]: </span><span class="n">df2</span>
<span class="gr">Out[6]: </span>
<span class="go">            jolie</span>
<span class="go">jim joe          </span>
<span class="go">0   x    0.123943</span>
<span class="go">    x    0.119381</span>
<span class="go">1   y    0.587304</span>
<span class="go">    z    0.738523</span>

<span class="gp">In [7]: </span><span class="n">df2</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">lexsort_depth</span>
<span class="gr">Out[7]: </span><span class="mi">2</span>

<span class="gp">In [8]: </span><span class="n">df2</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;z&#39;</span><span class="p">)]</span>
<span class="gr">Out[8]: </span>
<span class="go">            jolie</span>
<span class="go">jim joe          </span>
<span class="go">1   z    0.738523</span>
</pre></div>
</div>
</li>
<li><p class="first">Bug in unique of Series with <code class="docutils literal"><span class="pre">category</span></code> dtype, which returned all categories regardless
whether they were &#8220;used&#8221; or not (see <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8559">GH8559</a> for the discussion).
Previous behaviour was to return all categories:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">cat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>

<span class="gp">In [4]: </span><span class="n">cat</span>
<span class="go">Out[4]:</span>
<span class="go">[a, b, a]</span>
<span class="go">Categories (3, object): [a &lt; b &lt; c]</span>

<span class="gp">In [5]: </span><span class="n">cat</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="gr">Out[5]: </span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, only the categories that do effectively occur in the array are returned:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">cat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>

<span class="gp">In [10]: </span><span class="n">cat</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="gr">Out[10]: </span>
<span class="go">[a, b]</span>
<span class="go">Categories (2, object): [a, b]</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series.all</span></code> and <code class="docutils literal"><span class="pre">Series.any</span></code> now support the <code class="docutils literal"><span class="pre">level</span></code> and <code class="docutils literal"><span class="pre">skipna</span></code> parameters. <code class="docutils literal"><span class="pre">Series.all</span></code>, <code class="docutils literal"><span class="pre">Series.any</span></code>, <code class="docutils literal"><span class="pre">Index.all</span></code>, and <code class="docutils literal"><span class="pre">Index.any</span></code> no longer support the <code class="docutils literal"><span class="pre">out</span></code> and <code class="docutils literal"><span class="pre">keepdims</span></code> parameters, which existed for compatibility with ndarray. Various index types no longer support the <code class="docutils literal"><span class="pre">all</span></code> and <code class="docutils literal"><span class="pre">any</span></code> aggregation functions and will now raise <code class="docutils literal"><span class="pre">TypeError</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8302">GH8302</a>).</p>
</li>
<li><p class="first">Allow equality comparisons of Series with a categorical dtype and object dtype; previously these would raise <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8938">GH8938</a>)</p>
</li>
<li><p class="first">Bug in <code class="docutils literal"><span class="pre">NDFrame</span></code>: conflicting attribute/column names now behave consistently between getting and setting. Previously, when both a column and attribute named <code class="docutils literal"><span class="pre">y</span></code> existed, <code class="docutils literal"><span class="pre">data.y</span></code> would return the attribute, while <code class="docutils literal"><span class="pre">data.y</span> <span class="pre">=</span> <span class="pre">z</span></code> would update the column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8994">GH8994</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>

<span class="gp">In [12]: </span><span class="n">data</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">2</span>

<span class="gp">In [13]: </span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>

<span class="gp">In [14]: </span><span class="n">data</span>
<span class="gr">Out[14]: </span>
<span class="go">   x  y</span>
<span class="go">0  1  2</span>
<span class="go">1  2  4</span>
<span class="go">2  3  6</span>

<span class="c"># this assignment was inconsistent</span>
<span class="gp">In [15]: </span><span class="n">data</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
<p>Old behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">data</span><span class="o">.</span><span class="n">y</span>
<span class="gr">Out[6]: </span><span class="mi">2</span>

<span class="gp">In [7]: </span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="gr">Out[7]: </span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<p>New behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">data</span><span class="o">.</span><span class="n">y</span>
<span class="gr">Out[16]: </span><span class="mi">5</span>

<span class="gp">In [17]: </span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="gr">Out[17]: </span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Timestamp('now')</span></code> is now equivalent to <code class="docutils literal"><span class="pre">Timestamp.now()</span></code> in that it returns the local time rather than UTC. Also, <code class="docutils literal"><span class="pre">Timestamp('today')</span></code> is now equivalent to <code class="docutils literal"><span class="pre">Timestamp.today()</span></code> and both have <code class="docutils literal"><span class="pre">tz</span></code> as a possible argument. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9000">GH9000</a>)</p>
</li>
<li><p class="first">Fix negative step support for label-based slices (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8753">GH8753</a>)</p>
<p>Old behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="go">Out[1]:</span>
<span class="go">a    0</span>
<span class="go">b    1</span>
<span class="go">c    2</span>
<span class="go">dtype: int64</span>

<span class="gp">In [2]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">:</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">Out[2]:</span>
<span class="go">c    2</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>New behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [18]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>

<span class="gp">In [19]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">:</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gr">Out[19]: </span>
<span class="go">c    2</span>
<span class="go">b    1</span>
<span class="go">a    0</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="whatsnew-0152-enhancements">
<span id="id60"></span><h3>Enhancements<a class="headerlink" href="#whatsnew-0152-enhancements" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">Categorical</span></code> enhancements:</p>
<ul class="simple">
<li>Added ability to export Categorical data to Stata (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8633">GH8633</a>).  See <a class="reference internal" href="io.html#io-stata-categorical"><span class="std std-ref">here</span></a> for limitations of categorical variables exported to Stata data files.</li>
<li>Added flag <code class="docutils literal"><span class="pre">order_categoricals</span></code> to <code class="docutils literal"><span class="pre">StataReader</span></code> and <code class="docutils literal"><span class="pre">read_stata</span></code> to select whether to order imported categorical data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8836">GH8836</a>).  See <a class="reference internal" href="io.html#io-stata-categorical"><span class="std std-ref">here</span></a> for more information on importing categorical variables from Stata data files.</li>
<li>Added ability to export Categorical data to to/from HDF5 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7621">GH7621</a>). Queries work the same as if it was an object array. However, the <code class="docutils literal"><span class="pre">category</span></code> dtyped data is stored in a more efficient manner. See <a class="reference internal" href="io.html#io-hdf5-categorical"><span class="std std-ref">here</span></a> for an example and caveats w.r.t. prior versions of pandas.</li>
<li>Added support for <code class="docutils literal"><span class="pre">searchsorted()</span></code> on <cite>Categorical</cite> class (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8420">GH8420</a>).</li>
</ul>
<p>Other enhancements:</p>
<ul>
<li><p class="first">Added the ability to specify the SQL type of columns when writing a DataFrame
to a database (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8778">GH8778</a>).
For example, specifying to use the sqlalchemy <code class="docutils literal"><span class="pre">String</span></code> type instead of the
default <code class="docutils literal"><span class="pre">Text</span></code> type for string columns:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.types</span> <span class="kn">import</span> <span class="n">String</span>
<span class="n">data</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="s1">&#39;data_dtype&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Col_1&#39;</span><span class="p">:</span> <span class="n">String</span><span class="p">})</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series.all</span></code> and <code class="docutils literal"><span class="pre">Series.any</span></code> now support the <code class="docutils literal"><span class="pre">level</span></code> and <code class="docutils literal"><span class="pre">skipna</span></code> parameters (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8302">GH8302</a>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [20]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [21]: </span><span class="n">s</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[21]: </span>
<span class="go">0     True</span>
<span class="go">1    False</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Panel</span></code> now supports the <code class="docutils literal"><span class="pre">all</span></code> and <code class="docutils literal"><span class="pre">any</span></code> aggregation functions. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8302">GH8302</a>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [22]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Panel</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.1</span><span class="p">)</span>

<span class="gp">In [23]: </span><span class="n">p</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="gr">Out[23]: </span>
<span class="go">       0      1</span>
<span class="go">0   True   True</span>
<span class="go">1   True   True</span>
<span class="go">2  False  False</span>
<span class="go">3   True   True</span>
</pre></div>
</div>
</li>
<li><p class="first">Added support for <code class="docutils literal"><span class="pre">utcfromtimestamp()</span></code>, <code class="docutils literal"><span class="pre">fromtimestamp()</span></code>, and <code class="docutils literal"><span class="pre">combine()</span></code> on <cite>Timestamp</cite> class (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5351">GH5351</a>).</p>
</li>
<li><p class="first">Added Google Analytics (<cite>pandas.io.ga</cite>) basic documentation (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8835">GH8835</a>). See <a class="reference internal" href="remote_data.html#remote-data-ga"><span class="std std-ref">here</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Timedelta</span></code> arithmetic returns <code class="docutils literal"><span class="pre">NotImplemented</span></code> in unknown cases, allowing extensions by custom classes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8813">GH8813</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Timedelta</span></code> now supports arithemtic with <code class="docutils literal"><span class="pre">numpy.ndarray</span></code> objects of the appropriate dtype (numpy 1.8 or newer only) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8884">GH8884</a>).</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">Timedelta.to_timedelta64()</span></code> method to the public API (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8884">GH8884</a>).</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">gbq.generate_bq_schema()</span></code> function to the gbq module (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8325">GH8325</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series</span></code> now works with map objects the same way as generators (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8909">GH8909</a>).</p>
</li>
<li><p class="first">Added context manager to <code class="docutils literal"><span class="pre">HDFStore</span></code> for automatic closing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8791">GH8791</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">to_datetime</span></code> gains an <code class="docutils literal"><span class="pre">exact</span></code> keyword to allow for a format to not require an exact match for a provided format string (if its <code class="docutils literal"><span class="pre">False</span></code>). <code class="docutils literal"><span class="pre">exact</span></code> defaults to <code class="docutils literal"><span class="pre">True</span></code> (meaning that exact matching is still the default)  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8904">GH8904</a>)</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">axvlines</span></code> boolean option to parallel_coordinates plot function, determines whether vertical lines will be printed, default is True</p>
</li>
<li><p class="first">Added ability to read table footers to read_html (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8552">GH8552</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">to_sql</span></code> now infers datatypes of non-NA values for columns that contain NA values and have dtype <code class="docutils literal"><span class="pre">object</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8778">GH8778</a>).</p>
</li>
</ul>
</div>
<div class="section" id="performance">
<span id="whatsnew-0152-performance"></span><h3>Performance<a class="headerlink" href="#performance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Reduce memory usage when skiprows is an integer in read_csv (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8681">GH8681</a>)</li>
<li>Performance boost for <code class="docutils literal"><span class="pre">to_datetime</span></code> conversions with a passed <code class="docutils literal"><span class="pre">format=</span></code>, and the <code class="docutils literal"><span class="pre">exact=False</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8904">GH8904</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0152-bug-fixes">
<span id="id61"></span><h3>Bug Fixes<a class="headerlink" href="#whatsnew-0152-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Bug in concat of Series with <code class="docutils literal"><span class="pre">category</span></code> dtype which were coercing to <code class="docutils literal"><span class="pre">object</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8641">GH8641</a>)</li>
<li>Bug in Timestamp-Timestamp not returning a Timedelta type and datelike-datelike ops with timezones (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8865">GH8865</a>)</li>
<li>Made consistent a timezone mismatch exception (either tz operated with None or incompatible timezone), will now return <code class="docutils literal"><span class="pre">TypeError</span></code> rather than <code class="docutils literal"><span class="pre">ValueError</span></code> (a couple of edge cases only), (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8865">GH8865</a>)</li>
<li>Bug in using a <code class="docutils literal"><span class="pre">pd.Grouper(key=...)</span></code> with no level/axis or level only (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8795">GH8795</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8866">GH8866</a>)</li>
<li>Report a <code class="docutils literal"><span class="pre">TypeError</span></code> when invalid/no parameters are passed in a groupby (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8015">GH8015</a>)</li>
<li>Bug in packaging pandas with <code class="docutils literal"><span class="pre">py2app/cx_Freeze</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8602">GH8602</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8831">GH8831</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby</span></code> signatures that didn&#8217;t include *args or **kwargs (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8733">GH8733</a>).</li>
<li><code class="docutils literal"><span class="pre">io.data.Options</span></code> now raises <code class="docutils literal"><span class="pre">RemoteDataError</span></code> when no expiry dates are available from Yahoo and when it receives no data from Yahoo (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8761">GH8761</a>), (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8783">GH8783</a>).</li>
<li>Unclear error message in csv parsing when passing dtype and names and the parsed data is a different data type (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8833">GH8833</a>)</li>
<li>Bug in slicing a multi-index with an empty list and at least one boolean indexer (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8781">GH8781</a>)</li>
<li><code class="docutils literal"><span class="pre">io.data.Options</span></code> now raises <code class="docutils literal"><span class="pre">RemoteDataError</span></code> when no expiry dates are available from Yahoo (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8761">GH8761</a>).</li>
<li><code class="docutils literal"><span class="pre">Timedelta</span></code> kwargs may now be numpy ints and floats (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8757">GH8757</a>).</li>
<li>Fixed several outstanding bugs for <code class="docutils literal"><span class="pre">Timedelta</span></code> arithmetic and comparisons (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8813">GH8813</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5963">GH5963</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5436">GH5436</a>).</li>
<li><code class="docutils literal"><span class="pre">sql_schema</span></code> now generates dialect appropriate <code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code> statements (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8697">GH8697</a>)</li>
<li><code class="docutils literal"><span class="pre">slice</span></code> string method now takes step into account (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8754">GH8754</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">BlockManager</span></code> where setting values with different type would break block integrity (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8850">GH8850</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> when using <code class="docutils literal"><span class="pre">time</span></code> object as key (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8667">GH8667</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">merge</span></code> where <code class="docutils literal"><span class="pre">how='left'</span></code> and <code class="docutils literal"><span class="pre">sort=False</span></code> would not preserve left frame order (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7331">GH7331</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">MultiIndex.reindex</span></code> where reindexing at level would not reorder labels (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4088">GH4088</a>)</li>
<li>Bug in certain operations with dateutil timezones, manifesting with dateutil 2.3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8639">GH8639</a>)</li>
<li>Regression in DatetimeIndex iteration with a Fixed/Local offset timezone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8890">GH8890</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_datetime</span></code> when parsing a nanoseconds using the <code class="docutils literal"><span class="pre">%f</span></code> format (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8989">GH8989</a>)</li>
<li><code class="docutils literal"><span class="pre">io.data.Options</span></code> now raises <code class="docutils literal"><span class="pre">RemoteDataError</span></code> when no expiry dates are available from Yahoo and when it receives no data from Yahoo (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8761">GH8761</a>), (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8783">GH8783</a>).</li>
<li>Fix: The font size was only set on x axis if vertical or the y axis if horizontal. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8765">GH8765</a>)</li>
<li>Fixed division by 0 when reading big csv files in python 3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8621">GH8621</a>)</li>
<li>Bug in outputing a Multindex with <code class="docutils literal"><span class="pre">to_html,index=False</span></code> which would add an extra column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8452">GH8452</a>)</li>
<li>Imported categorical variables from Stata files retain the ordinal information in the underlying data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8836">GH8836</a>).</li>
<li>Defined <code class="docutils literal"><span class="pre">.size</span></code> attribute across <code class="docutils literal"><span class="pre">NDFrame</span></code> objects to provide compat with numpy &gt;= 1.9.1; buggy with <code class="docutils literal"><span class="pre">np.array_split</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8846">GH8846</a>)</li>
<li>Skip testing of histogram plots for matplotlib &lt;= 1.2 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8648">GH8648</a>).</li>
<li>Bug where <code class="docutils literal"><span class="pre">get_data_google</span></code> returned object dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3995">GH3995</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.stack(...,</span> <span class="pre">dropna=False)</span></code> when the DataFrame&#8217;s <code class="docutils literal"><span class="pre">columns</span></code> is a <code class="docutils literal"><span class="pre">MultiIndex</span></code>
whose <code class="docutils literal"><span class="pre">labels</span></code> do not reference all its <code class="docutils literal"><span class="pre">levels</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8844">GH8844</a>)</li>
<li>Bug in that Option context applied on <code class="docutils literal"><span class="pre">__enter__</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8514">GH8514</a>)</li>
<li>Bug in resample that causes a ValueError when resampling across multiple days
and the last offset is not calculated from the start of the range (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8683">GH8683</a>)</li>
<li>Bug where <code class="docutils literal"><span class="pre">DataFrame.plot(kind='scatter')</span></code> fails when checking if an np.array is in the DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8852">GH8852</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.infer_freq/DataFrame.inferred_freq</span></code> that prevented proper sub-daily frequency inference when the index contained DST days (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8772">GH8772</a>).</li>
<li>Bug where index name was still used when plotting a series with <code class="docutils literal"><span class="pre">use_index=False</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8558">GH8558</a>).</li>
<li>Bugs when trying to stack multiple columns, when some (or all) of the level names are numbers (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8584">GH8584</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">MultiIndex</span></code> where <code class="docutils literal"><span class="pre">__contains__</span></code> returns wrong result if index is not lexically sorted or unique (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7724">GH7724</a>)</li>
<li>BUG CSV: fix problem with trailing whitespace in skipped rows, (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8679">GH8679</a>), (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8661">GH8661</a>), (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8983">GH8983</a>)</li>
<li>Regression in <code class="docutils literal"><span class="pre">Timestamp</span></code> does not parse &#8216;Z&#8217; zone designator for UTC (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8771">GH8771</a>)</li>
<li>Bug in <cite>StataWriter</cite> the produces writes strings with 244 characters irrespective of actual size (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8969">GH8969</a>)</li>
<li>Fixed ValueError raised by cummin/cummax when datetime64 Series contains NaT. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8965">GH8965</a>)</li>
<li>Bug in Datareader returns object dtype if there are missing values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8980">GH8980</a>)</li>
<li>Bug in plotting if sharex was enabled and index was a timeseries, would show labels on multiple axes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3964">GH3964</a>).</li>
<li>Bug where passing a unit to the TimedeltaIndex constructor applied the to nano-second conversion twice. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9011">GH9011</a>).</li>
<li>Bug in plotting of a period-like array (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/9012">GH9012</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v0-15-1-november-9-2014">
<span id="whatsnew-0151"></span><h2>v0.15.1 (November 9, 2014)<a class="headerlink" href="#v0-15-1-november-9-2014" title="Permalink to this headline">¶</a></h2>
<p>This is a minor bug-fix release from 0.15.0 and includes a small number of API changes, several new features,
enhancements, and performance improvements along with a large number of bug fixes. We recommend that all
users upgrade to this version.</p>
<ul class="simple">
<li><a class="reference internal" href="#whatsnew-0151-enhancements"><span class="std std-ref">Enhancements</span></a></li>
<li><a class="reference internal" href="#whatsnew-0151-api"><span class="std std-ref">API Changes</span></a></li>
<li><a class="reference internal" href="#whatsnew-0151-bug-fixes"><span class="std std-ref">Bug Fixes</span></a></li>
</ul>
<div class="section" id="whatsnew-0151-api">
<span id="id62"></span><h3>API changes<a class="headerlink" href="#whatsnew-0151-api" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">s.dt.hour</span></code> and other <code class="docutils literal"><span class="pre">.dt</span></code> accessors will now return <code class="docutils literal"><span class="pre">np.nan</span></code> for missing values (rather than previously -1), (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8689">GH8689</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">))</span>

<span class="gp">In [2]: </span><span class="n">s</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [3]: </span><span class="n">s</span>
<span class="gr">Out[3]: </span>
<span class="go">0   2013-01-01</span>
<span class="go">1   2013-01-02</span>
<span class="go">2          NaT</span>
<span class="go">3   2013-01-04</span>
<span class="go">4   2013-01-05</span>
<span class="go">dtype: datetime64[ns]</span>
</pre></div>
</div>
<p>previous behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">hour</span>
<span class="go">Out[6]:</span>
<span class="go">0    0</span>
<span class="go">1    0</span>
<span class="go">2   -1</span>
<span class="go">3    0</span>
<span class="go">4    0</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>current behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">hour</span>
<span class="gr">Out[4]: </span>
<span class="go">0    0.0</span>
<span class="go">1    0.0</span>
<span class="go">2    NaN</span>
<span class="go">3    0.0</span>
<span class="go">4    0.0</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">groupby</span></code> with <code class="docutils literal"><span class="pre">as_index=False</span></code> will not add erroneous extra columns to
result (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8582">GH8582</a>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">2718281</span><span class="p">)</span>

<span class="gp">In [6]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span>
<span class="gp">   ...:</span>                   <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;jim&#39;</span><span class="p">,</span> <span class="s1">&#39;joe&#39;</span><span class="p">])</span>
<span class="gp">   ...:</span> 

<span class="gp">In [7]: </span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gr">Out[7]: </span>
<span class="go">   jim  joe</span>
<span class="go">0   61   81</span>
<span class="go">1   96   49</span>
<span class="go">2   55   65</span>
<span class="go">3   72   51</span>
<span class="go">4   77   12</span>

<span class="gp">In [8]: </span><span class="n">ts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<p>previous behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="go">Out[4]:</span>
<span class="go">   NaN  jim  joe</span>
<span class="go">0    0   72   83</span>
<span class="go">1    5   77   84</span>
<span class="go">2   10   96   65</span>
</pre></div>
</div>
<p>current behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="gr">Out[9]: </span>
<span class="go">   jim  joe</span>
<span class="go">0   72   83</span>
<span class="go">1   77   84</span>
<span class="go">2   96   65</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">groupby</span></code> will not erroneously exclude columns if the column name conflics
with the grouper name (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8112">GH8112</a>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [10]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;jim&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="s1">&#39;joe&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)})</span>

<span class="gp">In [11]: </span><span class="n">df</span>
<span class="gr">Out[11]: </span>
<span class="go">   jim  joe</span>
<span class="go">0    0    5</span>
<span class="go">1    1    6</span>
<span class="go">2    2    7</span>
<span class="go">3    3    8</span>
<span class="go">4    4    9</span>

<span class="gp">In [12]: </span><span class="n">gr</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;jim&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>previous behavior (excludes 1st column from output):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">gr</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">sum</span><span class="p">)</span>
<span class="go">Out[4]:</span>
<span class="go">       joe</span>
<span class="go">jim</span>
<span class="go">False   24</span>
<span class="go">True    11</span>
</pre></div>
</div>
<p>current behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="n">gr</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">sum</span><span class="p">)</span>
<span class="gr">Out[13]: </span>
<span class="go">       jim  joe</span>
<span class="go">jim            </span>
<span class="go">False    9   24</span>
<span class="go">True     1   11</span>
</pre></div>
</div>
</li>
<li><p class="first">Support for slicing with monotonic decreasing indexes, even if <code class="docutils literal"><span class="pre">start</span></code> or <code class="docutils literal"><span class="pre">stop</span></code> is
not found in the index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7860">GH7860</a>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [14]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [15]: </span><span class="n">s</span>
<span class="gr">Out[15]: </span>
<span class="go">4    a</span>
<span class="go">3    b</span>
<span class="go">2    c</span>
<span class="go">1    d</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>previous behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mf">3.5</span><span class="p">:</span><span class="mf">1.5</span><span class="p">]</span>
<span class="go">KeyError: 3.5</span>
</pre></div>
</div>
<p>current behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mf">3.5</span><span class="p">:</span><span class="mf">1.5</span><span class="p">]</span>
<span class="gr">Out[16]: </span>
<span class="go">3    b</span>
<span class="go">2    c</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">io.data.Options</span></code> has been fixed for a change in the format of the Yahoo Options page (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8612">GH8612</a>), (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8741">GH8741</a>)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As a result of a change in Yahoo&#8217;s option page layout, when an expiry date is given,
<code class="docutils literal"><span class="pre">Options</span></code> methods now return data for a single expiry date.  Previously, methods returned all
data for the selected month.</p>
</div>
<p>The <code class="docutils literal"><span class="pre">month</span></code> and <code class="docutils literal"><span class="pre">year</span></code> parameters have been undeprecated and can be used to get all
options data for a given month.</p>
<p>If an expiry date that is not valid is given, data for the next expiry after the given
date is returned.</p>
<p>Option data frames are now saved on the instance as <code class="docutils literal"><span class="pre">callsYYMMDD</span></code> or <code class="docutils literal"><span class="pre">putsYYMMDD</span></code>.  Previously
they were saved as <code class="docutils literal"><span class="pre">callsMMYY</span></code> and <code class="docutils literal"><span class="pre">putsMMYY</span></code>.  The next expiry is saved as <code class="docutils literal"><span class="pre">calls</span></code> and <code class="docutils literal"><span class="pre">puts</span></code>.</p>
<p>New features:</p>
<ul class="simple">
<li>The expiry parameter can now be a single date or a list-like object containing dates.</li>
<li>A new property <code class="docutils literal"><span class="pre">expiry_dates</span></code> was added, which returns all available expiry dates.</li>
</ul>
<p>Current behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="kn">from</span> <span class="nn">pandas.io.data</span> <span class="kn">import</span> <span class="n">Options</span>

<span class="gp">In [18]: </span><span class="n">aapl</span> <span class="o">=</span> <span class="n">Options</span><span class="p">(</span><span class="s1">&#39;aapl&#39;</span><span class="p">,</span><span class="s1">&#39;yahoo&#39;</span><span class="p">)</span>

<span class="gp">In [19]: </span><span class="n">aapl</span><span class="o">.</span><span class="n">get_call_data</span><span class="p">()</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span>
<span class="go">Out[19]:</span>
<span class="go">                                             Last</span>
<span class="go">Strike Expiry     Type Symbol</span>
<span class="go">80     2014-11-14 call AAPL141114C00080000  29.05</span>
<span class="go">84     2014-11-14 call AAPL141114C00084000  24.80</span>
<span class="go">85     2014-11-14 call AAPL141114C00085000  24.05</span>
<span class="go">86     2014-11-14 call AAPL141114C00086000  22.76</span>
<span class="go">87     2014-11-14 call AAPL141114C00087000  21.74</span>

<span class="gp">In [20]: </span><span class="n">aapl</span><span class="o">.</span><span class="n">expiry_dates</span>
<span class="go">Out[20]:</span>
<span class="go">[datetime.date(2014, 11, 14),</span>
<span class="go"> datetime.date(2014, 11, 22),</span>
<span class="go"> datetime.date(2014, 11, 28),</span>
<span class="go"> datetime.date(2014, 12, 5),</span>
<span class="go"> datetime.date(2014, 12, 12),</span>
<span class="go"> datetime.date(2014, 12, 20),</span>
<span class="go"> datetime.date(2015, 1, 17),</span>
<span class="go"> datetime.date(2015, 2, 20),</span>
<span class="go"> datetime.date(2015, 4, 17),</span>
<span class="go"> datetime.date(2015, 7, 17),</span>
<span class="go"> datetime.date(2016, 1, 15),</span>
<span class="go"> datetime.date(2017, 1, 20)]</span>

<span class="gp">In [21]: </span><span class="n">aapl</span><span class="o">.</span><span class="n">get_near_stock_price</span><span class="p">(</span><span class="n">expiry</span><span class="o">=</span><span class="n">aapl</span><span class="o">.</span><span class="n">expiry_dates</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span>
<span class="go">Out[21]:</span>
<span class="go">                                            Last</span>
<span class="go">Strike Expiry     Type Symbol</span>
<span class="go">109    2014-11-22 call AAPL141122C00109000  1.48</span>
<span class="go">       2014-11-28 call AAPL141128C00109000  1.79</span>
<span class="go">110    2014-11-14 call AAPL141114C00110000  0.55</span>
<span class="go">       2014-11-22 call AAPL141122C00110000  1.02</span>
<span class="go">       2014-11-28 call AAPL141128C00110000  1.32</span>
</pre></div>
</div>
</li>
</ul>
<ul class="simple" id="whatsnew-0151-datetime64-plotting">
<li>pandas now also registers the <code class="docutils literal"><span class="pre">datetime64</span></code> dtype in matplotlib&#8217;s units registry
to plot such values as datetimes. This is activated once pandas is imported. In
previous versions, plotting an array of <code class="docutils literal"><span class="pre">datetime64</span></code> values will have resulted
in plotted integer values. To keep the previous behaviour, you can do
<code class="docutils literal"><span class="pre">del</span> <span class="pre">matplotlib.units.registry[np.datetime64]</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8614">GH8614</a>).</li>
</ul>
</div>
<div class="section" id="whatsnew-0151-enhancements">
<span id="id63"></span><h3>Enhancements<a class="headerlink" href="#whatsnew-0151-enhancements" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">concat</span></code> permits a wider variety of iterables of pandas objects to be
passed as the first parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8645">GH8645</a>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>

<span class="gp">In [18]: </span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

<span class="gp">In [19]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
</pre></div>
</div>
<p>previous behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">deque</span><span class="p">((</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">)))</span>
<span class="go">TypeError: first argument must be a list-like of pandas objects, you passed an object of type &quot;deque&quot;</span>
</pre></div>
</div>
<p>current behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [20]: </span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">deque</span><span class="p">((</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">)))</span>
<span class="gr">Out[20]: </span>
<span class="go">   0</span>
<span class="go">0  1</span>
<span class="go">1  2</span>
<span class="go">2  3</span>
<span class="go">0  4</span>
<span class="go">1  5</span>
<span class="go">2  6</span>
</pre></div>
</div>
</li>
<li><p class="first">Represent <code class="docutils literal"><span class="pre">MultiIndex</span></code> labels with a dtype that utilizes memory based on the level size. In prior versions, the memory usage was a constant 8 bytes per element in each level. In addition, in prior versions, the <em>reported</em> memory usage was incorrect as it didn&#8217;t show the usage for the memory occupied by the underling data array. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8456">GH8456</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [21]: </span><span class="n">dfi</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([[</span><span class="s1">&#39;a&#39;</span><span class="p">],</span><span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)]),</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>previous behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># this was underreported in prior versions</span>
<span class="gp">In [1]: </span><span class="n">dfi</span><span class="o">.</span><span class="n">memory_usage</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Out[1]:</span>
<span class="go">Index    8000 # took about 24008 bytes in &lt; 0.15.1</span>
<span class="go">A        8000</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>current behavior:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [22]: </span><span class="n">dfi</span><span class="o">.</span><span class="n">memory_usage</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[22]: </span>
<span class="go">Index    11040</span>
<span class="go">A         8000</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</li>
<li><p class="first">Added Index properties <cite>is_monotonic_increasing</cite> and <cite>is_monotonic_decreasing</cite> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8680">GH8680</a>).</p>
</li>
<li><p class="first">Added option to select columns when importing Stata files (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7935">GH7935</a>)</p>
</li>
<li><p class="first">Qualify memory usage in <code class="docutils literal"><span class="pre">DataFrame.info()</span></code> by adding <code class="docutils literal"><span class="pre">+</span></code> if it is a lower bound (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8578">GH8578</a>)</p>
</li>
<li><p class="first">Raise errors in certain aggregation cases where an argument such as <code class="docutils literal"><span class="pre">numeric_only</span></code> is not handled (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8592">GH8592</a>).</p>
</li>
<li><p class="first">Added support for 3-character ISO and non-standard country codes in <code class="xref py py-func docutils literal"><span class="pre">io.wb.download()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8482">GH8482</a>)</p>
</li>
<li><p class="first">World Bank data requests now will warn/raise based
on an <code class="docutils literal"><span class="pre">errors</span></code> argument, as well as a list of hard-coded country codes and
the World Bank&#8217;s JSON response.  In prior versions, the error messages
didn&#8217;t look at the World Bank&#8217;s JSON response.  Problem-inducing input were
simply dropped prior to the request. The issue was that many good countries
were cropped in the hard-coded approach.  All countries will work now, but
some bad countries will raise exceptions because some edge cases break the
entire response. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8482">GH8482</a>)</p>
</li>
<li><p class="first">Added option to <code class="docutils literal"><span class="pre">Series.str.split()</span></code> to return a <code class="docutils literal"><span class="pre">DataFrame</span></code> rather than a <code class="docutils literal"><span class="pre">Series</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8428">GH8428</a>)</p>
</li>
<li><p class="first">Added option to <code class="docutils literal"><span class="pre">df.info(null_counts=None|True|False)</span></code> to override the default display options and force showing of the null-counts (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8701">GH8701</a>)</p>
</li>
</ul>
</div>
<div class="section" id="whatsnew-0151-bug-fixes">
<span id="id64"></span><h3>Bug Fixes<a class="headerlink" href="#whatsnew-0151-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Bug in unpickling  of a <code class="docutils literal"><span class="pre">CustomBusinessDay</span></code> object (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8591">GH8591</a>)</li>
<li>Bug in coercing <code class="docutils literal"><span class="pre">Categorical</span></code> to a records array, e.g. <code class="docutils literal"><span class="pre">df.to_records()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8626">GH8626</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Categorical</span></code> not created properly with <code class="docutils literal"><span class="pre">Series.to_frame()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8626">GH8626</a>)</li>
<li>Bug in coercing in astype of a <code class="docutils literal"><span class="pre">Categorical</span></code> of a passed <code class="docutils literal"><span class="pre">pd.Categorical</span></code> (this now raises <code class="docutils literal"><span class="pre">TypeError</span></code> correctly), (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8626">GH8626</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">cut</span></code>/<code class="docutils literal"><span class="pre">qcut</span></code> when using <code class="docutils literal"><span class="pre">Series</span></code> and <code class="docutils literal"><span class="pre">retbins=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8589">GH8589</a>)</li>
<li>Bug in writing Categorical columns to an SQL database with <code class="docutils literal"><span class="pre">to_sql</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8624">GH8624</a>).</li>
<li>Bug in comparing <code class="docutils literal"><span class="pre">Categorical</span></code> of datetime raising when being compared to a scalar datetime (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8687">GH8687</a>)</li>
<li>Bug in selecting from a <code class="docutils literal"><span class="pre">Categorical</span></code> with <code class="docutils literal"><span class="pre">.iloc</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8623">GH8623</a>)</li>
<li>Bug in groupby-transform with a Categorical (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8623">GH8623</a>)</li>
<li>Bug in duplicated/drop_duplicates with a Categorical (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8623">GH8623</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Categorical</span></code> reflected comparison operator raising if the first argument was a numpy array scalar (e.g. np.int64) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8658">GH8658</a>)</li>
<li>Bug in Panel indexing with a list-like (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8710">GH8710</a>)</li>
<li>Compat issue is <code class="docutils literal"><span class="pre">DataFrame.dtypes</span></code> when <code class="docutils literal"><span class="pre">options.mode.use_inf_as_null</span></code> is True (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8722">GH8722</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_csv</span></code>, <code class="docutils literal"><span class="pre">dialect</span></code> parameter would not take a string (:issue: <cite>8703</cite>)</li>
<li>Bug in slicing a multi-index level with an empty-list (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8737">GH8737</a>)</li>
<li>Bug in numeric index operations of add/sub with Float/Index Index with numpy arrays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8608">GH8608</a>)</li>
<li>Bug in setitem with empty indexer and unwanted coercion of dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8669">GH8669</a>)</li>
<li>Bug in ix/loc block splitting on setitem (manifests with integer-like dtypes, e.g. datetime64) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8607">GH8607</a>)</li>
<li>Bug when doing label based indexing with integers not found in the index for
non-unique but monotonic indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8680">GH8680</a>).</li>
<li>Bug when indexing a Float64Index with <code class="docutils literal"><span class="pre">np.nan</span></code> on numpy 1.7 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8980">GH8980</a>).</li>
<li>Fix <code class="docutils literal"><span class="pre">shape</span></code> attribute for <code class="docutils literal"><span class="pre">MultiIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8609">GH8609</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">GroupBy</span></code> where a name conflict between the grouper and columns
would break <code class="docutils literal"><span class="pre">groupby</span></code> operations (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7115">GH7115</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8112">GH8112</a>)</li>
<li>Fixed a bug where plotting a column <code class="docutils literal"><span class="pre">y</span></code> and specifying a label would mutate the index name of the original DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8494">GH8494</a>)</li>
<li>Fix regression in plotting of a DatetimeIndex directly with matplotlib (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8614">GH8614</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">date_range</span></code> where partially-specified dates would incorporate current date (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6961">GH6961</a>)</li>
<li>Bug in Setting by indexer to a scalar value with a mixed-dtype <cite>Panel4d</cite> was failing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8702">GH8702</a>)</li>
<li>Bug where <code class="docutils literal"><span class="pre">DataReader</span></code>&#8216;s would fail if one of the symbols passed was invalid.  Now returns data for valid symbols and np.nan for invalid (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8494">GH8494</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">get_quote_yahoo</span></code> that wouldn&#8217;t allow non-float return values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5229">GH5229</a>).</li>
</ul>
</div>
</div>
<div class="section" id="v0-15-0-october-18-2014">
<span id="whatsnew-0150"></span><h2>v0.15.0 (October 18, 2014)<a class="headerlink" href="#v0-15-0-october-18-2014" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.14.1 and includes a small number of API changes, several new features,
enhancements, and performance improvements along with a large number of bug fixes. We recommend that all
users upgrade to this version.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">pandas &gt;= 0.15.0 will no longer support compatibility with NumPy versions &lt;
1.7.0. If you want to use the latest versions of pandas, please upgrade to
NumPy &gt;= 1.7.0 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7711">GH7711</a>)</p>
</div>
<ul class="simple">
<li>Highlights include:<ul>
<li>The <code class="docutils literal"><span class="pre">Categorical</span></code> type was integrated as a first-class pandas type, see <a class="reference internal" href="#whatsnew-0150-cat"><span class="std std-ref">here</span></a></li>
<li>New scalar type <code class="docutils literal"><span class="pre">Timedelta</span></code>, and a new index type <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code>, see <a class="reference internal" href="#whatsnew-0150-timedeltaindex"><span class="std std-ref">here</span></a></li>
<li>New datetimelike properties accessor <code class="docutils literal"><span class="pre">.dt</span></code> for Series, see <a class="reference internal" href="#whatsnew-0150-dt"><span class="std std-ref">Datetimelike Properties</span></a></li>
<li>New DataFrame default display for <code class="docutils literal"><span class="pre">df.info()</span></code> to include memory usage, see <a class="reference internal" href="#whatsnew-0150-memory"><span class="std std-ref">Memory Usage</span></a></li>
<li><code class="docutils literal"><span class="pre">read_csv</span></code> will now by default ignore blank lines when parsing, see <a class="reference internal" href="#whatsnew-0150-blanklines"><span class="std std-ref">here</span></a></li>
<li>API change in using Indexes in set operations, see <a class="reference internal" href="#whatsnew-0150-index-set-ops"><span class="std std-ref">here</span></a></li>
<li>Enhancements in the handling of timezones, see <a class="reference internal" href="#whatsnew-0150-tz"><span class="std std-ref">here</span></a></li>
<li>A lot of improvements to the rolling and expanding moment funtions, see <a class="reference internal" href="#whatsnew-0150-roll"><span class="std std-ref">here</span></a></li>
<li>Internal refactoring of the <code class="docutils literal"><span class="pre">Index</span></code> class to no longer sub-class <code class="docutils literal"><span class="pre">ndarray</span></code>, see <a class="reference internal" href="#whatsnew-0150-refactoring"><span class="std std-ref">Internal Refactoring</span></a></li>
<li>dropping support for <code class="docutils literal"><span class="pre">PyTables</span></code> less than version 3.0.0, and <code class="docutils literal"><span class="pre">numexpr</span></code> less than version 2.1 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7990">GH7990</a>)</li>
<li>Split indexing documentation into <a class="reference internal" href="indexing.html#indexing"><span class="std std-ref">Indexing and Selecting Data</span></a> and <a class="reference internal" href="advanced.html#advanced"><span class="std std-ref">MultiIndex / Advanced Indexing</span></a></li>
<li>Split out string methods documentation into <a class="reference internal" href="text.html#text"><span class="std std-ref">Working with Text Data</span></a></li>
</ul>
</li>
<li>Check the <a class="reference internal" href="#whatsnew-0150-api"><span class="std std-ref">API Changes</span></a> and <a class="reference internal" href="#whatsnew-0150-deprecations"><span class="std std-ref">deprecations</span></a> before updating</li>
<li><a class="reference internal" href="#whatsnew-0150-enhancements"><span class="std std-ref">Other Enhancements</span></a></li>
<li><a class="reference internal" href="#whatsnew-0150-performance"><span class="std std-ref">Performance Improvements</span></a></li>
<li><a class="reference internal" href="#whatsnew-0150-bug-fixes"><span class="std std-ref">Bug Fixes</span></a></li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In 0.15.0 <code class="docutils literal"><span class="pre">Index</span></code> has internally been refactored to no longer sub-class <code class="docutils literal"><span class="pre">ndarray</span></code>
but instead subclass <code class="docutils literal"><span class="pre">PandasObject</span></code>, similarly to the rest of the pandas objects. This change allows very easy sub-classing and creation of new index types. This should be
a transparent change with only very limited API implications (See the <a class="reference internal" href="#whatsnew-0150-refactoring"><span class="std std-ref">Internal Refactoring</span></a>)</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The refactorings in <a class="reference internal" href="generated/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal"><span class="pre">Categorical</span></code></a> changed the two argument constructor from
&#8220;codes/labels and levels&#8221; to &#8220;values and levels (now called &#8216;categories&#8217;)&#8221;. This can lead to subtle bugs. If you use
<a class="reference internal" href="generated/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal"><span class="pre">Categorical</span></code></a> directly, please audit your code before updating to this pandas
version and change it to use the <a class="reference internal" href="generated/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes" title="pandas.Categorical.from_codes"><code class="xref py py-meth docutils literal"><span class="pre">from_codes()</span></code></a> constructor. See more on <code class="docutils literal"><span class="pre">Categorical</span></code> <a class="reference internal" href="#whatsnew-0150-cat"><span class="std std-ref">here</span></a></p>
</div>
<div class="section" id="id65">
<h3>New features<a class="headerlink" href="#id65" title="Permalink to this headline">¶</a></h3>
<div class="section" id="categoricals-in-series-dataframe">
<span id="whatsnew-0150-cat"></span><h4>Categoricals in Series/DataFrame<a class="headerlink" href="#categoricals-in-series-dataframe" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="generated/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal"><span class="pre">Categorical</span></code></a> can now be included in <cite>Series</cite> and <cite>DataFrames</cite> and gained new
methods to manipulate. Thanks to Jan Schulz for much of this API/implementation. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3943">GH3943</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5313">GH5313</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5314">GH5314</a>,
<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7444">GH7444</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7839">GH7839</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7848">GH7848</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7864">GH7864</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7914">GH7914</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7768">GH7768</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8006">GH8006</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3678">GH3678</a>,
<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8075">GH8075</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8076">GH8076</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8143">GH8143</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8453">GH8453</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8518">GH8518</a>).</p>
<p>For full docs, see the <a class="reference internal" href="categorical.html#categorical"><span class="std std-ref">categorical introduction</span></a> and the
<a class="reference internal" href="api.html#api-categorical"><span class="std std-ref">API documentation</span></a>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;id&quot;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="s2">&quot;raw_grade&quot;</span><span class="p">:[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">]})</span>

<span class="gp">In [2]: </span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;grade&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;raw_grade&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;grade&quot;</span><span class="p">]</span>
<span class="gr">Out[3]: </span>
<span class="go">0    a</span>
<span class="go">1    b</span>
<span class="go">2    b</span>
<span class="go">3    a</span>
<span class="go">4    a</span>
<span class="go">5    e</span>
<span class="go">Name: grade, dtype: category</span>
<span class="go">Categories (3, object): [a, b, e]</span>

<span class="c"># Rename the categories</span>
<span class="gp">In [4]: </span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;grade&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;very good&quot;</span><span class="p">,</span> <span class="s2">&quot;good&quot;</span><span class="p">,</span> <span class="s2">&quot;very bad&quot;</span><span class="p">]</span>

<span class="c"># Reorder the categories and simultaneously add the missing categories</span>
<span class="gp">In [5]: </span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;grade&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;grade&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">set_categories</span><span class="p">([</span><span class="s2">&quot;very bad&quot;</span><span class="p">,</span> <span class="s2">&quot;bad&quot;</span><span class="p">,</span> <span class="s2">&quot;medium&quot;</span><span class="p">,</span> <span class="s2">&quot;good&quot;</span><span class="p">,</span> <span class="s2">&quot;very good&quot;</span><span class="p">])</span>

<span class="gp">In [6]: </span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;grade&quot;</span><span class="p">]</span>
<span class="gr">Out[6]: </span>
<span class="go">0    very good</span>
<span class="go">1         good</span>
<span class="go">2         good</span>
<span class="go">3    very good</span>
<span class="go">4    very good</span>
<span class="go">5     very bad</span>
<span class="go">Name: grade, dtype: category</span>
<span class="go">Categories (5, object): [very bad, bad, medium, good, very good]</span>

<span class="gp">In [7]: </span><span class="n">df</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s2">&quot;grade&quot;</span><span class="p">)</span>
<span class="gr">Out[7]: </span>
<span class="go">   id raw_grade      grade</span>
<span class="go">5   6         e   very bad</span>
<span class="go">1   2         b       good</span>
<span class="go">2   3         b       good</span>
<span class="go">0   1         a  very good</span>
<span class="go">3   4         a  very good</span>
<span class="go">4   5         a  very good</span>

<span class="gp">In [8]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;grade&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
<span class="gr">Out[8]: </span>
<span class="go">grade</span>
<span class="go">very bad     1</span>
<span class="go">bad          0</span>
<span class="go">medium       0</span>
<span class="go">good         2</span>
<span class="go">very good    3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">pandas.core.group_agg</span></code> and <code class="docutils literal"><span class="pre">pandas.core.factor_agg</span></code> were removed. As an alternative, construct
a dataframe and use <code class="docutils literal"><span class="pre">df.groupby(&lt;group&gt;).agg(&lt;func&gt;)</span></code>.</li>
<li>Supplying &#8220;codes/labels and levels&#8221; to the <a class="reference internal" href="generated/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal"><span class="pre">Categorical</span></code></a> constructor is not
supported anymore. Supplying two arguments to the constructor is now interpreted as
&#8220;values and levels (now called &#8216;categories&#8217;)&#8221;. Please change your code to use the <a class="reference internal" href="generated/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes" title="pandas.Categorical.from_codes"><code class="xref py py-meth docutils literal"><span class="pre">from_codes()</span></code></a>
constructor.</li>
<li>The <code class="docutils literal"><span class="pre">Categorical.labels</span></code> attribute was renamed to <code class="docutils literal"><span class="pre">Categorical.codes</span></code> and is read
only. If you want to manipulate codes, please use one of the
<a class="reference internal" href="api.html#api-categorical"><span class="std std-ref">API methods on Categoricals</span></a>.</li>
<li>The <code class="docutils literal"><span class="pre">Categorical.levels</span></code> attribute is renamed to <code class="docutils literal"><span class="pre">Categorical.categories</span></code>.</li>
</ul>
</div>
<div class="section" id="timedeltaindex-scalar">
<span id="whatsnew-0150-timedeltaindex"></span><h4>TimedeltaIndex/Scalar<a class="headerlink" href="#timedeltaindex-scalar" title="Permalink to this headline">¶</a></h4>
<p>We introduce a new scalar type <code class="docutils literal"><span class="pre">Timedelta</span></code>, which is a subclass of <code class="docutils literal"><span class="pre">datetime.timedelta</span></code>, and behaves in a similar manner,
but allows compatibility with <code class="docutils literal"><span class="pre">np.timedelta64</span></code> types as well as a host of custom representation, parsing, and attributes.
This type is very similar to how <code class="docutils literal"><span class="pre">Timestamp</span></code> works for <code class="docutils literal"><span class="pre">datetimes</span></code>. It is a nice-API box for the type. See the <a class="reference internal" href="timedeltas.html#timedeltas-timedeltas"><span class="std std-ref">docs</span></a>.
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3009">GH3009</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4533">GH4533</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8209">GH8209</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8187">GH8187</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8190">GH8190</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7869">GH7869</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7661">GH7661</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8345">GH8345</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8471">GH8471</a>)</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p><code class="docutils literal"><span class="pre">Timedelta</span></code> scalars (and <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code>) component fields are <em>not the same</em> as the component fields on a <code class="docutils literal"><span class="pre">datetime.timedelta</span></code> object. For example, <code class="docutils literal"><span class="pre">.seconds</span></code> on a <code class="docutils literal"><span class="pre">datetime.timedelta</span></code> object returns the total number of seconds combined between <code class="docutils literal"><span class="pre">hours</span></code>, <code class="docutils literal"><span class="pre">minutes</span></code> and <code class="docutils literal"><span class="pre">seconds</span></code>. In contrast, the pandas <code class="docutils literal"><span class="pre">Timedelta</span></code> breaks out hours, minutes, microseconds and nanoseconds separately.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># Timedelta accessor</span>
<span class="gp">In [9]: </span><span class="n">tds</span> <span class="o">=</span> <span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;31 days 5 min 3 sec&#39;</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">tds</span><span class="o">.</span><span class="n">minutes</span>
<span class="gr">Out[10]: </span><span class="il">5L</span>

<span class="gp">In [11]: </span><span class="n">tds</span><span class="o">.</span><span class="n">seconds</span>
<span class="gr">Out[11]: </span><span class="il">3L</span>

<span class="c"># datetime.timedelta accessor</span>
<span class="c"># this is 5 minutes * 60 + 3 seconds</span>
<span class="gp">In [12]: </span><span class="n">tds</span><span class="o">.</span><span class="n">to_pytimedelta</span><span class="p">()</span><span class="o">.</span><span class="n">seconds</span>
<span class="gr">Out[12]: </span><span class="mi">303</span>
</pre></div>
</div>
<p class="last"><strong>Note</strong>: this is no longer true starting from v0.16.0, where full
compatibility with <code class="docutils literal"><span class="pre">datetime.timedelta</span></code> is introduced. See the
<a class="reference internal" href="#whatsnew-0160-api-breaking-timedelta"><span class="std std-ref">0.16.0 whatsnew entry</span></a></p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Prior to 0.15.0 <code class="docutils literal"><span class="pre">pd.to_timedelta</span></code> would return a <code class="docutils literal"><span class="pre">Series</span></code> for list-like/Series input, and a <code class="docutils literal"><span class="pre">np.timedelta64</span></code> for scalar input.
It will now return a <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> for list-like input, <code class="docutils literal"><span class="pre">Series</span></code> for Series input, and <code class="docutils literal"><span class="pre">Timedelta</span></code> for scalar input.</p>
<p class="last">The arguments to <code class="docutils literal"><span class="pre">pd.to_timedelta</span></code> are now <code class="docutils literal"><span class="pre">(arg,unit='ns',box=True,coerce=False)</span></code>, previously were <code class="docutils literal"><span class="pre">(arg,box=True,unit='ns')</span></code> as these are more logical.</p>
</div>
<p>Consruct a scalar</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;1 days 06:05:01.00003&#39;</span><span class="p">)</span>
<span class="gr">Out[9]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;1 days 06:05:01.000030&#39;</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;15.5us&#39;</span><span class="p">)</span>
<span class="gr">Out[10]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;0 days 00:00:00.000015&#39;</span><span class="p">)</span>

<span class="gp">In [11]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;1 hour 15.5us&#39;</span><span class="p">)</span>
<span class="gr">Out[11]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;0 days 01:00:00.000015&#39;</span><span class="p">)</span>

<span class="c"># negative Timedeltas have this string repr</span>
<span class="c"># to be more consistent with datetime.timedelta conventions</span>
<span class="gp">In [12]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;-1us&#39;</span><span class="p">)</span>
<span class="gr">Out[12]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;-1 days +23:59:59.999999&#39;</span><span class="p">)</span>

<span class="c"># a NaT</span>
<span class="gp">In [13]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="gr">Out[13]: </span><span class="n">NaT</span>
</pre></div>
</div>
<p>Access fields for a <code class="docutils literal"><span class="pre">Timedelta</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [14]: </span><span class="n">td</span> <span class="o">=</span> <span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;1 hour 3m 15.5us&#39;</span><span class="p">)</span>

<span class="gp">In [15]: </span><span class="n">td</span><span class="o">.</span><span class="n">seconds</span>
<span class="gr">Out[15]: </span><span class="mi">3780</span>

<span class="gp">In [16]: </span><span class="n">td</span><span class="o">.</span><span class="n">microseconds</span>
<span class="gr">Out[16]: </span><span class="mi">15</span>

<span class="gp">In [17]: </span><span class="n">td</span><span class="o">.</span><span class="n">nanoseconds</span>
<span class="gr">Out[17]: </span><span class="mi">500</span>
</pre></div>
</div>
<p>Construct a <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [18]: </span><span class="n">TimedeltaIndex</span><span class="p">([</span><span class="s1">&#39;1 days&#39;</span><span class="p">,</span><span class="s1">&#39;1 days, 00:00:05&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>                 <span class="n">np</span><span class="o">.</span><span class="n">timedelta64</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">),</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">seconds</span><span class="o">=</span><span class="mi">2</span><span class="p">)])</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[18]: </span>
<span class="go">TimedeltaIndex([&#39;1 days 00:00:00&#39;, &#39;1 days 00:00:05&#39;, &#39;2 days 00:00:00&#39;,</span>
<span class="go">                &#39;2 days 00:00:02&#39;],</span>
<span class="go">               dtype=&#39;timedelta64[ns]&#39;, freq=None)</span>
</pre></div>
</div>
<p>Constructing a <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> with a regular range</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">timedelta_range</span><span class="p">(</span><span class="s1">&#39;1 days&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>
<span class="gr">Out[19]: </span><span class="n">TimedeltaIndex</span><span class="p">([</span><span class="s1">&#39;1 days&#39;</span><span class="p">,</span> <span class="s1">&#39;2 days&#39;</span><span class="p">,</span> <span class="s1">&#39;3 days&#39;</span><span class="p">,</span> <span class="s1">&#39;4 days&#39;</span><span class="p">,</span> <span class="s1">&#39;5 days&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;timedelta64[ns]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>

<span class="gp">In [20]: </span><span class="n">timedelta_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;1 days&#39;</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="s1">&#39;2 days&#39;</span><span class="p">,</span><span class="n">freq</span><span class="o">=</span><span class="s1">&#39;30T&#39;</span><span class="p">)</span>
<span class="gr">Out[20]: </span>
<span class="go">TimedeltaIndex([&#39;1 days 00:00:00&#39;, &#39;1 days 00:30:00&#39;, &#39;1 days 01:00:00&#39;,</span>
<span class="go">                &#39;1 days 01:30:00&#39;, &#39;1 days 02:00:00&#39;, &#39;1 days 02:30:00&#39;,</span>
<span class="go">                &#39;1 days 03:00:00&#39;, &#39;1 days 03:30:00&#39;, &#39;1 days 04:00:00&#39;,</span>
<span class="go">                &#39;1 days 04:30:00&#39;, &#39;1 days 05:00:00&#39;, &#39;1 days 05:30:00&#39;,</span>
<span class="go">                &#39;1 days 06:00:00&#39;, &#39;1 days 06:30:00&#39;, &#39;1 days 07:00:00&#39;,</span>
<span class="go">                &#39;1 days 07:30:00&#39;, &#39;1 days 08:00:00&#39;, &#39;1 days 08:30:00&#39;,</span>
<span class="go">                &#39;1 days 09:00:00&#39;, &#39;1 days 09:30:00&#39;, &#39;1 days 10:00:00&#39;,</span>
<span class="go">                &#39;1 days 10:30:00&#39;, &#39;1 days 11:00:00&#39;, &#39;1 days 11:30:00&#39;,</span>
<span class="go">                &#39;1 days 12:00:00&#39;, &#39;1 days 12:30:00&#39;, &#39;1 days 13:00:00&#39;,</span>
<span class="go">                &#39;1 days 13:30:00&#39;, &#39;1 days 14:00:00&#39;, &#39;1 days 14:30:00&#39;,</span>
<span class="go">                &#39;1 days 15:00:00&#39;, &#39;1 days 15:30:00&#39;, &#39;1 days 16:00:00&#39;,</span>
<span class="go">                &#39;1 days 16:30:00&#39;, &#39;1 days 17:00:00&#39;, &#39;1 days 17:30:00&#39;,</span>
<span class="go">                &#39;1 days 18:00:00&#39;, &#39;1 days 18:30:00&#39;, &#39;1 days 19:00:00&#39;,</span>
<span class="go">                &#39;1 days 19:30:00&#39;, &#39;1 days 20:00:00&#39;, &#39;1 days 20:30:00&#39;,</span>
<span class="go">                &#39;1 days 21:00:00&#39;, &#39;1 days 21:30:00&#39;, &#39;1 days 22:00:00&#39;,</span>
<span class="go">                &#39;1 days 22:30:00&#39;, &#39;1 days 23:00:00&#39;, &#39;1 days 23:30:00&#39;,</span>
<span class="go">                &#39;2 days 00:00:00&#39;],</span>
<span class="go">               dtype=&#39;timedelta64[ns]&#39;, freq=&#39;30T&#39;)</span>
</pre></div>
</div>
<p>You can now use a <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> as the index of a pandas object</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [21]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">   ....:</span>            <span class="n">index</span><span class="o">=</span><span class="n">timedelta_range</span><span class="p">(</span><span class="s1">&#39;1 days&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">freq</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">))</span>
<span class="gp">   ....:</span> 

<span class="gp">In [22]: </span><span class="n">s</span>
<span class="gr">Out[22]: </span>
<span class="go">1 days 00:00:00    0</span>
<span class="go">1 days 00:00:01    1</span>
<span class="go">1 days 00:00:02    2</span>
<span class="go">1 days 00:00:03    3</span>
<span class="go">1 days 00:00:04    4</span>
<span class="go">Freq: S, dtype: int64</span>
</pre></div>
</div>
<p>You can select with partial string selections</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [23]: </span><span class="n">s</span><span class="p">[</span><span class="s1">&#39;1 day 00:00:02&#39;</span><span class="p">]</span>
<span class="gr">Out[23]: </span><span class="mi">2</span>

<span class="gp">In [24]: </span><span class="n">s</span><span class="p">[</span><span class="s1">&#39;1 day&#39;</span><span class="p">:</span><span class="s1">&#39;1 day 00:00:02&#39;</span><span class="p">]</span>
<span class="gr">Out[24]: </span>
<span class="go">1 days 00:00:00    0</span>
<span class="go">1 days 00:00:01    1</span>
<span class="go">1 days 00:00:02    2</span>
<span class="go">Freq: S, dtype: int64</span>
</pre></div>
</div>
<p>Finally, the combination of <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> with <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> allow certain combination operations that are <code class="docutils literal"><span class="pre">NaT</span></code> preserving:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [25]: </span><span class="n">tdi</span> <span class="o">=</span> <span class="n">TimedeltaIndex</span><span class="p">([</span><span class="s1">&#39;1 days&#39;</span><span class="p">,</span><span class="n">pd</span><span class="o">.</span><span class="n">NaT</span><span class="p">,</span><span class="s1">&#39;2 days&#39;</span><span class="p">])</span>

<span class="gp">In [26]: </span><span class="n">tdi</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gr">Out[26]: </span><span class="p">[</span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;1 days 00:00:00&#39;</span><span class="p">),</span> <span class="n">NaT</span><span class="p">,</span> <span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;2 days 00:00:00&#39;</span><span class="p">)]</span>

<span class="gp">In [27]: </span><span class="n">dti</span> <span class="o">=</span> <span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="gp">In [28]: </span><span class="n">dti</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gr">Out[28]: </span>
<span class="go">[Timestamp(&#39;2013-01-01 00:00:00&#39;, freq=&#39;D&#39;),</span>
<span class="go"> Timestamp(&#39;2013-01-02 00:00:00&#39;, freq=&#39;D&#39;),</span>
<span class="go"> Timestamp(&#39;2013-01-03 00:00:00&#39;, freq=&#39;D&#39;)]</span>

<span class="gp">In [29]: </span><span class="p">(</span><span class="n">dti</span> <span class="o">+</span> <span class="n">tdi</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gr">Out[29]: </span><span class="p">[</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2013-01-02 00:00:00&#39;</span><span class="p">),</span> <span class="n">NaT</span><span class="p">,</span> <span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2013-01-05 00:00:00&#39;</span><span class="p">)]</span>

<span class="gp">In [30]: </span><span class="p">(</span><span class="n">dti</span> <span class="o">-</span> <span class="n">tdi</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gr">Out[30]: </span><span class="p">[</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2012-12-31 00:00:00&#39;</span><span class="p">),</span> <span class="n">NaT</span><span class="p">,</span> <span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2013-01-01 00:00:00&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<ul class="simple">
<li>iteration of a <code class="docutils literal"><span class="pre">Series</span></code> e.g. <code class="docutils literal"><span class="pre">list(Series(...))</span></code> of <code class="docutils literal"><span class="pre">timedelta64[ns]</span></code> would prior to v0.15.0 return <code class="docutils literal"><span class="pre">np.timedelta64</span></code> for each element. These will now be wrapped in <code class="docutils literal"><span class="pre">Timedelta</span></code>.</li>
</ul>
</div>
<div class="section" id="memory-usage">
<span id="whatsnew-0150-memory"></span><h4>Memory Usage<a class="headerlink" href="#memory-usage" title="Permalink to this headline">¶</a></h4>
<p>Implemented methods to find memory usage of a DataFrame. See the <a class="reference internal" href="faq.html#df-memory-usage"><span class="std std-ref">FAQ</span></a> for more. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6852">GH6852</a>).</p>
<p>A new display option <code class="docutils literal"><span class="pre">display.memory_usage</span></code> (see <a class="reference internal" href="options.html#options"><span class="std std-ref">Options and Settings</span></a>) sets the default behavior of the <code class="docutils literal"><span class="pre">memory_usage</span></code> argument in the <code class="docutils literal"><span class="pre">df.info()</span></code> method. By default <code class="docutils literal"><span class="pre">display.memory_usage</span></code> is <code class="docutils literal"><span class="pre">True</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [31]: </span><span class="n">dtypes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;int64&#39;</span><span class="p">,</span> <span class="s1">&#39;float64&#39;</span><span class="p">,</span> <span class="s1">&#39;datetime64[ns]&#39;</span><span class="p">,</span> <span class="s1">&#39;timedelta64[ns]&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>           <span class="s1">&#39;complex128&#39;</span><span class="p">,</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="s1">&#39;bool&#39;</span><span class="p">]</span>
<span class="gp">   ....:</span> 

<span class="gp">In [32]: </span><span class="n">n</span> <span class="o">=</span> <span class="mi">5000</span>

<span class="gp">In [33]: </span><span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
<span class="gp">   ....:</span>                 <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">dtypes</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [34]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="gp">In [35]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;categorical&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="gp">In [36]: </span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 5000 entries, 0 to 4999</span>
<span class="go">Data columns (total 8 columns):</span>
<span class="go">bool               5000 non-null bool</span>
<span class="go">complex128         5000 non-null complex128</span>
<span class="go">datetime64[ns]     5000 non-null datetime64[ns]</span>
<span class="go">float64            5000 non-null float64</span>
<span class="go">int64              5000 non-null int64</span>
<span class="go">object             5000 non-null object</span>
<span class="go">timedelta64[ns]    5000 non-null timedelta64[ns]</span>
<span class="go">categorical        5000 non-null category</span>
<span class="go">dtypes: bool(1), category(1), complex128(1), datetime64[ns](1), float64(1), int64(1), object(1), timedelta64[ns](1)</span>
<span class="go">memory usage: 284.1+ KB</span>
</pre></div>
</div>
<p>Additionally <a class="reference internal" href="generated/pandas.DataFrame.memory_usage.html#pandas.DataFrame.memory_usage" title="pandas.DataFrame.memory_usage"><code class="xref py py-meth docutils literal"><span class="pre">memory_usage()</span></code></a> is an available method for a dataframe object which returns the memory usage of each column.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [37]: </span><span class="n">df</span><span class="o">.</span><span class="n">memory_usage</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[37]: </span>
<span class="go">Index                 72</span>
<span class="go">bool                5000</span>
<span class="go">complex128         80000</span>
<span class="go">datetime64[ns]     40000</span>
<span class="go">float64            40000</span>
<span class="go">int64              40000</span>
<span class="go">object             40000</span>
<span class="go">timedelta64[ns]    40000</span>
<span class="go">categorical         5800</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</div>
<div class="section" id="dt-accessor">
<span id="whatsnew-0150-dt"></span><h4>.dt accessor<a class="headerlink" href="#dt-accessor" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">Series</span></code> has gained an accessor to succinctly return datetime like properties for the <em>values</em> of the Series, if its a datetime/period like Series. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7207">GH7207</a>)
This will return a Series, indexed like the existing Series. See the <a class="reference internal" href="basics.html#basics-dt-accessors"><span class="std std-ref">docs</span></a></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># datetime</span>
<span class="gp">In [38]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101 09:10:12&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>

<span class="gp">In [39]: </span><span class="n">s</span>
<span class="gr">Out[39]: </span>
<span class="go">0   2013-01-01 09:10:12</span>
<span class="go">1   2013-01-02 09:10:12</span>
<span class="go">2   2013-01-03 09:10:12</span>
<span class="go">3   2013-01-04 09:10:12</span>
<span class="go">dtype: datetime64[ns]</span>

<span class="gp">In [40]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">hour</span>
<span class="gr">Out[40]: </span>
<span class="go">0    9</span>
<span class="go">1    9</span>
<span class="go">2    9</span>
<span class="go">3    9</span>
<span class="go">dtype: int64</span>

<span class="gp">In [41]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">second</span>
<span class="gr">Out[41]: </span>
<span class="go">0    12</span>
<span class="go">1    12</span>
<span class="go">2    12</span>
<span class="go">3    12</span>
<span class="go">dtype: int64</span>

<span class="gp">In [42]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">day</span>
<span class="gr">Out[42]: </span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">2    3</span>
<span class="go">3    4</span>
<span class="go">dtype: int64</span>

<span class="gp">In [43]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">freq</span>
<span class="gr">Out[43]: </span><span class="o">&lt;</span><span class="n">Day</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This enables nice expressions like this:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [44]: </span><span class="n">s</span><span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">day</span><span class="o">==</span><span class="mi">2</span><span class="p">]</span>
<span class="gr">Out[44]: </span>
<span class="go">1   2013-01-02 09:10:12</span>
<span class="go">dtype: datetime64[ns]</span>
</pre></div>
</div>
<p>You can easily produce tz aware transformations:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [45]: </span><span class="n">stz</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span>

<span class="gp">In [46]: </span><span class="n">stz</span>
<span class="gr">Out[46]: </span>
<span class="go">0   2013-01-01 09:10:12-05:00</span>
<span class="go">1   2013-01-02 09:10:12-05:00</span>
<span class="go">2   2013-01-03 09:10:12-05:00</span>
<span class="go">3   2013-01-04 09:10:12-05:00</span>
<span class="go">dtype: datetime64[ns, US/Eastern]</span>

<span class="gp">In [47]: </span><span class="n">stz</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz</span>
<span class="gr">Out[47]: </span><span class="o">&lt;</span><span class="n">DstTzInfo</span> <span class="s1">&#39;US/Eastern&#39;</span> <span class="n">LMT</span><span class="o">-</span><span class="mi">1</span> <span class="n">day</span><span class="p">,</span> <span class="mi">19</span><span class="p">:</span><span class="mo">04</span><span class="p">:</span><span class="mo">00</span> <span class="n">STD</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>You can also chain these types of operations:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [48]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="s1">&#39;UTC&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_convert</span><span class="p">(</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span>
<span class="gr">Out[48]: </span>
<span class="go">0   2013-01-01 04:10:12-05:00</span>
<span class="go">1   2013-01-02 04:10:12-05:00</span>
<span class="go">2   2013-01-03 04:10:12-05:00</span>
<span class="go">3   2013-01-04 04:10:12-05:00</span>
<span class="go">dtype: datetime64[ns, US/Eastern]</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">.dt</span></code> accessor works for period and timedelta dtypes.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># period</span>
<span class="gp">In [49]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">period_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">))</span>

<span class="gp">In [50]: </span><span class="n">s</span>
<span class="gr">Out[50]: </span>
<span class="go">0   2013-01-01</span>
<span class="go">1   2013-01-02</span>
<span class="go">2   2013-01-03</span>
<span class="go">3   2013-01-04</span>
<span class="go">dtype: object</span>

<span class="gp">In [51]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span>
<span class="gr">Out[51]: </span>
<span class="go">0    2013</span>
<span class="go">1    2013</span>
<span class="go">2    2013</span>
<span class="go">3    2013</span>
<span class="go">dtype: int64</span>

<span class="gp">In [52]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">day</span>
<span class="gr">Out[52]: </span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">2    3</span>
<span class="go">3    4</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># timedelta</span>
<span class="gp">In [53]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">timedelta_range</span><span class="p">(</span><span class="s1">&#39;1 day 00:00:05&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">freq</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">))</span>

<span class="gp">In [54]: </span><span class="n">s</span>
<span class="gr">Out[54]: </span>
<span class="go">0   1 days 00:00:05</span>
<span class="go">1   1 days 00:00:06</span>
<span class="go">2   1 days 00:00:07</span>
<span class="go">3   1 days 00:00:08</span>
<span class="go">dtype: timedelta64[ns]</span>

<span class="gp">In [55]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span>
<span class="gr">Out[55]: </span>
<span class="go">0    1</span>
<span class="go">1    1</span>
<span class="go">2    1</span>
<span class="go">3    1</span>
<span class="go">dtype: int64</span>

<span class="gp">In [56]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">seconds</span>
<span class="gr">Out[56]: </span>
<span class="go">0    5</span>
<span class="go">1    6</span>
<span class="go">2    7</span>
<span class="go">3    8</span>
<span class="go">dtype: int64</span>

<span class="gp">In [57]: </span><span class="n">s</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">components</span>
<span class="gr">Out[57]: </span>
<span class="go">   days  hours  minutes  seconds  milliseconds  microseconds  nanoseconds</span>
<span class="go">0     1      0        0        5             0             0            0</span>
<span class="go">1     1      0        0        6             0             0            0</span>
<span class="go">2     1      0        0        7             0             0            0</span>
<span class="go">3     1      0        0        8             0             0            0</span>
</pre></div>
</div>
</div>
<div class="section" id="timezone-handling-improvements">
<span id="whatsnew-0150-tz"></span><h4>Timezone handling improvements<a class="headerlink" href="#timezone-handling-improvements" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">tz_localize(None)</span></code> for tz-aware <code class="docutils literal"><span class="pre">Timestamp</span></code> and <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> now removes timezone holding local time,
previously this resulted in <code class="docutils literal"><span class="pre">Exception</span></code> or <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7812">GH7812</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [58]: </span><span class="n">ts</span> <span class="o">=</span> <span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-08-01 09:00&#39;</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span>

<span class="gp">In [59]: </span><span class="n">ts</span>
<span class="gr">Out[59]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-08-01 09:00:00-0400&#39;</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span>

<span class="gp">In [60]: </span><span class="n">ts</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gr">Out[60]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-08-01 09:00:00&#39;</span><span class="p">)</span>

<span class="gp">In [61]: </span><span class="n">didx</span> <span class="o">=</span> <span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;2014-08-01 09:00&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span>

<span class="gp">In [62]: </span><span class="n">didx</span>
<span class="gr">Out[62]: </span>
<span class="go">DatetimeIndex([&#39;2014-08-01 09:00:00-04:00&#39;, &#39;2014-08-01 10:00:00-04:00&#39;,</span>
<span class="go">               &#39;2014-08-01 11:00:00-04:00&#39;, &#39;2014-08-01 12:00:00-04:00&#39;,</span>
<span class="go">               &#39;2014-08-01 13:00:00-04:00&#39;, &#39;2014-08-01 14:00:00-04:00&#39;,</span>
<span class="go">               &#39;2014-08-01 15:00:00-04:00&#39;, &#39;2014-08-01 16:00:00-04:00&#39;,</span>
<span class="go">               &#39;2014-08-01 17:00:00-04:00&#39;, &#39;2014-08-01 18:00:00-04:00&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns, US/Eastern]&#39;, freq=&#39;H&#39;)</span>

<span class="gp">In [63]: </span><span class="n">didx</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gr">Out[63]: </span>
<span class="go">DatetimeIndex([&#39;2014-08-01 09:00:00&#39;, &#39;2014-08-01 10:00:00&#39;,</span>
<span class="go">               &#39;2014-08-01 11:00:00&#39;, &#39;2014-08-01 12:00:00&#39;,</span>
<span class="go">               &#39;2014-08-01 13:00:00&#39;, &#39;2014-08-01 14:00:00&#39;,</span>
<span class="go">               &#39;2014-08-01 15:00:00&#39;, &#39;2014-08-01 16:00:00&#39;,</span>
<span class="go">               &#39;2014-08-01 17:00:00&#39;, &#39;2014-08-01 18:00:00&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns]&#39;, freq=&#39;H&#39;)</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">tz_localize</span></code> now accepts the <code class="docutils literal"><span class="pre">ambiguous</span></code> keyword which allows for passing an array of bools
indicating whether the date belongs in DST or not, &#8216;NaT&#8217; for setting transition times to NaT,
&#8216;infer&#8217; for inferring DST/non-DST, and &#8216;raise&#8217; (default) for an <code class="docutils literal"><span class="pre">AmbiguousTimeError</span></code> to be raised. See <a class="reference internal" href="timeseries.html#timeseries-timezone-ambiguous"><span class="std std-ref">the docs</span></a> for more details (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7943">GH7943</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.tz_localize</span></code> and <code class="docutils literal"><span class="pre">DataFrame.tz_convert</span></code> now accepts an optional <code class="docutils literal"><span class="pre">level</span></code> argument
for localizing a specific level of a MultiIndex (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7846">GH7846</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Timestamp.tz_localize</span></code> and <code class="docutils literal"><span class="pre">Timestamp.tz_convert</span></code> now raise <code class="docutils literal"><span class="pre">TypeError</span></code> in error cases, rather than <code class="docutils literal"><span class="pre">Exception</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8025">GH8025</a>)</p>
</li>
<li><p class="first">a  timeseries/index localized to UTC when inserted into a Series/DataFrame will preserve the UTC timezone (rather than being a naive <code class="docutils literal"><span class="pre">datetime64[ns]</span></code>) as <code class="docutils literal"><span class="pre">object</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8411">GH8411</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Timestamp.__repr__</span></code> displays <code class="docutils literal"><span class="pre">dateutil.tz.tzoffset</span></code> info (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7907">GH7907</a>)</p>
</li>
</ul>
</div>
<div class="section" id="rolling-expanding-moments-improvements">
<span id="whatsnew-0150-roll"></span><h4>Rolling/Expanding Moments improvements<a class="headerlink" href="#rolling-expanding-moments-improvements" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><code class="xref py py-func docutils literal"><span class="pre">rolling_min()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">rolling_max()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">rolling_cov()</span></code>, and <code class="xref py py-func docutils literal"><span class="pre">rolling_corr()</span></code>
now return objects with all <code class="docutils literal"><span class="pre">NaN</span></code> when <code class="docutils literal"><span class="pre">len(arg)</span> <span class="pre">&lt;</span> <span class="pre">min_periods</span> <span class="pre">&lt;=</span> <span class="pre">window</span></code> rather
than raising. (This makes all rolling functions consistent in this behavior). (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7766">GH7766</a>)</p>
<p>Prior to 0.15.0</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [64]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="n">rolling_min</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">ValueError: min_periods (5) must be &lt;= window (4)</span>
</pre></div>
</div>
<p>New behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">pd</span><span class="o">.</span><span class="n">rolling_min</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">Out[4]:</span>
<span class="go">0   NaN</span>
<span class="go">1   NaN</span>
<span class="go">2   NaN</span>
<span class="go">3   NaN</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="xref py py-func docutils literal"><span class="pre">rolling_max()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">rolling_min()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">rolling_sum()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">rolling_mean()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">rolling_median()</span></code>,
<code class="xref py py-func docutils literal"><span class="pre">rolling_std()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">rolling_var()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">rolling_skew()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">rolling_kurt()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">rolling_quantile()</span></code>,
<code class="xref py py-func docutils literal"><span class="pre">rolling_cov()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">rolling_corr()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">rolling_corr_pairwise()</span></code>,
<code class="xref py py-func docutils literal"><span class="pre">rolling_window()</span></code>, and <code class="xref py py-func docutils literal"><span class="pre">rolling_apply()</span></code> with <code class="docutils literal"><span class="pre">center=True</span></code> previously would return a result of the same
structure as the input <code class="docutils literal"><span class="pre">arg</span></code> with <code class="docutils literal"><span class="pre">NaN</span></code> in the final <code class="docutils literal"><span class="pre">(window-1)/2</span></code> entries.</p>
<p>Now the final <code class="docutils literal"><span class="pre">(window-1)/2</span></code> entries of the result are calculated as if the input <code class="docutils literal"><span class="pre">arg</span></code> were followed
by <code class="docutils literal"><span class="pre">(window-1)/2</span></code> <code class="docutils literal"><span class="pre">NaN</span></code> values (or with shrinking windows, in the case of <code class="xref py py-func docutils literal"><span class="pre">rolling_apply()</span></code>).
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7925">GH7925</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8269">GH8269</a>)</p>
<p>Prior behavior (note final value is <code class="docutils literal"><span class="pre">NaN</span></code>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">rolling_sum</span><span class="p">(</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)),</span> <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Out[7]:</span>
<span class="go">0     1</span>
<span class="go">1     3</span>
<span class="go">2     6</span>
<span class="go">3   NaN</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>New behavior (note final value is <code class="docutils literal"><span class="pre">5</span> <span class="pre">=</span> <span class="pre">sum([2,</span> <span class="pre">3,</span> <span class="pre">NaN])</span></code>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">rolling_sum</span><span class="p">(</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)),</span> <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Out[7]:</span>
<span class="go">0    1</span>
<span class="go">1    3</span>
<span class="go">2    6</span>
<span class="go">3    5</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="xref py py-func docutils literal"><span class="pre">rolling_window()</span></code> now normalizes the weights properly in rolling mean mode (<cite>mean=True</cite>) so that
the calculated weighted means (e.g. &#8216;triang&#8217;, &#8216;gaussian&#8217;) are distributed about the same means as those
calculated without weighting (i.e. &#8216;boxcar&#8217;). See <a class="reference internal" href="computation.html#stats-moments-normalization"><span class="std std-ref">the note on normalization</span></a> for further details. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7618">GH7618</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [65]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mf">10.5</span><span class="p">,</span> <span class="mf">8.8</span><span class="p">,</span> <span class="mf">11.4</span><span class="p">,</span> <span class="mf">9.7</span><span class="p">,</span> <span class="mf">9.3</span><span class="p">])</span>
</pre></div>
</div>
<p>Behavior prior to 0.15.0:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [39]: </span><span class="n">rolling_window</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">win_type</span><span class="o">=</span><span class="s1">&#39;triang&#39;</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Out[39]:</span>
<span class="go">0         NaN</span>
<span class="go">1    6.583333</span>
<span class="go">2    6.883333</span>
<span class="go">3    6.683333</span>
<span class="go">4         NaN</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>New behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [10]: </span><span class="n">pd</span><span class="o">.</span><span class="n">rolling_window</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">win_type</span><span class="o">=</span><span class="s1">&#39;triang&#39;</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Out[10]:</span>
<span class="go">0       NaN</span>
<span class="go">1     9.875</span>
<span class="go">2    10.325</span>
<span class="go">3    10.025</span>
<span class="go">4       NaN</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first">Removed <code class="docutils literal"><span class="pre">center</span></code> argument from all <code class="xref py py-func docutils literal"><span class="pre">expanding_</span></code> functions (see <a class="reference internal" href="api.html#api-functions-expanding"><span class="std std-ref">list</span></a>),
as the results produced when <code class="docutils literal"><span class="pre">center=True</span></code> did not make much sense. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7925">GH7925</a>)</p>
</li>
<li><p class="first">Added optional <code class="docutils literal"><span class="pre">ddof</span></code> argument to <code class="xref py py-func docutils literal"><span class="pre">expanding_cov()</span></code> and <code class="xref py py-func docutils literal"><span class="pre">rolling_cov()</span></code>.
The default value of <code class="docutils literal"><span class="pre">1</span></code> is backwards-compatible. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8279">GH8279</a>)</p>
</li>
<li><p class="first">Documented the <code class="docutils literal"><span class="pre">ddof</span></code> argument to <code class="xref py py-func docutils literal"><span class="pre">expanding_var()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">expanding_std()</span></code>,
<code class="xref py py-func docutils literal"><span class="pre">rolling_var()</span></code>, and <code class="xref py py-func docutils literal"><span class="pre">rolling_std()</span></code>. These functions&#8217; support of a
<code class="docutils literal"><span class="pre">ddof</span></code> argument (with a default value of <code class="docutils literal"><span class="pre">1</span></code>) was previously undocumented. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8064">GH8064</a>)</p>
</li>
<li><p class="first"><code class="xref py py-func docutils literal"><span class="pre">ewma()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">ewmstd()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">ewmvol()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">ewmvar()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">ewmcov()</span></code>, and <code class="xref py py-func docutils literal"><span class="pre">ewmcorr()</span></code>
now interpret <code class="docutils literal"><span class="pre">min_periods</span></code> in the same manner that the <code class="xref py py-func docutils literal"><span class="pre">rolling_*()</span></code> and <code class="xref py py-func docutils literal"><span class="pre">expanding_*()</span></code> functions do:
a given result entry will be <code class="docutils literal"><span class="pre">NaN</span></code> if the (expanding, in this case) window does not contain
at least <code class="docutils literal"><span class="pre">min_periods</span></code> values. The previous behavior was to set to <code class="docutils literal"><span class="pre">NaN</span></code> the <code class="docutils literal"><span class="pre">min_periods</span></code> entries
starting with the first non- <code class="docutils literal"><span class="pre">NaN</span></code> value. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7977">GH7977</a>)</p>
<p>Prior behavior (note values start at index <code class="docutils literal"><span class="pre">2</span></code>, which is <code class="docutils literal"><span class="pre">min_periods</span></code> after index <code class="docutils literal"><span class="pre">0</span></code>
(the index of the first non-empty value)):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [66]: </span><span class="n">s</span>  <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [51]: </span><span class="n">ewma</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">com</span><span class="o">=</span><span class="mf">3.</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Out[51]:</span>
<span class="go">0         NaN</span>
<span class="go">1         NaN</span>
<span class="go">2    1.000000</span>
<span class="go">3    1.000000</span>
<span class="go">4    1.571429</span>
<span class="go">5    2.189189</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>New behavior (note values start at index <code class="docutils literal"><span class="pre">4</span></code>, the location of the 2nd (since <code class="docutils literal"><span class="pre">min_periods=2</span></code>) non-empty value):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">ewma</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">com</span><span class="o">=</span><span class="mf">3.</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Out[2]:</span>
<span class="go">0         NaN</span>
<span class="go">1         NaN</span>
<span class="go">2         NaN</span>
<span class="go">3         NaN</span>
<span class="go">4    1.759644</span>
<span class="go">5    2.383784</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="xref py py-func docutils literal"><span class="pre">ewmstd()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">ewmvol()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">ewmvar()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">ewmcov()</span></code>, and <code class="xref py py-func docutils literal"><span class="pre">ewmcorr()</span></code>
now have an optional <code class="docutils literal"><span class="pre">adjust</span></code> argument, just like <code class="xref py py-func docutils literal"><span class="pre">ewma()</span></code> does,
affecting how the weights are calculated.
The default value of <code class="docutils literal"><span class="pre">adjust</span></code> is <code class="docutils literal"><span class="pre">True</span></code>, which is backwards-compatible.
See <a class="reference internal" href="computation.html#stats-moments-exponentially-weighted"><span class="std std-ref">Exponentially weighted moment functions</span></a> for details. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7911">GH7911</a>)</p>
</li>
<li><p class="first"><code class="xref py py-func docutils literal"><span class="pre">ewma()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">ewmstd()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">ewmvol()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">ewmvar()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">ewmcov()</span></code>, and <code class="xref py py-func docutils literal"><span class="pre">ewmcorr()</span></code>
now have an optional <code class="docutils literal"><span class="pre">ignore_na</span></code> argument.
When <code class="docutils literal"><span class="pre">ignore_na=False</span></code> (the default), missing values are taken into account in the weights calculation.
When <code class="docutils literal"><span class="pre">ignore_na=True</span></code> (which reproduces the pre-0.15.0 behavior), missing values are ignored in the weights calculation.
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7543">GH7543</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">pd</span><span class="o">.</span><span class="n">ewma</span><span class="p">(</span><span class="n">Series</span><span class="p">([</span><span class="bp">None</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">8.</span><span class="p">]),</span> <span class="n">com</span><span class="o">=</span><span class="mf">2.</span><span class="p">)</span>
<span class="go">Out[7]:</span>
<span class="go">0    NaN</span>
<span class="go">1    1.0</span>
<span class="go">2    5.2</span>
<span class="go">dtype: float64</span>

<span class="gp">In [8]: </span><span class="n">pd</span><span class="o">.</span><span class="n">ewma</span><span class="p">(</span><span class="n">Series</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mf">8.</span><span class="p">]),</span> <span class="n">com</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span> <span class="n">ignore_na</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>  <span class="c1"># pre-0.15.0 behavior</span>
<span class="go">Out[8]:</span>
<span class="go">0    1.0</span>
<span class="go">1    1.0</span>
<span class="go">2    5.2</span>
<span class="go">dtype: float64</span>

<span class="gp">In [9]: </span><span class="n">pd</span><span class="o">.</span><span class="n">ewma</span><span class="p">(</span><span class="n">Series</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mf">8.</span><span class="p">]),</span> <span class="n">com</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span> <span class="n">ignore_na</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>  <span class="c1"># new default</span>
<span class="go">Out[9]:</span>
<span class="go">0    1.000000</span>
<span class="go">1    1.000000</span>
<span class="go">2    5.846154</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">By default (<code class="docutils literal"><span class="pre">ignore_na=False</span></code>) the <code class="xref py py-func docutils literal"><span class="pre">ewm*()</span></code> functions&#8217; weights calculation
in the presence of missing values is different than in pre-0.15.0 versions.
To reproduce the pre-0.15.0 calculation of weights in the presence of missing values
one must specify explicitly <code class="docutils literal"><span class="pre">ignore_na=True</span></code>.</p>
</div>
</li>
<li><p class="first">Bug in <code class="xref py py-func docutils literal"><span class="pre">expanding_cov()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">expanding_corr()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">rolling_cov()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">rolling_cor()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">ewmcov()</span></code>, and <code class="xref py py-func docutils literal"><span class="pre">ewmcorr()</span></code>
returning results with columns sorted by name and producing an error for non-unique columns;
now handles non-unique columns and returns columns in original order
(except for the case of two DataFrames with <code class="docutils literal"><span class="pre">pairwise=False</span></code>, where behavior is unchanged) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7542">GH7542</a>)</p>
</li>
<li><p class="first">Bug in <code class="xref py py-func docutils literal"><span class="pre">rolling_count()</span></code> and <code class="xref py py-func docutils literal"><span class="pre">expanding_*()</span></code> functions unnecessarily producing error message for zero-length data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8056">GH8056</a>)</p>
</li>
<li><p class="first">Bug in <code class="xref py py-func docutils literal"><span class="pre">rolling_apply()</span></code> and <code class="xref py py-func docutils literal"><span class="pre">expanding_apply()</span></code> interpreting <code class="docutils literal"><span class="pre">min_periods=0</span></code> as <code class="docutils literal"><span class="pre">min_periods=1</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8080">GH8080</a>)</p>
</li>
<li><p class="first">Bug in <code class="xref py py-func docutils literal"><span class="pre">expanding_std()</span></code> and <code class="xref py py-func docutils literal"><span class="pre">expanding_var()</span></code> for a single value producing a confusing error message (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7900">GH7900</a>)</p>
</li>
<li><p class="first">Bug in <code class="xref py py-func docutils literal"><span class="pre">rolling_std()</span></code> and <code class="xref py py-func docutils literal"><span class="pre">rolling_var()</span></code> for a single value producing <code class="docutils literal"><span class="pre">0</span></code> rather than <code class="docutils literal"><span class="pre">NaN</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7900">GH7900</a>)</p>
</li>
<li><p class="first">Bug in <code class="xref py py-func docutils literal"><span class="pre">ewmstd()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">ewmvol()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">ewmvar()</span></code>, and <code class="xref py py-func docutils literal"><span class="pre">ewmcov()</span></code>
calculation of de-biasing factors when <code class="docutils literal"><span class="pre">bias=False</span></code> (the default).
Previously an incorrect constant factor was used, based on <code class="docutils literal"><span class="pre">adjust=True</span></code>, <code class="docutils literal"><span class="pre">ignore_na=True</span></code>,
and an infinite number of observations.
Now a different factor is used for each entry, based on the actual weights
(analogous to the usual <code class="docutils literal"><span class="pre">N/(N-1)</span></code> factor).
In particular, for a single point a value of <code class="docutils literal"><span class="pre">NaN</span></code> is returned when <code class="docutils literal"><span class="pre">bias=False</span></code>,
whereas previously a value of (approximately) <code class="docutils literal"><span class="pre">0</span></code> was returned.</p>
<p>For example, consider the following pre-0.15.0 results for <code class="docutils literal"><span class="pre">ewmvar(...,</span> <span class="pre">bias=False)</span></code>,
and the corresponding debiasing factors:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [67]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [89]: </span><span class="n">ewmvar</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">com</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">Out[89]:</span>
<span class="go">0   -2.775558e-16</span>
<span class="go">1    3.000000e-01</span>
<span class="go">2    9.556787e-01</span>
<span class="go">3    3.585799e+00</span>
<span class="go">dtype: float64</span>

<span class="gp">In [90]: </span><span class="n">ewmvar</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">com</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span> <span class="o">/</span> <span class="n">ewmvar</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">com</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Out[90]:</span>
<span class="go">0    1.25</span>
<span class="go">1    1.25</span>
<span class="go">2    1.25</span>
<span class="go">3    1.25</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>Note that entry <code class="docutils literal"><span class="pre">0</span></code> is approximately 0, and the debiasing factors are a constant 1.25.
By comparison, the following 0.15.0 results have a <code class="docutils literal"><span class="pre">NaN</span></code> for entry <code class="docutils literal"><span class="pre">0</span></code>,
and the debiasing factors are decreasing (towards 1.25):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [14]: </span><span class="n">pd</span><span class="o">.</span><span class="n">ewmvar</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">com</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">Out[14]:</span>
<span class="go">0         NaN</span>
<span class="go">1    0.500000</span>
<span class="go">2    1.210526</span>
<span class="go">3    4.089069</span>
<span class="go">dtype: float64</span>

<span class="gp">In [15]: </span><span class="n">pd</span><span class="o">.</span><span class="n">ewmvar</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">com</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span> <span class="o">/</span> <span class="n">pd</span><span class="o">.</span><span class="n">ewmvar</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">com</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Out[15]:</span>
<span class="go">0         NaN</span>
<span class="go">1    2.083333</span>
<span class="go">2    1.583333</span>
<span class="go">3    1.425439</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="computation.html#stats-moments-exponentially-weighted"><span class="std std-ref">Exponentially weighted moment functions</span></a> for details. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7912">GH7912</a>)</p>
</li>
</ul>
</div>
<div class="section" id="improvements-in-the-sql-io-module">
<span id="whatsnew-0150-sql"></span><h4>Improvements in the sql io module<a class="headerlink" href="#improvements-in-the-sql-io-module" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Added support for a <code class="docutils literal"><span class="pre">chunksize</span></code> parameter to <code class="docutils literal"><span class="pre">to_sql</span></code> function. This allows DataFrame to be written in chunks and avoid packet-size overflow errors (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8062">GH8062</a>).</p>
</li>
<li><p class="first">Added support for a <code class="docutils literal"><span class="pre">chunksize</span></code> parameter to <code class="docutils literal"><span class="pre">read_sql</span></code> function. Specifying this argument will return an iterator through chunks of the query result (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2908">GH2908</a>).</p>
</li>
<li><p class="first">Added support for writing <code class="docutils literal"><span class="pre">datetime.date</span></code> and <code class="docutils literal"><span class="pre">datetime.time</span></code> object columns with <code class="docutils literal"><span class="pre">to_sql</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6932">GH6932</a>).</p>
</li>
<li><p class="first">Added support for specifying a <code class="docutils literal"><span class="pre">schema</span></code> to read from/write to with <code class="docutils literal"><span class="pre">read_sql_table</span></code> and <code class="docutils literal"><span class="pre">to_sql</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7441">GH7441</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7952">GH7952</a>).
For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="s1">&#39;other_schema&#39;</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">read_sql_table</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="s1">&#39;other_schema&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Added support for writing <code class="docutils literal"><span class="pre">NaN</span></code> values with <code class="docutils literal"><span class="pre">to_sql</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2754">GH2754</a>).</p>
</li>
<li><p class="first">Added support for writing datetime64 columns with <code class="docutils literal"><span class="pre">to_sql</span></code> for all database flavors (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7103">GH7103</a>).</p>
</li>
</ul>
</div>
</div>
<div class="section" id="whatsnew-0150-api">
<span id="id66"></span><h3>Backwards incompatible API changes<a class="headerlink" href="#whatsnew-0150-api" title="Permalink to this headline">¶</a></h3>
<div class="section" id="breaking-changes">
<span id="whatsnew-0150-api-breaking"></span><h4>Breaking changes<a class="headerlink" href="#breaking-changes" title="Permalink to this headline">¶</a></h4>
<p>API changes related to <code class="docutils literal"><span class="pre">Categorical</span></code> (see <a class="reference internal" href="#whatsnew-0150-cat"><span class="std std-ref">here</span></a>
for more details):</p>
<ul>
<li><p class="first">The <code class="docutils literal"><span class="pre">Categorical</span></code> constructor with two arguments changed from
&#8220;codes/labels and levels&#8221; to &#8220;values and levels (now called &#8216;categories&#8217;)&#8221;.
This can lead to subtle bugs. If you use <a class="reference internal" href="generated/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal"><span class="pre">Categorical</span></code></a> directly,
please audit your code by changing it to use the <a class="reference internal" href="generated/pandas.Categorical.from_codes.html#pandas.Categorical.from_codes" title="pandas.Categorical.from_codes"><code class="xref py py-meth docutils literal"><span class="pre">from_codes()</span></code></a>
constructor.</p>
<p>An old function call like (prior to 0.15.0):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">levels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>will have to adapted to the following to keep the same behaviour:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="o">.</span><span class="n">from_codes</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="go">Out[2]:</span>
<span class="go">[a, b, a, c, b]</span>
<span class="go">Categories (3, object): [a, b, c]</span>
</pre></div>
</div>
</li>
</ul>
<p>API changes related to the introduction of the <code class="docutils literal"><span class="pre">Timedelta</span></code> scalar (see
<a class="reference internal" href="#whatsnew-0150-timedeltaindex"><span class="std std-ref">above</span></a> for more details):</p>
<ul class="simple">
<li>Prior to 0.15.0 <code class="xref py py-func docutils literal"><span class="pre">to_timedelta()</span></code> would return a <code class="docutils literal"><span class="pre">Series</span></code> for list-like/Series input,
and a <code class="docutils literal"><span class="pre">np.timedelta64</span></code> for scalar input. It will now return a <code class="docutils literal"><span class="pre">TimedeltaIndex</span></code> for
list-like input, <code class="docutils literal"><span class="pre">Series</span></code> for Series input, and <code class="docutils literal"><span class="pre">Timedelta</span></code> for scalar input.</li>
</ul>
<p>For API changes related to the rolling and expanding functions, see detailed overview <a class="reference internal" href="#whatsnew-0150-roll"><span class="std std-ref">above</span></a>.</p>
<p>Other notable API changes:</p>
<ul>
<li><p class="first">Consistency when indexing with <code class="docutils literal"><span class="pre">.loc</span></code> and a list-like indexer when no values are found.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [68]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">([[</span><span class="s1">&#39;a&#39;</span><span class="p">],[</span><span class="s1">&#39;b&#39;</span><span class="p">]],</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>

<span class="gp">In [69]: </span><span class="n">df</span>
<span class="gr">Out[69]: </span>
<span class="go">   0</span>
<span class="go">1  a</span>
<span class="go">2  b</span>
</pre></div>
</div>
<p>In prior versions there was a difference in these two constructs:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">df.loc[[3]]</span></code> would return a frame reindexed by 3 (with all <code class="docutils literal"><span class="pre">np.nan</span></code> values)</li>
<li><code class="docutils literal"><span class="pre">df.loc[[3],:]</span></code> would raise <code class="docutils literal"><span class="pre">KeyError</span></code>.</li>
</ul>
<p>Both will now raise a <code class="docutils literal"><span class="pre">KeyError</span></code>. The rule is that <em>at least 1</em> indexer must be found when using a list-like and <code class="docutils literal"><span class="pre">.loc</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7999">GH7999</a>)</p>
<p>Furthermore in prior versions these were also different:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">df.loc[[1,3]]</span></code> would return a frame reindexed by [1,3]</li>
<li><code class="docutils literal"><span class="pre">df.loc[[1,3],:]</span></code> would raise <code class="docutils literal"><span class="pre">KeyError</span></code>.</li>
</ul>
<p>Both will now return a frame reindex by [1,3]. E.g.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [70]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]]</span>
<span class="gr">Out[70]: </span>
<span class="go">     0</span>
<span class="go">1    a</span>
<span class="go">3  NaN</span>

<span class="gp">In [71]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],:]</span>
<span class="gr">Out[71]: </span>
<span class="go">     0</span>
<span class="go">1    a</span>
<span class="go">3  NaN</span>
</pre></div>
</div>
<p>This can also be seen in multi-axis indexing with a <code class="docutils literal"><span class="pre">Panel</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [72]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">Panel</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....:</span>           <span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ItemA&#39;</span><span class="p">,</span><span class="s1">&#39;ItemB&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>           <span class="n">major_axis</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
<span class="gp">   ....:</span>           <span class="n">minor_axis</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [73]: </span><span class="n">p</span>
<span class="gr">Out[73]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 2 (items) x 3 (major_axis) x 4 (minor_axis)</span>
<span class="go">Items axis: ItemA to ItemB</span>
<span class="go">Major_axis axis: 1 to 3</span>
<span class="go">Minor_axis axis: A to D</span>
</pre></div>
</div>
<p>The following would raise <code class="docutils literal"><span class="pre">KeyError</span></code> prior to 0.15.0:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [74]: </span><span class="n">p</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s1">&#39;ItemA&#39;</span><span class="p">,</span><span class="s1">&#39;ItemD&#39;</span><span class="p">],:,</span><span class="s1">&#39;D&#39;</span><span class="p">]</span>
<span class="gr">Out[74]: </span>
<span class="go">   ItemA  ItemD</span>
<span class="go">1      3    NaN</span>
<span class="go">2      7    NaN</span>
<span class="go">3     11    NaN</span>
</pre></div>
</div>
<p>Furthermore, <code class="docutils literal"><span class="pre">.loc</span></code> will raise If no values are found in a multi-index with a list-like indexer:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [75]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int64&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>            <span class="n">index</span><span class="o">=</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([[</span><span class="s1">&#39;A&#39;</span><span class="p">],[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="s1">&#39;baz&#39;</span><span class="p">]],</span>
<span class="gp">   ....:</span>                                          <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;one&#39;</span><span class="p">,</span><span class="s1">&#39;two&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span>           <span class="p">)</span><span class="o">.</span><span class="n">sortlevel</span><span class="p">()</span>
<span class="gp">   ....:</span> 

<span class="gp">In [76]: </span><span class="n">s</span>
<span class="gr">Out[76]: </span>
<span class="go">one  two</span>
<span class="go">A    bar    1</span>
<span class="go">     baz    2</span>
<span class="go">     foo    0</span>
<span class="go">dtype: int64</span>

<span class="gp">In [77]: </span><span class="k">try</span><span class="p">:</span>
<span class="gp">   ....:</span>    <span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s1">&#39;D&#39;</span><span class="p">]]</span>
<span class="gp">   ....:</span> <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="gp">   ....:</span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;KeyError: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
<span class="gp">   ....:</span> 
<span class="go">KeyError: &#39;cannot index a multi-index axis with these keys&#39;</span>
</pre></div>
</div>
</li>
<li><p class="first">Assigning values to <code class="docutils literal"><span class="pre">None</span></code> now considers the dtype when choosing an &#8216;empty&#8217; value (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7941">GH7941</a>).</p>
<p>Previously, assigning to <code class="docutils literal"><span class="pre">None</span></code> in numeric containers changed the
dtype to object (or errored, depending on the call). It now uses
<code class="docutils literal"><span class="pre">NaN</span></code>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [78]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

<span class="gp">In [79]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>

<span class="gp">In [80]: </span><span class="n">s</span>
<span class="gr">Out[80]: </span>
<span class="go">0    NaN</span>
<span class="go">1    2.0</span>
<span class="go">2    3.0</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">NaT</span></code> is now used similarly for datetime containers.</p>
<p>For object containers, we now preserve <code class="docutils literal"><span class="pre">None</span></code> values (previously these
were converted to <code class="docutils literal"><span class="pre">NaN</span></code> values).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [81]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">])</span>

<span class="gp">In [82]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>

<span class="gp">In [83]: </span><span class="n">s</span>
<span class="gr">Out[83]: </span>
<span class="go">0    None</span>
<span class="go">1       b</span>
<span class="go">2       c</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>To insert a <code class="docutils literal"><span class="pre">NaN</span></code>, you must explicitly use <code class="docutils literal"><span class="pre">np.nan</span></code>. See the <a class="reference internal" href="missing_data.html#missing-inserting"><span class="std std-ref">docs</span></a>.</p>
</li>
<li><p class="first">In prior versions, updating a pandas object inplace would not reflect in other python references to this object. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8511">GH8511</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5104">GH5104</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [84]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

<span class="gp">In [85]: </span><span class="n">s2</span> <span class="o">=</span> <span class="n">s</span>

<span class="gp">In [86]: </span><span class="n">s</span> <span class="o">+=</span> <span class="mf">1.5</span>
</pre></div>
</div>
<p>Behavior prior to v0.15.0</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># the original object</span>
<span class="gp">In [5]: </span><span class="n">s</span>
<span class="go">Out[5]:</span>
<span class="go">0    2.5</span>
<span class="go">1    3.5</span>
<span class="go">2    4.5</span>
<span class="go">dtype: float64</span>


<span class="c"># a reference to the original object</span>
<span class="gp">In [7]: </span><span class="n">s2</span>
<span class="go">Out[7]:</span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">2    3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>This is now the correct behavior</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># the original object</span>
<span class="gp">In [87]: </span><span class="n">s</span>
<span class="gr">Out[87]: </span>
<span class="go">0    2.5</span>
<span class="go">1    3.5</span>
<span class="go">2    4.5</span>
<span class="go">dtype: float64</span>

<span class="c"># a reference to the original object</span>
<span class="gp">In [88]: </span><span class="n">s2</span>
<span class="gr">Out[88]: </span>
<span class="go">0    2.5</span>
<span class="go">1    3.5</span>
<span class="go">2    4.5</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</li>
</ul>
<ul id="whatsnew-0150-blanklines">
<li><p class="first">Made both the C-based and Python engines for <cite>read_csv</cite> and <cite>read_table</cite> ignore empty lines in input as well as
whitespace-filled lines, as long as <code class="docutils literal"><span class="pre">sep</span></code> is not whitespace. This is an API change
that can be controlled by the keyword parameter <code class="docutils literal"><span class="pre">skip_blank_lines</span></code>.  See <a class="reference internal" href="io.html#io-skiplines"><span class="std std-ref">the docs</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4466">GH4466</a>)</p>
</li>
<li><p class="first">A timeseries/index localized to UTC when inserted into a Series/DataFrame will preserve the UTC timezone
and inserted as <code class="docutils literal"><span class="pre">object</span></code> dtype rather than being converted to a naive <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8411">GH8411</a>).</p>
</li>
<li><p class="first">Bug in passing a <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> with a timezone that was not being retained in DataFrame construction from a dict (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7822">GH7822</a>)</p>
<p>In prior versions this would drop the timezone, now it retains the timezone,
but gives a column of <code class="docutils literal"><span class="pre">object</span></code> dtype:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [89]: </span><span class="n">i</span> <span class="o">=</span> <span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;1/1/2011&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;10s&#39;</span><span class="p">,</span> <span class="n">tz</span> <span class="o">=</span> <span class="s1">&#39;US/Eastern&#39;</span><span class="p">)</span>

<span class="gp">In [90]: </span><span class="n">i</span>
<span class="gr">Out[90]: </span>
<span class="go">DatetimeIndex([&#39;2011-01-01 00:00:00-05:00&#39;, &#39;2011-01-01 00:00:10-05:00&#39;,</span>
<span class="go">               &#39;2011-01-01 00:00:20-05:00&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns, US/Eastern]&#39;, freq=&#39;10S&#39;)</span>

<span class="gp">In [91]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span> <span class="p">:</span> <span class="n">i</span> <span class="p">}</span> <span class="p">)</span>

<span class="gp">In [92]: </span><span class="n">df</span>
<span class="gr">Out[92]: </span>
<span class="go">                          a</span>
<span class="go">0 2011-01-01 00:00:00-05:00</span>
<span class="go">1 2011-01-01 00:00:10-05:00</span>
<span class="go">2 2011-01-01 00:00:20-05:00</span>

<span class="gp">In [93]: </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[93]: </span>
<span class="go">a    datetime64[ns, US/Eastern]</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>Previously this would have yielded a column of <code class="docutils literal"><span class="pre">datetime64</span></code> dtype, but without timezone info.</p>
<p>The behaviour of assigning a column to an existing dataframe as <cite>df[&#8216;a&#8217;] = i</cite>
remains unchanged (this already returned an  <code class="docutils literal"><span class="pre">object</span></code> column with a timezone).</p>
</li>
<li><p class="first">When passing multiple levels to <a class="reference internal" href="generated/pandas.DataFrame.stack.html#pandas.DataFrame.stack" title="pandas.DataFrame.stack"><code class="xref py py-meth docutils literal"><span class="pre">stack()</span></code></a>, it will now raise a <code class="docutils literal"><span class="pre">ValueError</span></code> when the
levels aren&#8217;t all level names or all level numbers (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7660">GH7660</a>). See
<a class="reference internal" href="reshaping.html#reshaping-stack-multiple"><span class="std std-ref">Reshaping by stacking and unstacking</span></a>.</p>
</li>
<li><p class="first">Raise a <code class="docutils literal"><span class="pre">ValueError</span></code> in <code class="docutils literal"><span class="pre">df.to_hdf</span></code> with &#8216;fixed&#8217; format, if <code class="docutils literal"><span class="pre">df</span></code> has non-unique columns as the resulting file will be broken (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7761">GH7761</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">SettingWithCopy</span></code> raise/warnings (according to the option <code class="docutils literal"><span class="pre">mode.chained_assignment</span></code>) will now be issued when setting a value on a sliced mixed-dtype DataFrame using chained-assignment. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7845">GH7845</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7950">GH7950</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">])</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;group&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">][</span><span class="s1">&#39;group&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;a&#39;</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">ipython</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span> <span class="n">SettingWithCopyWarning</span><span class="p">:</span>
<span class="n">A</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">trying</span> <span class="n">to</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">on</span> <span class="n">a</span> <span class="n">copy</span> <span class="n">of</span> <span class="n">a</span> <span class="nb">slice</span> <span class="kn">from</span> <span class="nn">a</span> <span class="nn">DataFrame.</span>
<span class="n">Try</span> <span class="n">using</span> <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_indexer</span><span class="p">,</span><span class="n">col_indexer</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span> <span class="n">instead</span>

<span class="n">See</span> <span class="n">the</span> <span class="n">the</span> <span class="n">caveats</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">documentation</span><span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">pandas</span><span class="o">.</span><span class="n">pydata</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">pandas</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="n">stable</span><span class="o">/</span><span class="n">indexing</span><span class="o">.</span><span class="n">html</span><span class="c1">#indexing-view-versus-copy</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">merge</span></code>, <code class="docutils literal"><span class="pre">DataFrame.merge</span></code>, and <code class="docutils literal"><span class="pre">ordered_merge</span></code> now return the same type
as the <code class="docutils literal"><span class="pre">left</span></code> argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7737">GH7737</a>).</p>
</li>
<li><p class="first">Previously an enlargement with a mixed-dtype frame would act unlike <code class="docutils literal"><span class="pre">.append</span></code> which will preserve dtypes (related <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2578">GH2578</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8176">GH8176</a>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [94]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">([[</span><span class="bp">True</span><span class="p">,</span> <span class="mi">1</span><span class="p">],[</span><span class="bp">False</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span>
<span class="gp">   ....:</span>                <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;female&quot;</span><span class="p">,</span><span class="s2">&quot;fitness&quot;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [95]: </span><span class="n">df</span>
<span class="gr">Out[95]: </span>
<span class="go">  female  fitness</span>
<span class="go">0   True        1</span>
<span class="go">1  False        2</span>

<span class="gp">In [96]: </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[96]: </span>
<span class="go">female      bool</span>
<span class="go">fitness    int64</span>
<span class="go">dtype: object</span>

<span class="c"># dtypes are now preserved</span>
<span class="gp">In [97]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="gp">In [98]: </span><span class="n">df</span>
<span class="gr">Out[98]: </span>
<span class="go">  female  fitness</span>
<span class="go">0   True        1</span>
<span class="go">1  False        2</span>
<span class="go">2  False        2</span>

<span class="gp">In [99]: </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[99]: </span>
<span class="go">female      bool</span>
<span class="go">fitness    int64</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series.to_csv()</span></code> now returns a string when <code class="docutils literal"><span class="pre">path=None</span></code>, matching the behaviour of <code class="docutils literal"><span class="pre">DataFrame.to_csv()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8215">GH8215</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">read_hdf</span></code> now raises <code class="docutils literal"><span class="pre">IOError</span></code> when a file that doesn&#8217;t exist is passed in. Previously, a new, empty file was created, and a <code class="docutils literal"><span class="pre">KeyError</span></code> raised (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7715">GH7715</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.info()</span></code> now ends its output with a newline character (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8114">GH8114</a>)</p>
</li>
<li><p class="first">Concatenating no objects will now raise a <code class="docutils literal"><span class="pre">ValueError</span></code> rather than a bare <code class="docutils literal"><span class="pre">Exception</span></code>.</p>
</li>
<li><p class="first">Merge errors will now be sub-classes of <code class="docutils literal"><span class="pre">ValueError</span></code> rather than raw <code class="docutils literal"><span class="pre">Exception</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8501">GH8501</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.plot</span></code> and <code class="docutils literal"><span class="pre">Series.plot</span></code> keywords are now have consistent orders (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8037">GH8037</a>)</p>
</li>
</ul>
</div>
<div class="section" id="internal-refactoring">
<span id="whatsnew-0150-refactoring"></span><h4>Internal Refactoring<a class="headerlink" href="#internal-refactoring" title="Permalink to this headline">¶</a></h4>
<p>In 0.15.0 <code class="docutils literal"><span class="pre">Index</span></code> has internally been refactored to no longer sub-class <code class="docutils literal"><span class="pre">ndarray</span></code>
but instead subclass <code class="docutils literal"><span class="pre">PandasObject</span></code>, similarly to the rest of the pandas objects. This
change allows very easy sub-classing and creation of new index types. This should be
a transparent change with only very limited API implications (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5080">GH5080</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7439">GH7439</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7796">GH7796</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8024">GH8024</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8367">GH8367</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7997">GH7997</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8522">GH8522</a>):</p>
<ul class="simple">
<li>you may need to unpickle pandas version &lt; 0.15.0 pickles using <code class="docutils literal"><span class="pre">pd.read_pickle</span></code> rather than <code class="docutils literal"><span class="pre">pickle.load</span></code>. See <a class="reference internal" href="io.html#io-pickle"><span class="std std-ref">pickle docs</span></a></li>
<li>when plotting with a <code class="docutils literal"><span class="pre">PeriodIndex</span></code>, the matplotlib internal axes will now be arrays of <code class="docutils literal"><span class="pre">Period</span></code> rather than a <code class="docutils literal"><span class="pre">PeriodIndex</span></code> (this is similar to how a <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> passes arrays of <code class="docutils literal"><span class="pre">datetimes</span></code> now)</li>
<li>MultiIndexes will now raise similary to other pandas objects w.r.t. truth testing, see <a class="reference internal" href="gotchas.html#gotchas-truth"><span class="std std-ref">here</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7897">GH7897</a>).</li>
<li>When plotting a DatetimeIndex directly with matplotlib&#8217;s <cite>plot</cite> function,
the axis labels will no longer be formatted as dates but as integers (the
internal representation of a <code class="docutils literal"><span class="pre">datetime64</span></code>). <strong>UPDATE</strong> This is fixed
in 0.15.1, see <a class="reference internal" href="#whatsnew-0151-datetime64-plotting"><span class="std std-ref">here</span></a>.</li>
</ul>
</div>
<div class="section" id="whatsnew-0150-deprecations">
<span id="id67"></span><h4>Deprecations<a class="headerlink" href="#whatsnew-0150-deprecations" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The attributes <code class="docutils literal"><span class="pre">Categorical</span></code> <code class="docutils literal"><span class="pre">labels</span></code> and <code class="docutils literal"><span class="pre">levels</span></code> attributes are
deprecated and renamed to <code class="docutils literal"><span class="pre">codes</span></code> and <code class="docutils literal"><span class="pre">categories</span></code>.</li>
<li>The <code class="docutils literal"><span class="pre">outtype</span></code> argument to <code class="docutils literal"><span class="pre">pd.DataFrame.to_dict</span></code> has been deprecated in favor of <code class="docutils literal"><span class="pre">orient</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7840">GH7840</a>)</li>
<li>The <code class="docutils literal"><span class="pre">convert_dummies</span></code> method has been deprecated in favor of
<code class="docutils literal"><span class="pre">get_dummies</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8140">GH8140</a>)</li>
<li>The <code class="docutils literal"><span class="pre">infer_dst</span></code> argument in <code class="docutils literal"><span class="pre">tz_localize</span></code> will be deprecated in favor of
<code class="docutils literal"><span class="pre">ambiguous</span></code> to allow for more flexibility in dealing with DST transitions.
Replace <code class="docutils literal"><span class="pre">infer_dst=True</span></code> with <code class="docutils literal"><span class="pre">ambiguous='infer'</span></code> for the same behavior (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7943">GH7943</a>).
See <a class="reference internal" href="timeseries.html#timeseries-timezone-ambiguous"><span class="std std-ref">the docs</span></a> for more details.</li>
<li>The top-level <code class="docutils literal"><span class="pre">pd.value_range</span></code> has been deprecated and can be replaced by <code class="docutils literal"><span class="pre">.describe()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8481">GH8481</a>)</li>
</ul>
<ul id="whatsnew-0150-index-set-ops">
<li><p class="first">The <code class="docutils literal"><span class="pre">Index</span></code> set operations <code class="docutils literal"><span class="pre">+</span></code> and <code class="docutils literal"><span class="pre">-</span></code> were deprecated in order to provide these for numeric type operations on certain index types. <code class="docutils literal"><span class="pre">+</span></code> can be replaced by <code class="docutils literal"><span class="pre">.union()</span></code> or <code class="docutils literal"><span class="pre">|</span></code>, and <code class="docutils literal"><span class="pre">-</span></code> by <code class="docutils literal"><span class="pre">.difference()</span></code>. Further the method name <code class="docutils literal"><span class="pre">Index.diff()</span></code> is deprecated and can be replaced by <code class="docutils literal"><span class="pre">Index.difference()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8226">GH8226</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># +</span>
<span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="n">Index</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">])</span>

<span class="c1"># should be replaced by</span>
<span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># -</span>
<span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span> <span class="o">-</span> <span class="n">Index</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">])</span>

<span class="c1"># should be replaced by</span>
<span class="n">Index</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">]))</span>
</pre></div>
</div>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">infer_types</span></code> argument to <a class="reference internal" href="generated/pandas.read_html.html#pandas.read_html" title="pandas.read_html"><code class="xref py py-func docutils literal"><span class="pre">read_html()</span></code></a> now has no
effect and is deprecated (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7762">GH7762</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7032">GH7032</a>).</p>
</li>
</ul>
</div>
<div class="section" id="whatsnew-0150-prior-deprecations">
<span id="id68"></span><h4>Removal of prior version deprecations/changes<a class="headerlink" href="#whatsnew-0150-prior-deprecations" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Remove <code class="docutils literal"><span class="pre">DataFrame.delevel</span></code> method in favor of <code class="docutils literal"><span class="pre">DataFrame.reset_index</span></code></li>
</ul>
</div>
</div>
<div class="section" id="whatsnew-0150-enhancements">
<span id="id69"></span><h3>Enhancements<a class="headerlink" href="#whatsnew-0150-enhancements" title="Permalink to this headline">¶</a></h3>
<p>Enhancements in the importing/exporting of Stata files:</p>
<ul class="simple">
<li>Added support for bool, uint8, uint16 and uint32 datatypes in <code class="docutils literal"><span class="pre">to_stata</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7097">GH7097</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7365">GH7365</a>)</li>
<li>Added conversion option when importing Stata files (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8527">GH8527</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.to_stata</span></code> and <code class="docutils literal"><span class="pre">StataWriter</span></code> check string length for
compatibility with limitations imposed in dta files where fixed-width
strings must contain 244 or fewer characters.  Attempting to write Stata
dta files with strings longer than 244 characters raises a <code class="docutils literal"><span class="pre">ValueError</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7858">GH7858</a>)</li>
<li><code class="docutils literal"><span class="pre">read_stata</span></code> and <code class="docutils literal"><span class="pre">StataReader</span></code> can import missing data information into a
<code class="docutils literal"><span class="pre">DataFrame</span></code> by setting the argument <code class="docutils literal"><span class="pre">convert_missing</span></code> to <code class="docutils literal"><span class="pre">True</span></code>. When
using this options, missing values are returned as <code class="docutils literal"><span class="pre">StataMissingValue</span></code>
objects and columns containing missing values have <code class="docutils literal"><span class="pre">object</span></code> data type. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8045">GH8045</a>)</li>
</ul>
<p>Enhancements in the plotting functions:</p>
<ul class="simple">
<li>Added <code class="docutils literal"><span class="pre">layout</span></code> keyword to <code class="docutils literal"><span class="pre">DataFrame.plot</span></code>. You can pass a tuple of <code class="docutils literal"><span class="pre">(rows,</span> <span class="pre">columns)</span></code>, one of which can be <code class="docutils literal"><span class="pre">-1</span></code> to automatically infer (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6667">GH6667</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8071">GH8071</a>).</li>
<li>Allow to pass multiple axes to <code class="docutils literal"><span class="pre">DataFrame.plot</span></code>, <code class="docutils literal"><span class="pre">hist</span></code> and <code class="docutils literal"><span class="pre">boxplot</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5353">GH5353</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6970">GH6970</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7069">GH7069</a>)</li>
<li>Added support for <code class="docutils literal"><span class="pre">c</span></code>, <code class="docutils literal"><span class="pre">colormap</span></code> and <code class="docutils literal"><span class="pre">colorbar</span></code> arguments for <code class="docutils literal"><span class="pre">DataFrame.plot</span></code> with <code class="docutils literal"><span class="pre">kind='scatter'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7780">GH7780</a>)</li>
<li>Histogram from <code class="docutils literal"><span class="pre">DataFrame.plot</span></code> with <code class="docutils literal"><span class="pre">kind='hist'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7809">GH7809</a>), See <a class="reference internal" href="visualization.html#visualization-hist"><span class="std std-ref">the docs</span></a>.</li>
<li>Boxplot from <code class="docutils literal"><span class="pre">DataFrame.plot</span></code> with <code class="docutils literal"><span class="pre">kind='box'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7998">GH7998</a>), See <a class="reference internal" href="visualization.html#visualization-box"><span class="std std-ref">the docs</span></a>.</li>
</ul>
<p>Other:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">read_csv</span></code> now has a keyword parameter <code class="docutils literal"><span class="pre">float_precision</span></code> which specifies which floating-point converter the C engine should use during parsing, see <a class="reference internal" href="io.html#io-float-precision"><span class="std std-ref">here</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8002">GH8002</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8044">GH8044</a>)</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">searchsorted</span></code> method to <code class="docutils literal"><span class="pre">Series</span></code> objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7447">GH7447</a>)</p>
</li>
<li><p class="first"><code class="xref py py-func docutils literal"><span class="pre">describe()</span></code> on mixed-types DataFrames is more flexible. Type-based column filtering is now possible via the <code class="docutils literal"><span class="pre">include</span></code>/<code class="docutils literal"><span class="pre">exclude</span></code> arguments.
See the <a class="reference internal" href="basics.html#basics-describe"><span class="std std-ref">docs</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8164">GH8164</a>).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [100]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;catA&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">8</span><span class="p">,</span>
<span class="gp">   .....:</span>                 <span class="s1">&#39;catB&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">6</span><span class="p">,</span>
<span class="gp">   .....:</span>                 <span class="s1">&#39;numC&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">),</span>
<span class="gp">   .....:</span>                 <span class="s1">&#39;numD&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">24.</span><span class="p">)</span> <span class="o">+</span> <span class="o">.</span><span class="mi">5</span><span class="p">})</span>
<span class="gp">   .....:</span> 

<span class="gp">In [101]: </span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;object&quot;</span><span class="p">])</span>
<span class="gr">Out[101]: </span>
<span class="go">       catA catB</span>
<span class="go">count    24   24</span>
<span class="go">unique    2    4</span>
<span class="go">top     foo    d</span>
<span class="go">freq     16    6</span>

<span class="gp">In [102]: </span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;number&quot;</span><span class="p">,</span> <span class="s2">&quot;object&quot;</span><span class="p">],</span> <span class="n">exclude</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;float&quot;</span><span class="p">])</span>
<span class="gr">Out[102]: </span>
<span class="go">       catA catB       numC</span>
<span class="go">count    24   24  24.000000</span>
<span class="go">unique    2    4        NaN</span>
<span class="go">top     foo    d        NaN</span>
<span class="go">freq     16    6        NaN</span>
<span class="go">mean    NaN  NaN  11.500000</span>
<span class="go">std     NaN  NaN   7.071068</span>
<span class="go">min     NaN  NaN   0.000000</span>
<span class="go">25%     NaN  NaN   5.750000</span>
<span class="go">50%     NaN  NaN  11.500000</span>
<span class="go">75%     NaN  NaN  17.250000</span>
<span class="go">max     NaN  NaN  23.000000</span>
</pre></div>
</div>
<p>Requesting all columns is possible with the shorthand &#8216;all&#8217;</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [103]: </span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="gr">Out[103]: </span>
<span class="go">       catA catB       numC       numD</span>
<span class="go">count    24   24  24.000000  24.000000</span>
<span class="go">unique    2    4        NaN        NaN</span>
<span class="go">top     foo    d        NaN        NaN</span>
<span class="go">freq     16    6        NaN        NaN</span>
<span class="go">mean    NaN  NaN  11.500000  12.000000</span>
<span class="go">std     NaN  NaN   7.071068   7.071068</span>
<span class="go">min     NaN  NaN   0.000000   0.500000</span>
<span class="go">25%     NaN  NaN   5.750000   6.250000</span>
<span class="go">50%     NaN  NaN  11.500000  12.000000</span>
<span class="go">75%     NaN  NaN  17.250000  17.750000</span>
<span class="go">max     NaN  NaN  23.000000  23.500000</span>
</pre></div>
</div>
<p>Without those arguments, &#8216;describe` will behave as before, including only numerical columns or, if none are, only categorical columns. See also the <a class="reference internal" href="basics.html#basics-describe"><span class="std std-ref">docs</span></a></p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">split</span></code> as an option to the <code class="docutils literal"><span class="pre">orient</span></code> argument in <code class="docutils literal"><span class="pre">pd.DataFrame.to_dict</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7840">GH7840</a>)</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">get_dummies</span></code> method can now be used on DataFrames. By default only
catagorical columns are encoded as 0&#8217;s and 1&#8217;s, while other columns are
left untouched.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [104]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span>
<span class="gp">   .....:</span>                 <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>
<span class="gp">   .....:</span> 

<span class="gp">In [105]: </span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gr">Out[105]: </span>
<span class="go">   C  A_a  A_b  B_b  B_c</span>
<span class="go">0  1    1    0    0    1</span>
<span class="go">1  2    0    1    0    1</span>
<span class="go">2  3    1    0    1    0</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">PeriodIndex</span></code> supports <code class="docutils literal"><span class="pre">resolution</span></code> as the same as <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7708">GH7708</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pandas.tseries.holiday</span></code> has added support for additional holidays and ways to observe holidays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7070">GH7070</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pandas.tseries.holiday.Holiday</span></code> now supports a list of offsets in Python3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7070">GH7070</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pandas.tseries.holiday.Holiday</span></code> now supports a days_of_week parameter (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7070">GH7070</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">GroupBy.nth()</span></code> now supports selecting multiple nth values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7910">GH7910</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [106]: </span><span class="n">business_dates</span> <span class="o">=</span> <span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;4/1/2014&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;6/30/2014&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>

<span class="gp">In [107]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">business_dates</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span>

<span class="c"># get the first, 4th, and last date index for each month</span>
<span class="gp">In [108]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">((</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">month</span><span class="p">))</span><span class="o">.</span><span class="n">nth</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gr">Out[108]: </span>
<span class="go">        a  b</span>
<span class="go">2014 4  1  1</span>
<span class="go">     4  1  1</span>
<span class="go">     4  1  1</span>
<span class="go">     5  1  1</span>
<span class="go">     5  1  1</span>
<span class="go">     5  1  1</span>
<span class="go">     6  1  1</span>
<span class="go">     6  1  1</span>
<span class="go">     6  1  1</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Period</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex</span></code> supports addition/subtraction with <code class="docutils literal"><span class="pre">timedelta</span></code>-likes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7966">GH7966</a>)</p>
<p>If <code class="docutils literal"><span class="pre">Period</span></code> freq is <code class="docutils literal"><span class="pre">D</span></code>, <code class="docutils literal"><span class="pre">H</span></code>, <code class="docutils literal"><span class="pre">T</span></code>, <code class="docutils literal"><span class="pre">S</span></code>, <code class="docutils literal"><span class="pre">L</span></code>, <code class="docutils literal"><span class="pre">U</span></code>, <code class="docutils literal"><span class="pre">N</span></code>, <code class="docutils literal"><span class="pre">Timedelta</span></code>-like can be added if the result can have same freq. Otherwise, only the same <code class="docutils literal"><span class="pre">offsets</span></code> can be added.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [109]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">period_range</span><span class="p">(</span><span class="s1">&#39;2014-07-01 09:00&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;H&#39;</span><span class="p">)</span>

<span class="gp">In [110]: </span><span class="n">idx</span>
<span class="gr">Out[110]: </span>
<span class="go">PeriodIndex([&#39;2014-07-01 09:00&#39;, &#39;2014-07-01 10:00&#39;, &#39;2014-07-01 11:00&#39;,</span>
<span class="go">             &#39;2014-07-01 12:00&#39;, &#39;2014-07-01 13:00&#39;],</span>
<span class="go">            dtype=&#39;period[H]&#39;, freq=&#39;H&#39;)</span>

<span class="gp">In [111]: </span><span class="n">idx</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">offsets</span><span class="o">.</span><span class="n">Hour</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gr">Out[111]: </span>
<span class="go">PeriodIndex([&#39;2014-07-01 11:00&#39;, &#39;2014-07-01 12:00&#39;, &#39;2014-07-01 13:00&#39;,</span>
<span class="go">             &#39;2014-07-01 14:00&#39;, &#39;2014-07-01 15:00&#39;],</span>
<span class="go">            dtype=&#39;period[H]&#39;, freq=&#39;H&#39;)</span>

<span class="gp">In [112]: </span><span class="n">idx</span> <span class="o">+</span> <span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;120m&#39;</span><span class="p">)</span>
<span class="gr">Out[112]: </span>
<span class="go">PeriodIndex([&#39;2014-07-01 11:00&#39;, &#39;2014-07-01 12:00&#39;, &#39;2014-07-01 13:00&#39;,</span>
<span class="go">             &#39;2014-07-01 14:00&#39;, &#39;2014-07-01 15:00&#39;],</span>
<span class="go">            dtype=&#39;period[H]&#39;, freq=&#39;H&#39;)</span>

<span class="gp">In [113]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">period_range</span><span class="p">(</span><span class="s1">&#39;2014-07&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">)</span>

<span class="gp">In [114]: </span><span class="n">idx</span>
<span class="gr">Out[114]: </span><span class="n">PeriodIndex</span><span class="p">([</span><span class="s1">&#39;2014-07&#39;</span><span class="p">,</span> <span class="s1">&#39;2014-08&#39;</span><span class="p">,</span> <span class="s1">&#39;2014-09&#39;</span><span class="p">,</span> <span class="s1">&#39;2014-10&#39;</span><span class="p">,</span> <span class="s1">&#39;2014-11&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;period[M]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">)</span>

<span class="gp">In [115]: </span><span class="n">idx</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">offsets</span><span class="o">.</span><span class="n">MonthEnd</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gr">Out[115]: </span><span class="n">PeriodIndex</span><span class="p">([</span><span class="s1">&#39;2014-10&#39;</span><span class="p">,</span> <span class="s1">&#39;2014-11&#39;</span><span class="p">,</span> <span class="s1">&#39;2014-12&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-02&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;period[M]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Added experimental compatibility with <code class="docutils literal"><span class="pre">openpyxl</span></code> for versions &gt;= 2.0. The <code class="docutils literal"><span class="pre">DataFrame.to_excel</span></code>
method <code class="docutils literal"><span class="pre">engine</span></code> keyword now recognizes <code class="docutils literal"><span class="pre">openpyxl1</span></code> and <code class="docutils literal"><span class="pre">openpyxl2</span></code>
which will explicitly require openpyxl v1 and v2 respectively, failing if
the requested version is not available. The <code class="docutils literal"><span class="pre">openpyxl</span></code> engine is a now a
meta-engine that automatically uses whichever version of openpyxl is
installed. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7177">GH7177</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.fillna</span></code> can now accept a <code class="docutils literal"><span class="pre">DataFrame</span></code> as a fill value (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8377">GH8377</a>)</p>
</li>
<li><p class="first">Passing multiple levels to <a class="reference internal" href="generated/pandas.DataFrame.stack.html#pandas.DataFrame.stack" title="pandas.DataFrame.stack"><code class="xref py py-meth docutils literal"><span class="pre">stack()</span></code></a> will now work when multiple level
numbers are passed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7660">GH7660</a>). See
<a class="reference internal" href="reshaping.html#reshaping-stack-multiple"><span class="std std-ref">Reshaping by stacking and unstacking</span></a>.</p>
</li>
<li><p class="first"><code class="xref py py-func docutils literal"><span class="pre">set_names()</span></code>, <code class="xref py py-func docutils literal"><span class="pre">set_labels()</span></code>, and <code class="xref py py-func docutils literal"><span class="pre">set_levels()</span></code> methods now take an optional <code class="docutils literal"><span class="pre">level</span></code> keyword argument to all modification of specific level(s) of a MultiIndex. Additionally <code class="xref py py-func docutils literal"><span class="pre">set_names()</span></code> now accepts a scalar string value when operating on an <code class="docutils literal"><span class="pre">Index</span></code> or on a specific level of a <code class="docutils literal"><span class="pre">MultiIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7792">GH7792</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [116]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([[</span><span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;pqr&quot;</span><span class="p">)],</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span><span class="p">])</span>

<span class="gp">In [117]: </span><span class="n">idx</span><span class="o">.</span><span class="n">set_names</span><span class="p">(</span><span class="s1">&#39;qux&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[117]: </span>
<span class="go">MultiIndex(levels=[[u&#39;a&#39;], [0, 1, 2], [u&#39;p&#39;, u&#39;q&#39;, u&#39;r&#39;]],</span>
<span class="go">           labels=[[0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 1, 1, 2, 2, 2], [0, 1, 2, 0, 1, 2, 0, 1, 2]],</span>
<span class="go">           names=[u&#39;qux&#39;, u&#39;bar&#39;, u&#39;baz&#39;])</span>

<span class="gp">In [118]: </span><span class="n">idx</span><span class="o">.</span><span class="n">set_names</span><span class="p">([</span><span class="s1">&#39;qux&#39;</span><span class="p">,</span><span class="s1">&#39;baz&#39;</span><span class="p">],</span> <span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gr">Out[118]: </span>
<span class="go">MultiIndex(levels=[[u&#39;a&#39;], [0, 1, 2], [u&#39;p&#39;, u&#39;q&#39;, u&#39;r&#39;]],</span>
<span class="go">           labels=[[0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 1, 1, 2, 2, 2], [0, 1, 2, 0, 1, 2, 0, 1, 2]],</span>
<span class="go">           names=[u&#39;qux&#39;, u&#39;baz&#39;, u&#39;baz&#39;])</span>

<span class="gp">In [119]: </span><span class="n">idx</span><span class="o">.</span><span class="n">set_levels</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gr">Out[119]: </span>
<span class="go">MultiIndex(levels=[[u&#39;a&#39;], [u&#39;a&#39;, u&#39;b&#39;, u&#39;c&#39;], [u&#39;p&#39;, u&#39;q&#39;, u&#39;r&#39;]],</span>
<span class="go">           labels=[[0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 1, 1, 2, 2, 2], [0, 1, 2, 0, 1, 2, 0, 1, 2]],</span>
<span class="go">           names=[u&#39;foo&#39;, u&#39;bar&#39;, u&#39;baz&#39;])</span>

<span class="gp">In [120]: </span><span class="n">idx</span><span class="o">.</span><span class="n">set_levels</span><span class="p">([[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]],</span> <span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gr">Out[120]: </span>
<span class="go">MultiIndex(levels=[[u&#39;a&#39;], [u&#39;a&#39;, u&#39;b&#39;, u&#39;c&#39;], [1, 2, 3]],</span>
<span class="go">           labels=[[0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 1, 1, 2, 2, 2], [0, 1, 2, 0, 1, 2, 0, 1, 2]],</span>
<span class="go">           names=[u&#39;foo&#39;, u&#39;bar&#39;, u&#39;baz&#39;])</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Index.isin</span></code> now supports a <code class="docutils literal"><span class="pre">level</span></code> argument to specify which index level
to use for membership tests (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7892">GH7892</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7890">GH7890</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]])</span>

<span class="gp">In [2]: </span><span class="n">idx</span><span class="o">.</span><span class="n">values</span>
<span class="gr">Out[2]: </span><span class="n">array</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">idx</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">],</span> <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gr">Out[3]: </span><span class="n">array</span><span class="p">([</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span>  <span class="bp">True</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Index</span></code> now supports <code class="docutils literal"><span class="pre">duplicated</span></code> and <code class="docutils literal"><span class="pre">drop_duplicates</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4060">GH4060</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [121]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>

<span class="gp">In [122]: </span><span class="n">idx</span>
<span class="gr">Out[122]: </span><span class="n">Int64Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>

<span class="gp">In [123]: </span><span class="n">idx</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()</span>
<span class="gr">Out[123]: </span><span class="n">array</span><span class="p">([</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>

<span class="gp">In [124]: </span><span class="n">idx</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
<span class="gr">Out[124]: </span><span class="n">Int64Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">add <code class="docutils literal"><span class="pre">copy=True</span></code> argument to <code class="docutils literal"><span class="pre">pd.concat</span></code> to enable pass thru of complete blocks (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8252">GH8252</a>)</p>
</li>
<li><p class="first">Added support for numpy 1.8+ data types (<code class="docutils literal"><span class="pre">bool_</span></code>, <code class="docutils literal"><span class="pre">int_</span></code>, <code class="docutils literal"><span class="pre">float_</span></code>, <code class="docutils literal"><span class="pre">string_</span></code>) for conversion to R dataframe  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8400">GH8400</a>)</p>
</li>
</ul>
</div>
<div class="section" id="whatsnew-0150-performance">
<span id="id70"></span><h3>Performance<a class="headerlink" href="#whatsnew-0150-performance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Performance improvements in <code class="docutils literal"><span class="pre">DatetimeIndex.__iter__</span></code> to allow faster iteration (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7683">GH7683</a>)</li>
<li>Performance improvements in <code class="docutils literal"><span class="pre">Period</span></code> creation (and <code class="docutils literal"><span class="pre">PeriodIndex</span></code> setitem) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5155">GH5155</a>)</li>
<li>Improvements in Series.transform for significant performance gains (revised) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6496">GH6496</a>)</li>
<li>Performance improvements in <code class="docutils literal"><span class="pre">StataReader</span></code> when reading large files (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8040">GH8040</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8073">GH8073</a>)</li>
<li>Performance improvements in <code class="docutils literal"><span class="pre">StataWriter</span></code> when writing large files (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8079">GH8079</a>)</li>
<li>Performance and memory usage improvements in multi-key <code class="docutils literal"><span class="pre">groupby</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8128">GH8128</a>)</li>
<li>Performance improvements in groupby <code class="docutils literal"><span class="pre">.agg</span></code> and <code class="docutils literal"><span class="pre">.apply</span></code> where builtins max/min were not mapped to numpy/cythonized versions (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7722">GH7722</a>)</li>
<li>Performance improvement in writing to sql (<code class="docutils literal"><span class="pre">to_sql</span></code>) of up to 50% (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8208">GH8208</a>).</li>
<li>Performance benchmarking of groupby for large value of ngroups (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6787">GH6787</a>)</li>
<li>Performance improvement in <code class="docutils literal"><span class="pre">CustomBusinessDay</span></code>, <code class="docutils literal"><span class="pre">CustomBusinessMonth</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8236">GH8236</a>)</li>
<li>Performance improvement for <code class="docutils literal"><span class="pre">MultiIndex.values</span></code> for multi-level indexes containing datetimes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8543">GH8543</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0150-bug-fixes">
<span id="id71"></span><h3>Bug Fixes<a class="headerlink" href="#whatsnew-0150-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Bug in pivot_table, when using margins and a dict aggfunc (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8349">GH8349</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_csv</span></code> where <code class="docutils literal"><span class="pre">squeeze=True</span></code> would return a view (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8217">GH8217</a>)</li>
<li>Bug in checking of table name in <code class="docutils literal"><span class="pre">read_sql</span></code> in certain cases (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7826">GH7826</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.groupby</span></code> where <code class="docutils literal"><span class="pre">Grouper</span></code> does not recognize level when frequency is specified (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7885">GH7885</a>)</li>
<li>Bug in multiindexes dtypes getting mixed up when DataFrame is saved to SQL table (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8021">GH8021</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series</span></code> 0-division with a float and integer operand dtypes  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7785">GH7785</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.astype(&quot;unicode&quot;)</span></code> not calling <code class="docutils literal"><span class="pre">unicode</span></code> on the values correctly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7758">GH7758</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.as_matrix()</span></code> with mixed <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> and <code class="docutils literal"><span class="pre">timedelta64[ns]</span></code> dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7778">GH7778</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">HDFStore.select_column()</span></code> not preserving UTC timezone info when selecting a <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7777">GH7777</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_datetime</span></code> when <code class="docutils literal"><span class="pre">format='%Y%m%d'</span></code> and <code class="docutils literal"><span class="pre">coerce=True</span></code> are specified, where previously an object array was returned (rather than
a coerced time-series with <code class="docutils literal"><span class="pre">NaT</span></code>), (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7930">GH7930</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex</span></code> in-place addition and subtraction cause different result from normal one (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6527">GH6527</a>)</li>
<li>Bug in adding and subtracting <code class="docutils literal"><span class="pre">PeriodIndex</span></code> with <code class="docutils literal"><span class="pre">PeriodIndex</span></code> raise <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7741">GH7741</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">combine_first</span></code> with <code class="docutils literal"><span class="pre">PeriodIndex</span></code> data raises <code class="docutils literal"><span class="pre">TypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3367">GH3367</a>)</li>
<li>Bug in multi-index slicing with missing indexers (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7866">GH7866</a>)</li>
<li>Bug in multi-index slicing with various edge cases (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8132">GH8132</a>)</li>
<li>Regression in multi-index indexing with a non-scalar type object (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7914">GH7914</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Timestamp</span></code> comparisons with <code class="docutils literal"><span class="pre">==</span></code> and <code class="docutils literal"><span class="pre">int64</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8058">GH8058</a>)</li>
<li>Bug in pickles contains <code class="docutils literal"><span class="pre">DateOffset</span></code> may raise <code class="docutils literal"><span class="pre">AttributeError</span></code> when <code class="docutils literal"><span class="pre">normalize</span></code> attribute is reffered internally (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7748">GH7748</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Panel</span></code> when using <code class="docutils literal"><span class="pre">major_xs</span></code> and <code class="docutils literal"><span class="pre">copy=False</span></code> is passed (deprecation warning fails because of missing <code class="docutils literal"><span class="pre">warnings</span></code>) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8152">GH8152</a>).</li>
<li>Bug in pickle deserialization that failed for pre-0.14.1 containers with dup items trying to avoid ambiguity
when matching block and manager items, when there&#8217;s only one block there&#8217;s no ambiguity (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7794">GH7794</a>)</li>
<li>Bug in putting a <code class="docutils literal"><span class="pre">PeriodIndex</span></code> into a <code class="docutils literal"><span class="pre">Series</span></code> would convert to <code class="docutils literal"><span class="pre">int64</span></code> dtype, rather than <code class="docutils literal"><span class="pre">object</span></code> of <code class="docutils literal"><span class="pre">Periods</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7932">GH7932</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">HDFStore</span></code> iteration when passing a where (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8014">GH8014</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrameGroupby.transform</span></code> when transforming with a passed non-sorted key (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8046">GH8046</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8430">GH8430</a>)</li>
<li>Bug in repeated timeseries line and area plot may result in <code class="docutils literal"><span class="pre">ValueError</span></code> or incorrect kind (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7733">GH7733</a>)</li>
<li>Bug in inference in a <code class="docutils literal"><span class="pre">MultiIndex</span></code> with <code class="docutils literal"><span class="pre">datetime.date</span></code> inputs (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7888">GH7888</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">get</span></code> where an <code class="docutils literal"><span class="pre">IndexError</span></code> would not cause the default value to be returned (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7725">GH7725</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">offsets.apply</span></code>, <code class="docutils literal"><span class="pre">rollforward</span></code> and <code class="docutils literal"><span class="pre">rollback</span></code> may reset nanosecond (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7697">GH7697</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">offsets.apply</span></code>, <code class="docutils literal"><span class="pre">rollforward</span></code> and <code class="docutils literal"><span class="pre">rollback</span></code> may raise <code class="docutils literal"><span class="pre">AttributeError</span></code> if <code class="docutils literal"><span class="pre">Timestamp</span></code> has <code class="docutils literal"><span class="pre">dateutil</span></code> tzinfo (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7697">GH7697</a>)</li>
<li>Bug in sorting a multi-index frame with a <code class="docutils literal"><span class="pre">Float64Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8017">GH8017</a>)</li>
<li>Bug in inconsistent panel setitem with a rhs of a <code class="docutils literal"><span class="pre">DataFrame</span></code> for alignment (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7763">GH7763</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">is_superperiod</span></code> and <code class="docutils literal"><span class="pre">is_subperiod</span></code> cannot handle higher frequencies than <code class="docutils literal"><span class="pre">S</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7760">GH7760</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7772">GH7772</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7803">GH7803</a>)</li>
<li>Bug in 32-bit platforms with <code class="docutils literal"><span class="pre">Series.shift</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8129">GH8129</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">PeriodIndex.unique</span></code> returns int64 <code class="docutils literal"><span class="pre">np.ndarray</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7540">GH7540</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby.apply</span></code> with a non-affecting mutation in the function (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8467">GH8467</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.reset_index</span></code> which has <code class="docutils literal"><span class="pre">MultiIndex</span></code> contains <code class="docutils literal"><span class="pre">PeriodIndex</span></code> or <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> with tz raises <code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7746">GH7746</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7793">GH7793</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.plot</span></code> with <code class="docutils literal"><span class="pre">subplots=True</span></code> may draw unnecessary minor xticks and yticks (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7801">GH7801</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">StataReader</span></code> which did not read variable labels in 117 files due to difference between Stata documentation and implementation (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7816">GH7816</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">StataReader</span></code> where strings were always converted to 244 characters-fixed width irrespective of underlying string size (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7858">GH7858</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.plot</span></code> and <code class="docutils literal"><span class="pre">Series.plot</span></code> may ignore <code class="docutils literal"><span class="pre">rot</span></code> and <code class="docutils literal"><span class="pre">fontsize</span></code> keywords (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7844">GH7844</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex.value_counts</span></code> doesn&#8217;t preserve tz  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7735">GH7735</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">PeriodIndex.value_counts</span></code> results in <code class="docutils literal"><span class="pre">Int64Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7735">GH7735</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.join</span></code> when doing left join on index and there are multiple matches (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5391">GH5391</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">GroupBy.transform()</span></code> where int groups with a transform that
didn&#8217;t preserve the index were incorrectly truncated (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7972">GH7972</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby</span></code> where callable objects without name attributes would take the wrong path,
and produce a <code class="docutils literal"><span class="pre">DataFrame</span></code> instead of a <code class="docutils literal"><span class="pre">Series</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7929">GH7929</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby</span></code> error message when a DataFrame grouping column is duplicated (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7511">GH7511</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_html</span></code> where the <code class="docutils literal"><span class="pre">infer_types</span></code> argument forced coercion of
date-likes incorrectly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7762">GH7762</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7032">GH7032</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.str.cat</span></code> with an index which was filtered as to not include the first item (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7857">GH7857</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Timestamp</span></code> cannot parse <code class="docutils literal"><span class="pre">nanosecond</span></code> from string (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7878">GH7878</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Timestamp</span></code> with string offset and <code class="docutils literal"><span class="pre">tz</span></code> results incorrect (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7833">GH7833</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">tslib.tz_convert</span></code> and <code class="docutils literal"><span class="pre">tslib.tz_convert_single</span></code> may return different results (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7798">GH7798</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex.intersection</span></code> of non-overlapping timestamps with tz raises <code class="docutils literal"><span class="pre">IndexError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7880">GH7880</a>)</li>
<li>Bug in alignment with TimeOps and non-unique indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8363">GH8363</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">GroupBy.filter()</span></code> where fast path vs. slow path made the filter
return a non scalar value that appeared valid but wasn&#8217;t (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7870">GH7870</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">date_range()</span></code>/<code class="docutils literal"><span class="pre">DatetimeIndex()</span></code> when the timezone was inferred from input dates yet incorrect
times were returned when crossing DST boundaries (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7835">GH7835</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7901">GH7901</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_excel()</span></code> where a negative sign was being prepended to positive infinity and was absent for negative infinity (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7949">GH7949</a>)</li>
<li>Bug in area plot draws legend with incorrect <code class="docutils literal"><span class="pre">alpha</span></code> when <code class="docutils literal"><span class="pre">stacked=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8027">GH8027</a>)</li>
<li><code class="docutils literal"><span class="pre">Period</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex</span></code> addition/subtraction with <code class="docutils literal"><span class="pre">np.timedelta64</span></code> results in incorrect internal representations (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7740">GH7740</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Holiday</span></code> with no offset or observance (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7987">GH7987</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_latex</span></code> formatting when columns or index is a <code class="docutils literal"><span class="pre">MultiIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7982">GH7982</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DateOffset</span></code> around Daylight Savings Time produces unexpected results (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5175">GH5175</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.shift</span></code> where empty columns would throw <code class="docutils literal"><span class="pre">ZeroDivisionError</span></code> on numpy 1.7 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8019">GH8019</a>)</li>
<li>Bug in installation where <code class="docutils literal"><span class="pre">html_encoding/*.html</span></code> wasn&#8217;t installed and
therefore some tests were not running correctly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7927">GH7927</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_html</span></code> where <code class="docutils literal"><span class="pre">bytes</span></code> objects were not tested for in
<code class="docutils literal"><span class="pre">_read</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7927">GH7927</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.stack()</span></code> when one of the column levels was a datelike (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8039">GH8039</a>)</li>
<li>Bug in broadcasting numpy scalars with <code class="docutils literal"><span class="pre">DataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8116">GH8116</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pivot_table</span></code> performed with nameless <code class="docutils literal"><span class="pre">index</span></code> and <code class="docutils literal"><span class="pre">columns</span></code> raises <code class="docutils literal"><span class="pre">KeyError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8103">GH8103</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.plot(kind='scatter')</span></code> draws points and errorbars with different colors when the color is specified by <code class="docutils literal"><span class="pre">c</span></code> keyword (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8081">GH8081</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Float64Index</span></code> where <code class="docutils literal"><span class="pre">iat</span></code> and <code class="docutils literal"><span class="pre">at</span></code> were not testing and were
failing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8092">GH8092</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.boxplot()</span></code> where y-limits were not set correctly when
producing multiple axes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7528">GH7528</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5517">GH5517</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_csv</span></code> where line comments were not handled correctly given
a custom line terminator or <code class="docutils literal"><span class="pre">delim_whitespace=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8122">GH8122</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_html</span></code> where empty tables caused a <code class="docutils literal"><span class="pre">StopIteration</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7575">GH7575</a>)</li>
<li>Bug in casting when setting a column in a same-dtype block (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7704">GH7704</a>)</li>
<li>Bug in accessing groups from a <code class="docutils literal"><span class="pre">GroupBy</span></code> when the original grouper
was a tuple (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8121">GH8121</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">.at</span></code> that would accept integer indexers on a non-integer index and do fallback (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7814">GH7814</a>)</li>
<li>Bug with kde plot and NaNs (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8182">GH8182</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">GroupBy.count</span></code> with float32 data type were nan values were not excluded (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8169">GH8169</a>).</li>
<li>Bug with stacked barplots and NaNs (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8175">GH8175</a>).</li>
<li>Bug in resample with non evenly divisible offsets (e.g. &#8216;7s&#8217;) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8371">GH8371</a>)</li>
<li>Bug in interpolation methods with the <code class="docutils literal"><span class="pre">limit</span></code> keyword when no values needed interpolating (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7173">GH7173</a>).</li>
<li>Bug where <code class="docutils literal"><span class="pre">col_space</span></code> was ignored in <code class="docutils literal"><span class="pre">DataFrame.to_string()</span></code> when <code class="docutils literal"><span class="pre">header=False</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8230">GH8230</a>).</li>
<li>Bug with <code class="docutils literal"><span class="pre">DatetimeIndex.asof</span></code> incorrectly matching partial strings and returning the wrong date (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8245">GH8245</a>).</li>
<li>Bug in plotting methods modifying the global matplotlib rcParams (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8242">GH8242</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.__setitem__</span></code> that caused errors when setting a dataframe column to a sparse array (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8131">GH8131</a>)</li>
<li>Bug where <code class="docutils literal"><span class="pre">Dataframe.boxplot()</span></code> failed when entire column was empty (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8181">GH8181</a>).</li>
<li>Bug with messed variables in <code class="docutils literal"><span class="pre">radviz</span></code> visualization (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8199">GH8199</a>).</li>
<li>Bug in interpolation methods with the <code class="docutils literal"><span class="pre">limit</span></code> keyword when no values needed interpolating (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7173">GH7173</a>).</li>
<li>Bug where <code class="docutils literal"><span class="pre">col_space</span></code> was ignored in <code class="docutils literal"><span class="pre">DataFrame.to_string()</span></code> when <code class="docutils literal"><span class="pre">header=False</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8230">GH8230</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_clipboard</span></code> that would clip long column data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8305">GH8305</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame</span></code> terminal display: Setting max_column/max_rows to zero did not trigger auto-resizing of dfs to fit terminal width/height (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7180">GH7180</a>).</li>
<li>Bug in OLS where running with &#8220;cluster&#8221; and &#8220;nw_lags&#8221; parameters did not work correctly, but also did not throw an error
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5884">GH5884</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.dropna</span></code> that interpreted non-existent columns in the subset argument as the &#8216;last column&#8217; (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8303">GH8303</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index.intersection</span></code> on non-monotonic non-unique indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8362">GH8362</a>).</li>
<li>Bug in masked series assignment where mismatching types would break alignment (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8387">GH8387</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">NDFrame.equals</span></code> gives false negatives with dtype=object (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8437">GH8437</a>)</li>
<li>Bug in assignment with indexer where type diversity would break alignment (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8258">GH8258</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">NDFrame.loc</span></code> indexing when row/column names were lost when target was a list/ndarray (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6552">GH6552</a>)</li>
<li>Regression in <code class="docutils literal"><span class="pre">NDFrame.loc</span></code> indexing when rows/columns were converted to Float64Index if target was an empty list/ndarray (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7774">GH7774</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series</span></code> that allows it to be indexed by a <code class="docutils literal"><span class="pre">DataFrame</span></code> which has unexpected results.  Such indexing is no longer permitted (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/8444">GH8444</a>)</li>
<li>Bug in item assignment of a <code class="docutils literal"><span class="pre">DataFrame</span></code> with multi-index columns where right-hand-side columns were not aligned (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7655">GH7655</a>)</li>
<li>Suppress FutureWarning generated by NumPy when comparing object arrays containing NaN for equality (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7065">GH7065</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.eval()</span></code> where the dtype of the <code class="docutils literal"><span class="pre">not</span></code> operator (<code class="docutils literal"><span class="pre">~</span></code>)
was not correctly inferred as <code class="docutils literal"><span class="pre">bool</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="v0-14-1-july-11-2014">
<span id="whatsnew-0141"></span><h2>v0.14.1 (July 11, 2014)<a class="headerlink" href="#v0-14-1-july-11-2014" title="Permalink to this headline">¶</a></h2>
<p>This is a minor release from 0.14.0 and includes a small number of API changes, several new features,
enhancements, and performance improvements along with a large number of bug fixes. We recommend that all
users upgrade to this version.</p>
<ul class="simple">
<li>Highlights include:<ul>
<li>New methods <a class="reference internal" href="generated/pandas.DataFrame.select_dtypes.html#pandas.DataFrame.select_dtypes" title="pandas.DataFrame.select_dtypes"><code class="xref py py-meth docutils literal"><span class="pre">select_dtypes()</span></code></a> to select columns
based on the dtype and <a class="reference internal" href="generated/pandas.Series.sem.html#pandas.Series.sem" title="pandas.Series.sem"><code class="xref py py-meth docutils literal"><span class="pre">sem()</span></code></a> to calculate the
standard error of the mean.</li>
<li>Support for dateutil timezones (see <a class="reference internal" href="timeseries.html#timeseries-timezone"><span class="std std-ref">docs</span></a>).</li>
<li>Support for ignoring full line comments in the <a class="reference internal" href="generated/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal"><span class="pre">read_csv()</span></code></a>
text parser.</li>
<li>New documentation section on <a class="reference internal" href="options.html#options"><span class="std std-ref">Options and Settings</span></a>.</li>
<li>Lots of bug fixes.</li>
</ul>
</li>
<li><a class="reference internal" href="#whatsnew-0141-enhancements"><span class="std std-ref">Enhancements</span></a></li>
<li><a class="reference internal" href="#whatsnew-0141-api"><span class="std std-ref">API Changes</span></a></li>
<li><a class="reference internal" href="#whatsnew-0141-performance"><span class="std std-ref">Performance Improvements</span></a></li>
<li><a class="reference internal" href="#whatsnew-0141-experimental"><span class="std std-ref">Experimental Changes</span></a></li>
<li><a class="reference internal" href="#whatsnew-0141-bug-fixes"><span class="std std-ref">Bug Fixes</span></a></li>
</ul>
<div class="section" id="whatsnew-0141-api">
<span id="id72"></span><h3>API changes<a class="headerlink" href="#whatsnew-0141-api" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Openpyxl now raises a ValueError on construction of the openpyxl writer
instead of warning on pandas import (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7284">GH7284</a>).</p>
</li>
<li><p class="first">For <code class="docutils literal"><span class="pre">StringMethods.extract</span></code>, when no match is found, the result - only
containing <code class="docutils literal"><span class="pre">NaN</span></code> values - now also has <code class="docutils literal"><span class="pre">dtype=object</span></code> instead of
<code class="docutils literal"><span class="pre">float</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7242">GH7242</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Period</span></code> objects no longer raise a <code class="docutils literal"><span class="pre">TypeError</span></code> when compared using <code class="docutils literal"><span class="pre">==</span></code>
with another object that <em>isn&#8217;t</em> a <code class="docutils literal"><span class="pre">Period</span></code>. Instead
when comparing a <code class="docutils literal"><span class="pre">Period</span></code> with another object using <code class="docutils literal"><span class="pre">==</span></code> if the other
object isn&#8217;t a <code class="docutils literal"><span class="pre">Period</span></code> <code class="docutils literal"><span class="pre">False</span></code> is returned. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7376">GH7376</a>)</p>
</li>
<li><p class="first">Previously, the behaviour on resetting the time or not in
<code class="docutils literal"><span class="pre">offsets.apply</span></code>, <code class="docutils literal"><span class="pre">rollforward</span></code> and <code class="docutils literal"><span class="pre">rollback</span></code> operations differed
between offsets. With the support of the <code class="docutils literal"><span class="pre">normalize</span></code> keyword for all offsets(see
below) with a default value of False (preserve time), the behaviour changed for certain
offsets (BusinessMonthBegin, MonthEnd, BusinessMonthEnd, CustomBusinessMonthEnd,
BusinessYearBegin, LastWeekOfMonth, FY5253Quarter, LastWeekOfMonth, Easter):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="kn">from</span> <span class="nn">pandas.tseries</span> <span class="kn">import</span> <span class="n">offsets</span>

<span class="gp">In [7]: </span><span class="n">d</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-01-01 09:00&#39;</span><span class="p">)</span>

<span class="c"># old behaviour &lt; 0.14.1</span>
<span class="gp">In [8]: </span><span class="n">d</span> <span class="o">+</span> <span class="n">offsets</span><span class="o">.</span><span class="n">MonthEnd</span><span class="p">()</span>
<span class="gr">Out[8]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-01-31 00:00:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Starting from 0.14.1 all offsets preserve time by default. The old
behaviour can be obtained with <code class="docutils literal"><span class="pre">normalize=True</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># new behaviour</span>
<span class="gp">In [1]: </span><span class="n">d</span> <span class="o">+</span> <span class="n">offsets</span><span class="o">.</span><span class="n">MonthEnd</span><span class="p">()</span>
<span class="gr">Out[1]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-01-31 09:00:00&#39;</span><span class="p">)</span>

<span class="gp">In [2]: </span><span class="n">d</span> <span class="o">+</span> <span class="n">offsets</span><span class="o">.</span><span class="n">MonthEnd</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[2]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-01-31 00:00:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that for the other offsets the default behaviour did not change.</p>
</li>
<li><p class="first">Add back <code class="docutils literal"><span class="pre">#N/A</span> <span class="pre">N/A</span></code> as a default NA value in text parsing, (regresion from 0.12) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5521">GH5521</a>)</p>
</li>
<li><p class="first">Raise a <code class="docutils literal"><span class="pre">TypeError</span></code> on inplace-setting with a <code class="docutils literal"><span class="pre">.where</span></code> and a non <code class="docutils literal"><span class="pre">np.nan</span></code> value as this is inconsistent
with a set-item expression like <code class="docutils literal"><span class="pre">df[mask]</span> <span class="pre">=</span> <span class="pre">None</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7656">GH7656</a>)</p>
</li>
</ul>
</div>
<div class="section" id="whatsnew-0141-enhancements">
<span id="id73"></span><h3>Enhancements<a class="headerlink" href="#whatsnew-0141-enhancements" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Add <code class="docutils literal"><span class="pre">dropna</span></code> argument to <code class="docutils literal"><span class="pre">value_counts</span></code> and <code class="docutils literal"><span class="pre">nunique</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5569">GH5569</a>).</p>
</li>
<li><p class="first">Add <a class="reference internal" href="generated/pandas.DataFrame.select_dtypes.html#pandas.DataFrame.select_dtypes" title="pandas.DataFrame.select_dtypes"><code class="xref py py-meth docutils literal"><span class="pre">select_dtypes()</span></code></a> method to allow selection of
columns based on dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7316">GH7316</a>). See <a class="reference internal" href="basics.html#basics-selectdtypes"><span class="std std-ref">the docs</span></a>.</p>
</li>
<li><p class="first">All <code class="docutils literal"><span class="pre">offsets</span></code> suppports the <code class="docutils literal"><span class="pre">normalize</span></code> keyword to specify whether
<code class="docutils literal"><span class="pre">offsets.apply</span></code>, <code class="docutils literal"><span class="pre">rollforward</span></code> and <code class="docutils literal"><span class="pre">rollback</span></code> resets the time (hour,
minute, etc) or not (default <code class="docutils literal"><span class="pre">False</span></code>, preserves time) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7156">GH7156</a>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="kn">import</span> <span class="nn">pandas.tseries.offsets</span> <span class="kn">as</span> <span class="nn">offsets</span>

<span class="gp">In [4]: </span><span class="n">day</span> <span class="o">=</span> <span class="n">offsets</span><span class="o">.</span><span class="n">Day</span><span class="p">()</span>

<span class="gp">In [5]: </span><span class="n">day</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-01-01 09:00&#39;</span><span class="p">))</span>
<span class="gr">Out[5]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-01-02 09:00:00&#39;</span><span class="p">)</span>

<span class="gp">In [6]: </span><span class="n">day</span> <span class="o">=</span> <span class="n">offsets</span><span class="o">.</span><span class="n">Day</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="gp">In [7]: </span><span class="n">day</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-01-01 09:00&#39;</span><span class="p">))</span>
<span class="gr">Out[7]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2014-01-02 00:00:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">PeriodIndex</span></code> is represented as the same format as <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7601">GH7601</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">StringMethods</span></code> now work on empty Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7242">GH7242</a>)</p>
</li>
<li><p class="first">The file parsers <code class="docutils literal"><span class="pre">read_csv</span></code> and <code class="docutils literal"><span class="pre">read_table</span></code> now ignore line comments provided by
the parameter <cite>comment</cite>, which accepts only a single character for the C reader.
In particular, they allow for comments before file data begins (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2685">GH2685</a>)</p>
</li>
<li><p class="first">Add <code class="docutils literal"><span class="pre">NotImplementedError</span></code> for simultaneous use of <code class="docutils literal"><span class="pre">chunksize</span></code> and <code class="docutils literal"><span class="pre">nrows</span></code>
for read_csv() (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6774">GH6774</a>).</p>
</li>
<li><p class="first">Tests for basic reading of public S3 buckets now exist (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7281">GH7281</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">read_html</span></code> now sports an <code class="docutils literal"><span class="pre">encoding</span></code> argument that is passed to the
underlying parser library. You can use this to read non-ascii encoded web
pages (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7323">GH7323</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">read_excel</span></code> now supports reading from URLs in the same way
that <code class="docutils literal"><span class="pre">read_csv</span></code> does.  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6809">GH6809</a>)</p>
</li>
<li><p class="first">Support for dateutil timezones, which can now be used in the same way as
pytz timezones across pandas. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4688">GH4688</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">rng</span> <span class="o">=</span> <span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;3/6/2012 00:00&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                  <span class="n">tz</span><span class="o">=</span><span class="s1">&#39;dateutil/Europe/London&#39;</span><span class="p">)</span>
<span class="gp">   ...:</span> 

<span class="gp">In [9]: </span><span class="n">rng</span><span class="o">.</span><span class="n">tz</span>
<span class="gr">Out[9]: </span><span class="n">tzfile</span><span class="p">(</span><span class="s1">&#39;/usr/share/zoneinfo/Europe/London&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="timeseries.html#timeseries-timezone"><span class="std std-ref">the docs</span></a>.</p>
</li>
<li><p class="first">Implemented <code class="docutils literal"><span class="pre">sem</span></code> (standard error of the mean) operation for <code class="docutils literal"><span class="pre">Series</span></code>,
<code class="docutils literal"><span class="pre">DataFrame</span></code>, <code class="docutils literal"><span class="pre">Panel</span></code>, and <code class="docutils literal"><span class="pre">Groupby</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6897">GH6897</a>)</p>
</li>
<li><p class="first">Add <code class="docutils literal"><span class="pre">nlargest</span></code> and <code class="docutils literal"><span class="pre">nsmallest</span></code> to the <code class="docutils literal"><span class="pre">Series</span></code> <code class="docutils literal"><span class="pre">groupby</span></code> whitelist,
which means you can now use these methods on a <code class="docutils literal"><span class="pre">SeriesGroupBy</span></code> object
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7053">GH7053</a>).</p>
</li>
<li><p class="first">All offsets <code class="docutils literal"><span class="pre">apply</span></code>, <code class="docutils literal"><span class="pre">rollforward</span></code> and <code class="docutils literal"><span class="pre">rollback</span></code> can now handle <code class="docutils literal"><span class="pre">np.datetime64</span></code>, previously results in <code class="docutils literal"><span class="pre">ApplyTypeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7452">GH7452</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Period</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex</span></code> can contain <code class="docutils literal"><span class="pre">NaT</span></code> in its values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7485">GH7485</a>)</p>
</li>
<li><p class="first">Support pickling <code class="docutils literal"><span class="pre">Series</span></code>, <code class="docutils literal"><span class="pre">DataFrame</span></code> and <code class="docutils literal"><span class="pre">Panel</span></code> objects with
non-unique labels along <em>item</em> axis (<code class="docutils literal"><span class="pre">index</span></code>, <code class="docutils literal"><span class="pre">columns</span></code> and <code class="docutils literal"><span class="pre">items</span></code>
respectively) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7370">GH7370</a>).</p>
</li>
<li><p class="first">Improved inference of datetime/timedelta with mixed null objects. Regression from 0.13.1 in interpretation of an object Index
with all null elements (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7431">GH7431</a>)</p>
</li>
</ul>
</div>
<div class="section" id="whatsnew-0141-performance">
<span id="id74"></span><h3>Performance<a class="headerlink" href="#whatsnew-0141-performance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Improvements in dtype inference for numeric operations involving yielding performance gains for dtypes: <code class="docutils literal"><span class="pre">int64</span></code>, <code class="docutils literal"><span class="pre">timedelta64</span></code>, <code class="docutils literal"><span class="pre">datetime64</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7223">GH7223</a>)</li>
<li>Improvements in Series.transform for significant performance gains (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6496">GH6496</a>)</li>
<li>Improvements in DataFrame.transform with ufuncs and built-in grouper functions for signifcant performance gains (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7383">GH7383</a>)</li>
<li>Regression in groupby aggregation of datetime64 dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7555">GH7555</a>)</li>
<li>Improvements in <cite>MultiIndex.from_product</cite> for large iterables (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7627">GH7627</a>)</li>
</ul>
</div>
<div class="section" id="experimental">
<span id="whatsnew-0141-experimental"></span><h3>Experimental<a class="headerlink" href="#experimental" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">pandas.io.data.Options</span></code> has a new method, <code class="docutils literal"><span class="pre">get_all_data</span></code> method, and now consistently returns a
multi-indexed <code class="docutils literal"><span class="pre">DataFrame</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5602">GH5602</a>)</li>
<li><code class="docutils literal"><span class="pre">io.gbq.read_gbq</span></code> and <code class="docutils literal"><span class="pre">io.gbq.to_gbq</span></code> were refactored to remove the
dependency on the Google <code class="docutils literal"><span class="pre">bq.py</span></code> command line client. This submodule
now uses <code class="docutils literal"><span class="pre">httplib2</span></code> and the Google <code class="docutils literal"><span class="pre">apiclient</span></code> and <code class="docutils literal"><span class="pre">oauth2client</span></code> API client
libraries which should be more stable and, therefore, reliable than
<code class="docutils literal"><span class="pre">bq.py</span></code>. See <a class="reference internal" href="io.html#io-bigquery"><span class="std std-ref">the docs</span></a>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6937">GH6937</a>).</li>
</ul>
</div>
<div class="section" id="whatsnew-0141-bug-fixes">
<span id="id75"></span><h3>Bug Fixes<a class="headerlink" href="#whatsnew-0141-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.where</span></code> with a symmetric shaped frame and a passed other of a DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7506">GH7506</a>)</li>
<li>Bug in Panel indexing with a multi-index axis (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7516">GH7516</a>)</li>
<li>Regression in datetimelike slice indexing with a duplicated index and non-exact end-points (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7523">GH7523</a>)</li>
<li>Bug in setitem with list-of-lists and single vs mixed types (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7551">GH7551</a>:)</li>
<li>Bug in timeops with non-aligned Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7500">GH7500</a>)</li>
<li>Bug in timedelta inference when assigning an incomplete Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7592">GH7592</a>)</li>
<li>Bug in groupby <code class="docutils literal"><span class="pre">.nth</span></code> with a Series and integer-like column name (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7559">GH7559</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.get</span></code> with a boolean accessor (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7407">GH7407</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">value_counts</span></code> where <code class="docutils literal"><span class="pre">NaT</span></code> did not qualify as missing (<code class="docutils literal"><span class="pre">NaN</span></code>) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7423">GH7423</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_timedelta</span></code> that accepted invalid units and misinterpreted &#8216;m/h&#8217; (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7611">GH7611</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6423">GH6423</a>)</li>
<li>Bug in line plot doesn&#8217;t set correct <code class="docutils literal"><span class="pre">xlim</span></code> if <code class="docutils literal"><span class="pre">secondary_y=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7459">GH7459</a>)</li>
<li>Bug in grouped <code class="docutils literal"><span class="pre">hist</span></code> and <code class="docutils literal"><span class="pre">scatter</span></code> plots use old <code class="docutils literal"><span class="pre">figsize</span></code> default (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7394">GH7394</a>)</li>
<li>Bug in plotting subplots with <code class="docutils literal"><span class="pre">DataFrame.plot</span></code>, <code class="docutils literal"><span class="pre">hist</span></code> clears passed <code class="docutils literal"><span class="pre">ax</span></code> even if the number of subplots is one (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7391">GH7391</a>).</li>
<li>Bug in plotting subplots with <code class="docutils literal"><span class="pre">DataFrame.boxplot</span></code> with <code class="docutils literal"><span class="pre">by</span></code> kw raises <code class="docutils literal"><span class="pre">ValueError</span></code> if the number of subplots exceeds 1 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7391">GH7391</a>).</li>
<li>Bug in subplots displays <code class="docutils literal"><span class="pre">ticklabels</span></code> and <code class="docutils literal"><span class="pre">labels</span></code> in different rule (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5897">GH5897</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Panel.apply</span></code> with a multi-index as an axis (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7469">GH7469</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex.insert</span></code> doesn&#8217;t preserve <code class="docutils literal"><span class="pre">name</span></code> and <code class="docutils literal"><span class="pre">tz</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7299">GH7299</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex.asobject</span></code> doesn&#8217;t preserve <code class="docutils literal"><span class="pre">name</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7299">GH7299</a>)</li>
<li>Bug in multi-index slicing with datetimelike ranges (strings and Timestamps), (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7429">GH7429</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index.min</span></code> and <code class="docutils literal"><span class="pre">max</span></code> doesn&#8217;t handle <code class="docutils literal"><span class="pre">nan</span></code> and <code class="docutils literal"><span class="pre">NaT</span></code> properly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7261">GH7261</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">PeriodIndex.min/max</span></code> results in <code class="docutils literal"><span class="pre">int</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7609">GH7609</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">resample</span></code> where <code class="docutils literal"><span class="pre">fill_method</span></code> was ignored if you passed <code class="docutils literal"><span class="pre">how</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2073">GH2073</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">TimeGrouper</span></code> doesn&#8217;t exclude column specified by <code class="docutils literal"><span class="pre">key</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7227">GH7227</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame</span></code> and <code class="docutils literal"><span class="pre">Series</span></code> bar and barh plot raises <code class="docutils literal"><span class="pre">TypeError</span></code> when <code class="docutils literal"><span class="pre">bottom</span></code>
and <code class="docutils literal"><span class="pre">left</span></code> keyword is specified (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7226">GH7226</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.hist</span></code> raises <code class="docutils literal"><span class="pre">TypeError</span></code> when it contains non numeric column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7277">GH7277</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index.delete</span></code> does not preserve <code class="docutils literal"><span class="pre">name</span></code> and <code class="docutils literal"><span class="pre">freq</span></code> attributes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7302">GH7302</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.query()</span></code>/<code class="docutils literal"><span class="pre">eval</span></code> where local string variables with the &#64;
sign were being treated as temporaries attempting to be deleted
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7300">GH7300</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">Float64Index</span></code> which didn&#8217;t allow duplicates (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7149">GH7149</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.replace()</span></code> where truthy values were being replaced
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7140">GH7140</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">StringMethods.extract()</span></code> where a single match group Series
would use the matcher&#8217;s name instead of the group name (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7313">GH7313</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">isnull()</span></code> when <code class="docutils literal"><span class="pre">mode.use_inf_as_null</span> <span class="pre">==</span> <span class="pre">True</span></code> where isnull
wouldn&#8217;t test <code class="docutils literal"><span class="pre">True</span></code> when it encountered an <code class="docutils literal"><span class="pre">inf</span></code>/<code class="docutils literal"><span class="pre">-inf</span></code>
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7315">GH7315</a>).</li>
<li>Bug in inferred_freq results in None for eastern hemisphere timezones (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7310">GH7310</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Easter</span></code> returns incorrect date when offset is negative (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7195">GH7195</a>)</li>
<li>Bug in broadcasting with <code class="docutils literal"><span class="pre">.div</span></code>, integer dtypes and divide-by-zero (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7325">GH7325</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">CustomBusinessDay.apply</span></code> raiases <code class="docutils literal"><span class="pre">NameError</span></code> when <code class="docutils literal"><span class="pre">np.datetime64</span></code> object is passed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7196">GH7196</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">MultiIndex.append</span></code>, <code class="docutils literal"><span class="pre">concat</span></code> and <code class="docutils literal"><span class="pre">pivot_table</span></code> don&#8217;t preserve timezone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6606">GH6606</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.loc</span></code> with a list of indexers on a single-multi index level (that is not nested) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7349">GH7349</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.map</span></code> when mapping a dict with tuple keys of different lengths (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7333">GH7333</a>)</li>
<li>Bug all <code class="docutils literal"><span class="pre">StringMethods</span></code> now work on empty Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7242">GH7242</a>)</li>
<li>Fix delegation of <cite>read_sql</cite> to <cite>read_sql_query</cite> when query does not contain &#8216;select&#8217; (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7324">GH7324</a>).</li>
<li>Bug where a string column name assignment to a <code class="docutils literal"><span class="pre">DataFrame</span></code> with a
<code class="docutils literal"><span class="pre">Float64Index</span></code> raised a <code class="docutils literal"><span class="pre">TypeError</span></code> during a call to <code class="docutils literal"><span class="pre">np.isnan</span></code>
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7366">GH7366</a>).</li>
<li>Bug where <code class="docutils literal"><span class="pre">NDFrame.replace()</span></code> didn&#8217;t correctly replace objects with
<code class="docutils literal"><span class="pre">Period</span></code> values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7379">GH7379</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">.ix</span></code> getitem should always return a Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7150">GH7150</a>)</li>
<li>Bug in multi-index slicing with incomplete indexers (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7399">GH7399</a>)</li>
<li>Bug in multi-index slicing with a step in a sliced level (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7400">GH7400</a>)</li>
<li>Bug where negative indexers in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> were not correctly sliced
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7408">GH7408</a>)</li>
<li>Bug where <code class="docutils literal"><span class="pre">NaT</span></code> wasn&#8217;t repr&#8217;d correctly in a <code class="docutils literal"><span class="pre">MultiIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7406">GH7406</a>,
<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7409">GH7409</a>).</li>
<li>Bug where bool objects were converted to <code class="docutils literal"><span class="pre">nan</span></code> in <code class="docutils literal"><span class="pre">convert_objects</span></code>
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7416">GH7416</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">quantile</span></code> ignoring the axis keyword argument (:issue`7306`)</li>
<li>Bug where <code class="docutils literal"><span class="pre">nanops._maybe_null_out</span></code> doesn&#8217;t work with complex numbers
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7353">GH7353</a>)</li>
<li>Bug in several <code class="docutils literal"><span class="pre">nanops</span></code> functions when <code class="docutils literal"><span class="pre">axis==0</span></code> for
1-dimensional <code class="docutils literal"><span class="pre">nan</span></code> arrays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7354">GH7354</a>)</li>
<li>Bug where <code class="docutils literal"><span class="pre">nanops.nanmedian</span></code> doesn&#8217;t work when <code class="docutils literal"><span class="pre">axis==None</span></code>
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7352">GH7352</a>)</li>
<li>Bug where <code class="docutils literal"><span class="pre">nanops._has_infs</span></code> doesn&#8217;t work with many dtypes
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7357">GH7357</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">StataReader.data</span></code> where reading a 0-observation dta failed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7369">GH7369</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">StataReader</span></code> when reading Stata 13 (117) files containing fixed width strings (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7360">GH7360</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">StataWriter</span></code> where encoding was ignored (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7286">GH7286</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> comparison doesn&#8217;t handle <code class="docutils literal"><span class="pre">NaT</span></code> properly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7529">GH7529</a>)</li>
<li>Bug in passing input with <code class="docutils literal"><span class="pre">tzinfo</span></code> to some offsets <code class="docutils literal"><span class="pre">apply</span></code>, <code class="docutils literal"><span class="pre">rollforward</span></code> or <code class="docutils literal"><span class="pre">rollback</span></code> resets <code class="docutils literal"><span class="pre">tzinfo</span></code> or raises <code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7465">GH7465</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex.to_period</span></code>, <code class="docutils literal"><span class="pre">PeriodIndex.asobject</span></code>, <code class="docutils literal"><span class="pre">PeriodIndex.to_timestamp</span></code> doesn&#8217;t preserve <code class="docutils literal"><span class="pre">name</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7485">GH7485</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex.to_period</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex.to_timestanp</span></code> handle <code class="docutils literal"><span class="pre">NaT</span></code> incorrectly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7228">GH7228</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">offsets.apply</span></code>, <code class="docutils literal"><span class="pre">rollforward</span></code> and <code class="docutils literal"><span class="pre">rollback</span></code> may return normal <code class="docutils literal"><span class="pre">datetime</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7502">GH7502</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">resample</span></code> raises <code class="docutils literal"><span class="pre">ValueError</span></code> when target contains <code class="docutils literal"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7227">GH7227</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Timestamp.tz_localize</span></code> resets <code class="docutils literal"><span class="pre">nanosecond</span></code> info (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7534">GH7534</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex.asobject</span></code> raises <code class="docutils literal"><span class="pre">ValueError</span></code> when it contains <code class="docutils literal"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7539">GH7539</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Timestamp.__new__</span></code> doesn&#8217;t preserve nanosecond properly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7610">GH7610</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Index.astype(float)</span></code> where it would return an <code class="docutils literal"><span class="pre">object</span></code> dtype
<code class="docutils literal"><span class="pre">Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7464">GH7464</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.reset_index</span></code> loses <code class="docutils literal"><span class="pre">tz</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3950">GH3950</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex.freqstr</span></code> raises <code class="docutils literal"><span class="pre">AttributeError</span></code> when <code class="docutils literal"><span class="pre">freq</span></code> is <code class="docutils literal"><span class="pre">None</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7606">GH7606</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">GroupBy.size</span></code> created by <code class="docutils literal"><span class="pre">TimeGrouper</span></code> raises <code class="docutils literal"><span class="pre">AttributeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7453">GH7453</a>)</li>
<li>Bug in single column bar plot is misaligned (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7498">GH7498</a>).</li>
<li>Bug in area plot with tz-aware time series raises <code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7471">GH7471</a>)</li>
<li>Bug in non-monotonic <code class="docutils literal"><span class="pre">Index.union</span></code> may preserve <code class="docutils literal"><span class="pre">name</span></code> incorrectly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7458">GH7458</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex.intersection</span></code> doesn&#8217;t preserve timezone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4690">GH4690</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">rolling_var</span></code> where a window larger than the array would raise an error(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7297">GH7297</a>)</li>
<li>Bug with last plotted timeseries dictating <code class="docutils literal"><span class="pre">xlim</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2960">GH2960</a>)</li>
<li>Bug with <code class="docutils literal"><span class="pre">secondary_y</span></code> axis not being considered for timeseries <code class="docutils literal"><span class="pre">xlim</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3490">GH3490</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Float64Index</span></code> assignment with a non scalar indexer (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7586">GH7586</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pandas.core.strings.str_contains</span></code> does not properly match in a case insensitive fashion when <code class="docutils literal"><span class="pre">regex=False</span></code> and <code class="docutils literal"><span class="pre">case=False</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7505">GH7505</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">expanding_cov</span></code>, <code class="docutils literal"><span class="pre">expanding_corr</span></code>, <code class="docutils literal"><span class="pre">rolling_cov</span></code>, and <code class="docutils literal"><span class="pre">rolling_corr</span></code> for two arguments with mismatched index  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7512">GH7512</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">to_sql</span></code> taking the boolean column as text column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7678">GH7678</a>)</li>
<li>Bug in grouped <cite>hist</cite> doesn&#8217;t handle <cite>rot</cite> kw and <cite>sharex</cite> kw properly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7234">GH7234</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.loc</span></code> performing fallback integer indexing with <code class="docutils literal"><span class="pre">object</span></code> dtype indices (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7496">GH7496</a>)</li>
<li>Bug (regression) in <code class="docutils literal"><span class="pre">PeriodIndex</span></code> constructor when passed <code class="docutils literal"><span class="pre">Series</span></code> objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7701">GH7701</a>).</li>
</ul>
</div>
</div>
<div class="section" id="v0-14-0-may-31-2014">
<span id="whatsnew-0140"></span><h2>v0.14.0 (May 31 , 2014)<a class="headerlink" href="#v0-14-0-may-31-2014" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.13.1 and includes a small number of API changes, several new features,
enhancements, and performance improvements along with a large number of bug fixes. We recommend that all
users upgrade to this version.</p>
<ul class="simple">
<li>Highlights include:<ul>
<li>Officially support Python 3.4</li>
<li>SQL interfaces updated to use <code class="docutils literal"><span class="pre">sqlalchemy</span></code>, See <a class="reference internal" href="#whatsnew-0140-sql"><span class="std std-ref">Here</span></a>.</li>
<li>Display interface changes, See <a class="reference internal" href="#whatsnew-0140-display"><span class="std std-ref">Here</span></a></li>
<li>MultiIndexing Using Slicers, See <a class="reference internal" href="#whatsnew-0140-slicers"><span class="std std-ref">Here</span></a>.</li>
<li>Ability to join a singly-indexed DataFrame with a multi-indexed DataFrame, see <a class="reference internal" href="merging.html#merging-join-on-mi"><span class="std std-ref">Here</span></a></li>
<li>More consistency in groupby results and more flexible groupby specifications, See <a class="reference internal" href="#whatsnew-0140-groupby"><span class="std std-ref">Here</span></a></li>
<li>Holiday calendars are now supported in <code class="docutils literal"><span class="pre">CustomBusinessDay</span></code>, see <a class="reference internal" href="timeseries.html#timeseries-holiday"><span class="std std-ref">Here</span></a></li>
<li>Several improvements in plotting functions, including: hexbin, area and pie plots, see <a class="reference internal" href="#whatsnew-0140-plotting"><span class="std std-ref">Here</span></a>.</li>
<li>Performance doc section on I/O operations, See <a class="reference internal" href="io.html#io-perf"><span class="std std-ref">Here</span></a></li>
</ul>
</li>
<li><a class="reference internal" href="#whatsnew-0140-enhancements"><span class="std std-ref">Other Enhancements</span></a></li>
<li><a class="reference internal" href="#whatsnew-0140-api"><span class="std std-ref">API Changes</span></a></li>
<li><a class="reference internal" href="#whatsnew-0140-parsing"><span class="std std-ref">Text Parsing API Changes</span></a></li>
<li><a class="reference internal" href="#whatsnew-0140-groupby"><span class="std std-ref">Groupby API Changes</span></a></li>
<li><a class="reference internal" href="#whatsnew-0140-performance"><span class="std std-ref">Performance Improvements</span></a></li>
<li><a class="reference internal" href="#whatsnew-0140-prior-deprecations"><span class="std std-ref">Prior Deprecations</span></a></li>
<li><a class="reference internal" href="#whatsnew-0140-deprecations"><span class="std std-ref">Deprecations</span></a></li>
<li><a class="reference internal" href="#whatsnew-0140-knownissues"><span class="std std-ref">Known Issues</span></a></li>
<li><a class="reference internal" href="#whatsnew-0140-bug-fixes"><span class="std std-ref">Bug Fixes</span></a></li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In 0.14.0 all <code class="docutils literal"><span class="pre">NDFrame</span></code> based containers have undergone significant internal refactoring. Before that each block of
homogeneous data had its own labels and extra care was necessary to keep those in sync with the parent container&#8217;s labels.
This should not have any visible user/API behavior changes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6745">GH6745</a>)</p>
</div>
<div class="section" id="whatsnew-0140-api">
<span id="id76"></span><h3>API changes<a class="headerlink" href="#whatsnew-0140-api" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">read_excel</span></code> uses 0 as the default sheet (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6573">GH6573</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">iloc</span></code> will now accept out-of-bounds indexers for slices, e.g. a value that exceeds the length of the object being
indexed. These will be excluded. This will make pandas conform more with python/numpy indexing of out-of-bounds
values. A single indexer that is out-of-bounds and drops the dimensions of the object will still raise
<code class="docutils literal"><span class="pre">IndexError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6296">GH6296</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6299">GH6299</a>). This could result in an empty axis (e.g. an empty DataFrame being returned)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">dfl</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;AB&#39;</span><span class="p">))</span>

<span class="gp">In [2]: </span><span class="n">dfl</span>
<span class="gr">Out[2]: </span>
<span class="go">          A         B</span>
<span class="go">0  1.583584 -0.438313</span>
<span class="go">1 -0.402537 -0.780572</span>
<span class="go">2 -0.141685  0.542241</span>
<span class="go">3  0.370966 -0.251642</span>
<span class="go">4  0.787484  1.666563</span>

<span class="gp">In [3]: </span><span class="n">dfl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="gr">Out[3]: </span>
<span class="go">Empty DataFrame</span>
<span class="go">Columns: []</span>
<span class="go">Index: [0, 1, 2, 3, 4]</span>

<span class="gp">In [4]: </span><span class="n">dfl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="gr">Out[4]: </span>
<span class="go">          B</span>
<span class="go">0 -0.438313</span>
<span class="go">1 -0.780572</span>
<span class="go">2  0.542241</span>
<span class="go">3 -0.251642</span>
<span class="go">4  1.666563</span>

<span class="gp">In [5]: </span><span class="n">dfl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
<span class="gr">Out[5]: </span>
<span class="go">          A         B</span>
<span class="go">4  0.787484  1.666563</span>
</pre></div>
</div>
<p>These are out-of-bounds selections</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">dfl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]]</span>
<span class="ne">IndexError</span><span class="p">:</span> <span class="n">positional</span> <span class="n">indexers</span> <span class="n">are</span> <span class="n">out</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">bounds</span>

<span class="n">dfl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">4</span><span class="p">]</span>
<span class="ne">IndexError</span><span class="p">:</span> <span class="n">single</span> <span class="n">positional</span> <span class="n">indexer</span> <span class="ow">is</span> <span class="n">out</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">bounds</span>
</pre></div>
</div>
</li>
<li><p class="first">Slicing with negative start, stop &amp; step values handles corner cases better (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6531">GH6531</a>):</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">df.iloc[:-len(df)]</span></code> is now empty</li>
<li><code class="docutils literal"><span class="pre">df.iloc[len(df)::-1]</span></code> now enumerates all elements in reverse</li>
</ul>
</li>
<li><p class="first">The <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.interpolate()</span></code> keyword <code class="docutils literal"><span class="pre">downcast</span></code> default has been changed from <code class="docutils literal"><span class="pre">infer</span></code> to
<code class="docutils literal"><span class="pre">None</span></code>. This is to preseve the original dtype unless explicitly requested otherwise (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6290">GH6290</a>).</p>
</li>
<li><p class="first">When converting a dataframe to HTML it used to return <cite>Empty DataFrame</cite>. This special case has
been removed, instead a header with the column names is returned (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6062">GH6062</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series</span></code> and <code class="docutils literal"><span class="pre">Index</span></code> now internall share more common operations, e.g. <code class="docutils literal"><span class="pre">factorize(),nunique(),value_counts()</span></code> are
now supported on <code class="docutils literal"><span class="pre">Index</span></code> types as well. The <code class="docutils literal"><span class="pre">Series.weekday</span></code> property from is removed
from Series for API  consistency. Using a <code class="docutils literal"><span class="pre">DatetimeIndex/PeriodIndex</span></code> method on a Series will now raise a <code class="docutils literal"><span class="pre">TypeError</span></code>.
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4551">GH4551</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4056">GH4056</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5519">GH5519</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6380">GH6380</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7206">GH7206</a>).</p>
</li>
<li><p class="first">Add <code class="docutils literal"><span class="pre">is_month_start</span></code>, <code class="docutils literal"><span class="pre">is_month_end</span></code>, <code class="docutils literal"><span class="pre">is_quarter_start</span></code>, <code class="docutils literal"><span class="pre">is_quarter_end</span></code>, <code class="docutils literal"><span class="pre">is_year_start</span></code>, <code class="docutils literal"><span class="pre">is_year_end</span></code> accessors for <code class="docutils literal"><span class="pre">DateTimeIndex</span></code> / <code class="docutils literal"><span class="pre">Timestamp</span></code> which return a boolean array of whether the timestamp(s) are at the start/end of the month/quarter/year defined by the frequency of the <code class="docutils literal"><span class="pre">DateTimeIndex</span></code> / <code class="docutils literal"><span class="pre">Timestamp</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4565">GH4565</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6998">GH6998</a>)</p>
</li>
<li><p class="first">Local variable usage has changed in
<a class="reference internal" href="generated/pandas.eval.html#pandas.eval" title="pandas.eval"><code class="xref py py-func docutils literal"><span class="pre">pandas.eval()</span></code></a>/<code class="xref py py-meth docutils literal"><span class="pre">DataFrame.eval()</span></code>/<code class="xref py py-meth docutils literal"><span class="pre">DataFrame.query()</span></code>
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5987">GH5987</a>). For the <a class="reference internal" href="generated/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal"><span class="pre">DataFrame</span></code></a> methods, two things have
changed</p>
<ul class="simple">
<li>Column names are now given precedence over locals</li>
<li>Local variables must be referred to explicitly. This means that even if
you have a local variable that is <em>not</em> a column you must still refer to
it with the <code class="docutils literal"><span class="pre">'&#64;'</span></code> prefix.</li>
<li>You can have an expression like <code class="docutils literal"><span class="pre">df.query('&#64;a</span> <span class="pre">&lt;</span> <span class="pre">a')</span></code> with no complaints
from <code class="docutils literal"><span class="pre">pandas</span></code> about ambiguity of the name <code class="docutils literal"><span class="pre">a</span></code>.</li>
<li>The top-level <a class="reference internal" href="generated/pandas.eval.html#pandas.eval" title="pandas.eval"><code class="xref py py-func docutils literal"><span class="pre">pandas.eval()</span></code></a> function does not allow you use the
<code class="docutils literal"><span class="pre">'&#64;'</span></code> prefix and provides you with an error message telling you so.</li>
<li><code class="docutils literal"><span class="pre">NameResolutionError</span></code> was removed because it isn&#8217;t necessary anymore.</li>
</ul>
</li>
<li><p class="first">Define and document the order of column vs index names in query/eval (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6676">GH6676</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">concat</span></code> will now concatenate mixed Series and DataFrames using the Series name
or numbering columns as needed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2385">GH2385</a>). See <a class="reference internal" href="merging.html#merging-mixed-ndims"><span class="std std-ref">the docs</span></a></p>
</li>
<li><p class="first">Slicing and advanced/boolean indexing operations on <code class="docutils literal"><span class="pre">Index</span></code> classes as well
as <code class="xref py py-meth docutils literal"><span class="pre">Index.delete()</span></code> and <code class="xref py py-meth docutils literal"><span class="pre">Index.drop()</span></code> methods will no longer change the type of the
resulting index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6440">GH6440</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7040">GH7040</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">i</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span> <span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>

<span class="gp">In [7]: </span><span class="n">i</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span>
<span class="gr">Out[7]: </span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>

<span class="gp">In [8]: </span><span class="n">i</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gr">Out[8]: </span><span class="n">Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Previously, the above operation would return <code class="docutils literal"><span class="pre">Int64Index</span></code>.  If you&#8217;d like
to do this manually, use <code class="xref py py-meth docutils literal"><span class="pre">Index.astype()</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">i</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int_</span><span class="p">)</span>
<span class="gr">Out[9]: </span><span class="n">Int64Index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">set_index</span></code> no longer converts MultiIndexes to an Index of tuples. For example,
the old behavior returned an Index in this case (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6459">GH6459</a>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># Old behavior, casted MultiIndex to an Index</span>
<span class="gp">In [10]: </span><span class="n">tuple_ind</span>
<span class="gr">Out[10]: </span><span class="n">Index</span><span class="p">([(</span><span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;c&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">u&#39;a&#39;</span><span class="p">,</span> <span class="s1">u&#39;d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">u&#39;b&#39;</span><span class="p">,</span> <span class="s1">u&#39;c&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">u&#39;b&#39;</span><span class="p">,</span> <span class="s1">u&#39;d&#39;</span><span class="p">)],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>

<span class="gp">In [11]: </span><span class="n">df_multi</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">tuple_ind</span><span class="p">)</span>
<span class="gr">Out[11]: </span>
<span class="go">               0         1</span>
<span class="go">(a, c)  0.471435 -1.190976</span>
<span class="go">(a, d)  1.432707 -0.312652</span>
<span class="go">(b, c) -0.720589  0.887163</span>
<span class="go">(b, d)  0.859588 -0.636524</span>

<span class="c"># New behavior</span>
<span class="gp">In [12]: </span><span class="n">mi</span>
<span class="gr">Out[12]: </span>
<span class="go">MultiIndex(levels=[[u&#39;a&#39;, u&#39;b&#39;], [u&#39;c&#39;, u&#39;d&#39;]],</span>
<span class="go">           labels=[[0, 0, 1, 1], [0, 1, 0, 1]])</span>

<span class="gp">In [13]: </span><span class="n">df_multi</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">mi</span><span class="p">)</span>
<span class="gr">Out[13]: </span>
<span class="go">            0         1</span>
<span class="go">a c  0.471435 -1.190976</span>
<span class="go">  d  1.432707 -0.312652</span>
<span class="go">b c -0.720589  0.887163</span>
<span class="go">  d  0.859588 -0.636524</span>
</pre></div>
</div>
<p>This also applies when passing multiple indices to <code class="docutils literal"><span class="pre">set_index</span></code>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># Old output, 2-level MultiIndex of tuples</span>
<span class="gp">In [14]: </span><span class="n">df_multi</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="n">df_multi</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_multi</span><span class="o">.</span><span class="n">index</span><span class="p">])</span>
<span class="gr">Out[14]: </span>
<span class="go">                      0         1</span>
<span class="go">(a, c) (a, c)  0.471435 -1.190976</span>
<span class="go">(a, d) (a, d)  1.432707 -0.312652</span>
<span class="go">(b, c) (b, c) -0.720589  0.887163</span>
<span class="go">(b, d) (b, d)  0.859588 -0.636524</span>

<span class="c"># New output, 4-level MultiIndex</span>
<span class="gp">In [15]: </span><span class="n">df_multi</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="n">df_multi</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_multi</span><span class="o">.</span><span class="n">index</span><span class="p">])</span>
<span class="gr">Out[15]: </span>
<span class="go">                0         1</span>
<span class="go">a c a c  0.471435 -1.190976</span>
<span class="go">  d a d  1.432707 -0.312652</span>
<span class="go">b c b c -0.720589  0.887163</span>
<span class="go">  d b d  0.859588 -0.636524</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pairwise</span></code> keyword was added to the statistical moment functions
<code class="docutils literal"><span class="pre">rolling_cov</span></code>, <code class="docutils literal"><span class="pre">rolling_corr</span></code>, <code class="docutils literal"><span class="pre">ewmcov</span></code>, <code class="docutils literal"><span class="pre">ewmcorr</span></code>,
<code class="docutils literal"><span class="pre">expanding_cov</span></code>, <code class="docutils literal"><span class="pre">expanding_corr</span></code> to allow the calculation of moving
window covariance and correlation matrices (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4950">GH4950</a>). See
<a class="reference internal" href="computation.html#stats-moments-corr-pairwise"><span class="std std-ref">Computing rolling pairwise covariances and correlations</span></a> in the docs.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABCD&#39;</span><span class="p">))</span>

<span class="gp">In [4]: </span><span class="n">covs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">rolling_cov</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">]],</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">]],</span> <span class="mi">5</span><span class="p">,</span> <span class="n">pairwise</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="gp">In [5]: </span><span class="n">covs</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
<span class="go">Out[5]:</span>
<span class="go">          B         C         D</span>
<span class="go">A  0.035310  0.326593 -0.505430</span>
<span class="go">B  0.137748 -0.006888 -0.005383</span>
<span class="go">C -0.006888  0.861040  0.020762</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series.iteritems()</span></code> is now lazy (returns an iterator rather than a list). This was the documented behavior prior to 0.14. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6760">GH6760</a>)</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">nunique</span></code> and <code class="docutils literal"><span class="pre">value_counts</span></code> functions to <code class="docutils literal"><span class="pre">Index</span></code> for counting unique elements. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6734">GH6734</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">stack</span></code> and <code class="docutils literal"><span class="pre">unstack</span></code> now raise a <code class="docutils literal"><span class="pre">ValueError</span></code> when the <code class="docutils literal"><span class="pre">level</span></code> keyword refers
to a non-unique item in the <code class="docutils literal"><span class="pre">Index</span></code> (previously raised a <code class="docutils literal"><span class="pre">KeyError</span></code>). (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6738">GH6738</a>)</p>
</li>
<li><p class="first">drop unused order argument from <code class="docutils literal"><span class="pre">Series.sort</span></code>; args now are in the same order as <code class="docutils literal"><span class="pre">Series.order</span></code>;
add <code class="docutils literal"><span class="pre">na_position</span></code> arg to conform to <code class="docutils literal"><span class="pre">Series.order</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6847">GH6847</a>)</p>
</li>
<li><p class="first">default sorting algorithm for <code class="docutils literal"><span class="pre">Series.order</span></code> is now <code class="docutils literal"><span class="pre">quicksort</span></code>, to conform with <code class="docutils literal"><span class="pre">Series.sort</span></code>
(and numpy defaults)</p>
</li>
<li><p class="first">add <code class="docutils literal"><span class="pre">inplace</span></code> keyword to <code class="docutils literal"><span class="pre">Series.order/sort</span></code> to make them inverses (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6859">GH6859</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.sort</span></code> now places NaNs at the beginning or end of the sort according to the <code class="docutils literal"><span class="pre">na_position</span></code> parameter. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3917">GH3917</a>)</p>
</li>
<li><p class="first">accept <code class="docutils literal"><span class="pre">TextFileReader</span></code> in <code class="docutils literal"><span class="pre">concat</span></code>, which was affecting a common user idiom (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6583">GH6583</a>), this was a regression
from 0.13.1</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">factorize</span></code> functions to <code class="docutils literal"><span class="pre">Index</span></code> and <code class="docutils literal"><span class="pre">Series</span></code> to get indexer and unique values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7090">GH7090</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">describe</span></code> on a DataFrame with a mix of Timestamp and string like objects returns a different Index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7088">GH7088</a>).
Previously the index was unintentionally sorted.</p>
</li>
<li><p class="first">Arithmetic operations with <strong>only</strong> <code class="docutils literal"><span class="pre">bool</span></code> dtypes now give a warning indicating
that they are evaluated in Python space for <code class="docutils literal"><span class="pre">+</span></code>, <code class="docutils literal"><span class="pre">-</span></code>,
and <code class="docutils literal"><span class="pre">*</span></code> operations and raise for all others (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7011">GH7011</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6762">GH6762</a>,
<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7015">GH7015</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7210">GH7210</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">x</span> <span class="o">+</span> <span class="n">y</span>  <span class="c1"># warning generated: should do x | y instead</span>
<span class="n">x</span> <span class="o">/</span> <span class="n">y</span>  <span class="c1"># this raises because it doesn&#39;t make sense</span>

<span class="ne">NotImplementedError</span><span class="p">:</span> <span class="n">operator</span> <span class="s1">&#39;/&#39;</span> <span class="ow">not</span> <span class="n">implemented</span> <span class="k">for</span> <span class="nb">bool</span> <span class="n">dtypes</span>
</pre></div>
</div>
</li>
<li><p class="first">In <code class="docutils literal"><span class="pre">HDFStore</span></code>, <code class="docutils literal"><span class="pre">select_as_multiple</span></code> will always raise a <code class="docutils literal"><span class="pre">KeyError</span></code>, when a key or the selector is not found (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6177">GH6177</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">df['col']</span> <span class="pre">=</span> <span class="pre">value</span></code> and <code class="docutils literal"><span class="pre">df.loc[:,'col']</span> <span class="pre">=</span> <span class="pre">value</span></code> are now completely equivalent;
previously the <code class="docutils literal"><span class="pre">.loc</span></code> would not necessarily coerce the dtype of the resultant series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6149">GH6149</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">dtypes</span></code> and <code class="docutils literal"><span class="pre">ftypes</span></code> now return a series with <code class="docutils literal"><span class="pre">dtype=object</span></code> on empty containers (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5740">GH5740</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">df.to_csv</span></code> will now return a string of the CSV data if neither a target path nor a buffer is provided
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6061">GH6061</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.infer_freq()</span></code> will now raise a <code class="docutils literal"><span class="pre">TypeError</span></code> if given an invalid <code class="docutils literal"><span class="pre">Series/Index</span></code>
type (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6407">GH6407</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6463">GH6463</a>)</p>
</li>
<li><p class="first">A tuple passed to <code class="docutils literal"><span class="pre">DataFame.sort_index</span></code> will be interpreted as the levels of
the index, rather than requiring a list of tuple (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4370">GH4370</a>)</p>
</li>
<li><p class="first">all offset operations now return <code class="docutils literal"><span class="pre">Timestamp</span></code> types (rather than datetime), Business/Week frequencies were incorrect (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4069">GH4069</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">to_excel</span></code> now converts <code class="docutils literal"><span class="pre">np.inf</span></code> into a string representation,
customizable by the <code class="docutils literal"><span class="pre">inf_rep</span></code> keyword argument (Excel has no native inf
representation) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6782">GH6782</a>)</p>
</li>
<li><p class="first">Replace <code class="docutils literal"><span class="pre">pandas.compat.scipy.scoreatpercentile</span></code> with <code class="docutils literal"><span class="pre">numpy.percentile</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6810">GH6810</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">.quantile</span></code> on a <code class="docutils literal"><span class="pre">datetime[ns]</span></code> series now returns <code class="docutils literal"><span class="pre">Timestamp</span></code> instead
of <code class="docutils literal"><span class="pre">np.datetime64</span></code> objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6810">GH6810</a>)</p>
</li>
<li><p class="first">change <code class="docutils literal"><span class="pre">AssertionError</span></code> to <code class="docutils literal"><span class="pre">TypeError</span></code> for invalid types passed to <code class="docutils literal"><span class="pre">concat</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6583">GH6583</a>)</p>
</li>
<li><p class="first">Raise a <code class="docutils literal"><span class="pre">TypeError</span></code> when <code class="docutils literal"><span class="pre">DataFrame</span></code> is passed an iterator as the
<code class="docutils literal"><span class="pre">data</span></code> argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5357">GH5357</a>)</p>
</li>
</ul>
</div>
<div class="section" id="display-changes">
<span id="whatsnew-0140-display"></span><h3>Display Changes<a class="headerlink" href="#display-changes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The default way of printing large DataFrames has changed. DataFrames
exceeding <code class="docutils literal"><span class="pre">max_rows</span></code> and/or <code class="docutils literal"><span class="pre">max_columns</span></code> are now displayed in a
centrally truncated view, consistent with the printing of a
<a class="reference internal" href="generated/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal"><span class="pre">pandas.Series</span></code></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5603">GH5603</a>).</p>
<p>In previous versions, a DataFrame was truncated once the dimension
constraints were reached and an ellipse (...) signaled that part of
the data was cut off.</p>
<img alt="The previous look of truncate." src="_images/trunc_before.png" />
<p>In the current version, large DataFrames are centrally truncated,
showing a preview of head and tail in both dimensions.</p>
<img alt="The new look." src="_images/trunc_after.png" />
</li>
<li><p class="first">allow option <code class="docutils literal"><span class="pre">'truncate'</span></code> for <code class="docutils literal"><span class="pre">display.show_dimensions</span></code> to only show the dimensions if the
frame is truncated (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6547">GH6547</a>).</p>
<p>The default for <code class="docutils literal"><span class="pre">display.show_dimensions</span></code> will now be <code class="docutils literal"><span class="pre">truncate</span></code>. This is consistent with
how Series display length.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">dfd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>

<span class="c"># show dimensions since this is truncated</span>
<span class="gp">In [17]: </span><span class="k">with</span> <span class="n">pd</span><span class="o">.</span><span class="n">option_context</span><span class="p">(</span><span class="s1">&#39;display.max_rows&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;display.max_columns&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>
<span class="gp">   ....:</span>                        <span class="s1">&#39;display.show_dimensions&#39;</span><span class="p">,</span> <span class="s1">&#39;truncate&#39;</span><span class="p">):</span>
<span class="gp">   ....:</span>    <span class="k">print</span><span class="p">(</span><span class="n">dfd</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="go">     0 ...   4</span>
<span class="go">0    0 ...   4</span>
<span class="go">..  .. ...  ..</span>
<span class="go">4   20 ...  24</span>

<span class="go">[5 rows x 5 columns]</span>

<span class="c"># will not show dimensions since it is not truncated</span>
<span class="gp">In [18]: </span><span class="k">with</span> <span class="n">pd</span><span class="o">.</span><span class="n">option_context</span><span class="p">(</span><span class="s1">&#39;display.max_rows&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;display.max_columns&#39;</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span>
<span class="gp">   ....:</span>                        <span class="s1">&#39;display.show_dimensions&#39;</span><span class="p">,</span> <span class="s1">&#39;truncate&#39;</span><span class="p">):</span>
<span class="gp">   ....:</span>    <span class="k">print</span><span class="p">(</span><span class="n">dfd</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="go">    0   1   2   3   4</span>
<span class="go">0   0   1   2   3   4</span>
<span class="go">1   5   6   7   8   9</span>
<span class="go">2  10  11  12  13  14</span>
<span class="go">3  15  16  17  18  19</span>
<span class="go">4  20  21  22  23  24</span>
</pre></div>
</div>
</li>
<li><p class="first">Regression in the display of a MultiIndexed Series with <code class="docutils literal"><span class="pre">display.max_rows</span></code> is less than the
length of the series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7101">GH7101</a>)</p>
</li>
<li><p class="first">Fixed a bug in the HTML repr of a truncated Series or DataFrame not showing the class name with the
<cite>large_repr</cite> set to &#8216;info&#8217; (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7105">GH7105</a>)</p>
</li>
<li><p class="first">The <cite>verbose</cite> keyword in <code class="docutils literal"><span class="pre">DataFrame.info()</span></code>, which controls whether to shorten the <code class="docutils literal"><span class="pre">info</span></code>
representation, is now <code class="docutils literal"><span class="pre">None</span></code> by default. This will follow the global setting in
<code class="docutils literal"><span class="pre">display.max_info_columns</span></code>. The global setting can be overriden with <code class="docutils literal"><span class="pre">verbose=True</span></code> or
<code class="docutils literal"><span class="pre">verbose=False</span></code>.</p>
</li>
<li><p class="first">Fixed a bug with the <cite>info</cite> repr not honoring the <cite>display.max_info_columns</cite> setting (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6939">GH6939</a>)</p>
</li>
<li><p class="first">Offset/freq info now in Timestamp __repr__ (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4553">GH4553</a>)</p>
</li>
</ul>
</div>
<div class="section" id="text-parsing-api-changes">
<span id="whatsnew-0140-parsing"></span><h3>Text Parsing API Changes<a class="headerlink" href="#text-parsing-api-changes" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-func docutils literal"><span class="pre">read_csv()</span></code>/<code class="xref py py-func docutils literal"><span class="pre">read_table()</span></code> will now be noiser w.r.t invalid options rather than falling back to the <code class="docutils literal"><span class="pre">PythonParser</span></code>.</p>
<ul class="simple">
<li>Raise <code class="docutils literal"><span class="pre">ValueError</span></code> when <code class="docutils literal"><span class="pre">sep</span></code> specified with
<code class="docutils literal"><span class="pre">delim_whitespace=True</span></code> in <code class="xref py py-func docutils literal"><span class="pre">read_csv()</span></code>/<code class="xref py py-func docutils literal"><span class="pre">read_table()</span></code>
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6607">GH6607</a>)</li>
<li>Raise <code class="docutils literal"><span class="pre">ValueError</span></code> when <code class="docutils literal"><span class="pre">engine='c'</span></code> specified with unsupported
options in <code class="xref py py-func docutils literal"><span class="pre">read_csv()</span></code>/<code class="xref py py-func docutils literal"><span class="pre">read_table()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6607">GH6607</a>)</li>
<li>Raise <code class="docutils literal"><span class="pre">ValueError</span></code> when fallback to python parser causes options to be
ignored (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6607">GH6607</a>)</li>
<li>Produce <code class="xref py py-class docutils literal"><span class="pre">ParserWarning</span></code> on fallback to python
parser when no options are ignored (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6607">GH6607</a>)</li>
<li>Translate <code class="docutils literal"><span class="pre">sep='\s+'</span></code> to <code class="docutils literal"><span class="pre">delim_whitespace=True</span></code> in
<code class="xref py py-func docutils literal"><span class="pre">read_csv()</span></code>/<code class="xref py py-func docutils literal"><span class="pre">read_table()</span></code> if no other C-unsupported options
specified (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6607">GH6607</a>)</li>
</ul>
</div>
<div class="section" id="groupby-api-changes">
<span id="whatsnew-0140-groupby"></span><h3>Groupby API Changes<a class="headerlink" href="#groupby-api-changes" title="Permalink to this headline">¶</a></h3>
<p>More consistent behaviour for some groupby methods:</p>
<ul>
<li><p class="first">groupby <code class="docutils literal"><span class="pre">head</span></code> and <code class="docutils literal"><span class="pre">tail</span></code> now act more like <code class="docutils literal"><span class="pre">filter</span></code> rather than an aggregation:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">])</span>

<span class="gp">In [20]: </span><span class="n">g</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>

<span class="gp">In [21]: </span><span class="n">g</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># filters DataFrame</span>
<span class="gr">Out[21]: </span>
<span class="go">   A  B</span>
<span class="go">0  1  2</span>
<span class="go">2  5  6</span>

<span class="gp">In [22]: </span><span class="n">g</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>  <span class="c1"># used to simply fall-through</span>
<span class="gr">Out[22]: </span>
<span class="go">     A  B</span>
<span class="go">A        </span>
<span class="go">1 0  1  2</span>
<span class="go">5 2  5  6</span>
</pre></div>
</div>
</li>
<li><p class="first">groupby head and tail respect column selection:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [23]: </span><span class="n">g</span><span class="p">[[</span><span class="s1">&#39;B&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gr">Out[23]: </span>
<span class="go">   B</span>
<span class="go">0  2</span>
<span class="go">2  6</span>
</pre></div>
</div>
</li>
<li><p class="first">groupby <code class="docutils literal"><span class="pre">nth</span></code> now reduces by default; filtering can be achieved by passing <code class="docutils literal"><span class="pre">as_index=False</span></code>. With an optional <code class="docutils literal"><span class="pre">dropna</span></code> argument to ignore
NaN. See <a class="reference internal" href="groupby.html#groupby-nth"><span class="std std-ref">the docs</span></a>.</p>
<p>Reducing</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [24]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">])</span>

<span class="gp">In [25]: </span><span class="n">g</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>

<span class="gp">In [26]: </span><span class="n">g</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[26]: </span>
<span class="go">     B</span>
<span class="go">A     </span>
<span class="go">1  NaN</span>
<span class="go">5  6.0</span>

<span class="c"># this is equivalent to g.first()</span>
<span class="gp">In [27]: </span><span class="n">g</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="s1">&#39;any&#39;</span><span class="p">)</span>
<span class="gr">Out[27]: </span>
<span class="go">     B</span>
<span class="go">A     </span>
<span class="go">1  4.0</span>
<span class="go">5  6.0</span>

<span class="c"># this is equivalent to g.last()</span>
<span class="gp">In [28]: </span><span class="n">g</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="s1">&#39;any&#39;</span><span class="p">)</span>
<span class="gr">Out[28]: </span>
<span class="go">     B</span>
<span class="go">A     </span>
<span class="go">1  4.0</span>
<span class="go">5  6.0</span>
</pre></div>
</div>
<p>Filtering</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [29]: </span><span class="n">gf</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="n">as_index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="gp">In [30]: </span><span class="n">gf</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[30]: </span>
<span class="go">   A    B</span>
<span class="go">0  1  NaN</span>
<span class="go">2  5  6.0</span>

<span class="gp">In [31]: </span><span class="n">gf</span><span class="o">.</span><span class="n">nth</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="s1">&#39;any&#39;</span><span class="p">)</span>
<span class="gr">Out[31]: </span>
<span class="go">   A    B</span>
<span class="go">A        </span>
<span class="go">1  1  4.0</span>
<span class="go">5  5  6.0</span>
</pre></div>
</div>
</li>
<li><p class="first">groupby will now not return the grouped column for non-cython functions (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5610">GH5610</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5614">GH5614</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6732">GH6732</a>),
as its already the index</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [32]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">]],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">])</span>

<span class="gp">In [33]: </span><span class="n">g</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>

<span class="gp">In [34]: </span><span class="n">g</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="gr">Out[34]: </span>
<span class="go">   B</span>
<span class="go">A   </span>
<span class="go">1  1</span>
<span class="go">5  2</span>

<span class="gp">In [35]: </span><span class="n">g</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="gr">Out[35]: </span>
<span class="go">                B</span>
<span class="go">A                </span>
<span class="go">1 count  1.000000</span>
<span class="go">  mean   4.000000</span>
<span class="go">  std         NaN</span>
<span class="go">  min    4.000000</span>
<span class="go">  25%    4.000000</span>
<span class="go">  50%    4.000000</span>
<span class="go">  75%    4.000000</span>
<span class="go">...           ...</span>
<span class="go">5 mean   7.000000</span>
<span class="go">  std    1.414214</span>
<span class="go">  min    6.000000</span>
<span class="go">  25%    6.500000</span>
<span class="go">  50%    7.000000</span>
<span class="go">  75%    7.500000</span>
<span class="go">  max    8.000000</span>

<span class="go">[16 rows x 1 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">passing <code class="docutils literal"><span class="pre">as_index</span></code> will leave the grouped column in-place (this is not change in 0.14.0)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [36]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">]],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">])</span>

<span class="gp">In [37]: </span><span class="n">g</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="n">as_index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="gp">In [38]: </span><span class="n">g</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="gr">Out[38]: </span>
<span class="go">   A  B</span>
<span class="go">0  1  1</span>
<span class="go">1  5  2</span>

<span class="gp">In [39]: </span><span class="n">g</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="gr">Out[39]: </span>
<span class="go">           A         B</span>
<span class="go">0 count  2.0  1.000000</span>
<span class="go">  mean   1.0  4.000000</span>
<span class="go">  std    0.0       NaN</span>
<span class="go">  min    1.0  4.000000</span>
<span class="go">  25%    1.0  4.000000</span>
<span class="go">  50%    1.0  4.000000</span>
<span class="go">  75%    1.0  4.000000</span>
<span class="go">...      ...       ...</span>
<span class="go">1 mean   5.0  7.000000</span>
<span class="go">  std    0.0  1.414214</span>
<span class="go">  min    5.0  6.000000</span>
<span class="go">  25%    5.0  6.500000</span>
<span class="go">  50%    5.0  7.000000</span>
<span class="go">  75%    5.0  7.500000</span>
<span class="go">  max    5.0  8.000000</span>

<span class="go">[16 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">Allow specification of a more complex groupby via <code class="docutils literal"><span class="pre">pd.Grouper</span></code>, such as grouping
by a Time and a string field simultaneously. See <a class="reference internal" href="groupby.html#groupby-specify"><span class="std std-ref">the docs</span></a>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3794">GH3794</a>)</p>
</li>
<li><p class="first">Better propagation/preservation of Series names when performing groupby
operations:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">SeriesGroupBy.agg</span></code> will ensure that the name attribute of the original
series is propagated to the result (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6265">GH6265</a>).</li>
<li>If the function provided to <code class="docutils literal"><span class="pre">GroupBy.apply</span></code> returns a named series, the
name of the series will be kept as the name of the column index of the
DataFrame returned by <code class="docutils literal"><span class="pre">GroupBy.apply</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6124">GH6124</a>).  This facilitates
<code class="docutils literal"><span class="pre">DataFrame.stack</span></code> operations where the name of the column index is used as
the name of the inserted column containing the pivoted data.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="sql">
<span id="whatsnew-0140-sql"></span><h3>SQL<a class="headerlink" href="#sql" title="Permalink to this headline">¶</a></h3>
<p>The SQL reading and writing functions now support more database flavors
through SQLAlchemy (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2717">GH2717</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4163">GH4163</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5950">GH5950</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6292">GH6292</a>).
All databases supported by SQLAlchemy can be used, such
as PostgreSQL, MySQL, Oracle, Microsoft SQL server (see documentation of
SQLAlchemy on <a class="reference external" href="https://sqlalchemy.readthedocs.io/en/latest/dialects/index.html">included dialects</a>).</p>
<p>The functionality of providing DBAPI connection objects will only be supported
for sqlite3 in the future. The <code class="docutils literal"><span class="pre">'mysql'</span></code> flavor is deprecated.</p>
<p>The new functions <a class="reference internal" href="generated/pandas.read_sql_query.html#pandas.read_sql_query" title="pandas.read_sql_query"><code class="xref py py-func docutils literal"><span class="pre">read_sql_query()</span></code></a> and <a class="reference internal" href="generated/pandas.read_sql_table.html#pandas.read_sql_table" title="pandas.read_sql_table"><code class="xref py py-func docutils literal"><span class="pre">read_sql_table()</span></code></a>
are introduced. The function <a class="reference internal" href="generated/pandas.read_sql.html#pandas.read_sql" title="pandas.read_sql"><code class="xref py py-func docutils literal"><span class="pre">read_sql()</span></code></a> is kept as a convenience
wrapper around the other two and will delegate to specific function depending on
the provided input (database table name or sql query).</p>
<p>In practice, you have to provide a SQLAlchemy <code class="docutils literal"><span class="pre">engine</span></code> to the sql functions.
To connect with SQLAlchemy you use the <code class="xref py py-func docutils literal"><span class="pre">create_engine()</span></code> function to create an engine
object from database URI. You only need to create the engine once per database you are
connecting to. For an in-memory sqlite database:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [40]: </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">create_engine</span>

<span class="c"># Create your connection.</span>
<span class="gp">In [41]: </span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">&#39;sqlite:///:memory:&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This <code class="docutils literal"><span class="pre">engine</span></code> can then be used to write or read data to/from this database:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [42]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]})</span>

<span class="gp">In [43]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="s1">&#39;db_table&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>You can read data from a database by specifying the table name:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [44]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_sql_table</span><span class="p">(</span><span class="s1">&#39;db_table&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
<span class="gr">Out[44]: </span>
<span class="go">   A  B</span>
<span class="go">0  1  a</span>
<span class="go">1  2  b</span>
<span class="go">2  3  c</span>
</pre></div>
</div>
<p>or by specifying a sql query:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [45]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_sql_query</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM db_table&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
<span class="gr">Out[45]: </span>
<span class="go">   A  B</span>
<span class="go">0  1  a</span>
<span class="go">1  2  b</span>
<span class="go">2  3  c</span>
</pre></div>
</div>
<p>Some other enhancements to the sql functions include:</p>
<ul class="simple">
<li>support for writing the index. This can be controlled with the <code class="docutils literal"><span class="pre">index</span></code>
keyword (default is True).</li>
<li>specify the column label to use when writing the index with <code class="docutils literal"><span class="pre">index_label</span></code>.</li>
<li>specify string columns to parse as datetimes withh the <code class="docutils literal"><span class="pre">parse_dates</span></code>
keyword in <a class="reference internal" href="generated/pandas.read_sql_query.html#pandas.read_sql_query" title="pandas.read_sql_query"><code class="xref py py-func docutils literal"><span class="pre">read_sql_query()</span></code></a> and <a class="reference internal" href="generated/pandas.read_sql_table.html#pandas.read_sql_table" title="pandas.read_sql_table"><code class="xref py py-func docutils literal"><span class="pre">read_sql_table()</span></code></a>.</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Some of the existing functions or function aliases have been deprecated
and will be removed in future versions. This includes: <code class="docutils literal"><span class="pre">tquery</span></code>, <code class="docutils literal"><span class="pre">uquery</span></code>,
<code class="docutils literal"><span class="pre">read_frame</span></code>, <code class="docutils literal"><span class="pre">frame_query</span></code>, <code class="docutils literal"><span class="pre">write_frame</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The support for the &#8216;mysql&#8217; flavor when using DBAPI connection objects has been deprecated.
MySQL will be further supported with SQLAlchemy engines (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6900">GH6900</a>).</p>
</div>
</div>
<div class="section" id="multiindexing-using-slicers">
<span id="whatsnew-0140-slicers"></span><h3>MultiIndexing Using Slicers<a class="headerlink" href="#multiindexing-using-slicers" title="Permalink to this headline">¶</a></h3>
<p>In 0.14.0 we added a new way to slice multi-indexed objects.
You can slice a multi-index by providing multiple indexers.</p>
<p>You can provide any of the selectors as if you are indexing by label, see <a class="reference internal" href="indexing.html#indexing-label"><span class="std std-ref">Selection by Label</span></a>,
including slices, lists of labels, labels, and boolean indexers.</p>
<p>You can use <code class="docutils literal"><span class="pre">slice(None)</span></code> to select all the contents of <em>that</em> level. You do not need to specify all the
<em>deeper</em> levels, they will be implied as <code class="docutils literal"><span class="pre">slice(None)</span></code>.</p>
<p>As usual, <strong>both sides</strong> of the slicers are included as this is label indexing.</p>
<p>See <a class="reference internal" href="advanced.html#advanced-mi-slicers"><span class="std std-ref">the docs</span></a>
See also issues (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6134">GH6134</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4036">GH4036</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3057">GH3057</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2598">GH2598</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5641">GH5641</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7106">GH7106</a>)</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>You should specify all axes in the <code class="docutils literal"><span class="pre">.loc</span></code> specifier, meaning the indexer for the <strong>index</strong> and
for the <strong>columns</strong>. Their are some ambiguous cases where the passed indexer could be mis-interpreted
as indexing <em>both</em> axes, rather than into say the MuliIndex for the rows.</p>
<p>You should do this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;A3&#39;</span><span class="p">),</span><span class="o">.....</span><span class="p">),:]</span>
</pre></div>
</div>
<p>rather than this:</p>
<div class="last highlight-python"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;A3&#39;</span><span class="p">),</span><span class="o">.....</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You will need to make sure that the selection axes are fully lexsorted!</p>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [46]: </span><span class="k">def</span> <span class="nf">mklbl</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
<span class="gp">   ....:</span>     <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;</span><span class="si">%s%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">prefix</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
<span class="gp">   ....:</span> 

<span class="gp">In [47]: </span><span class="n">index</span> <span class="o">=</span> <span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([</span><span class="n">mklbl</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....:</span>                                  <span class="n">mklbl</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">   ....:</span>                                  <span class="n">mklbl</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....:</span>                                  <span class="n">mklbl</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">)])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [48]: </span><span class="n">columns</span> <span class="o">=</span> <span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">([(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;foo&#39;</span><span class="p">),(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;bar&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>                                   <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;foo&#39;</span><span class="p">),(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;bah&#39;</span><span class="p">)],</span>
<span class="gp">   ....:</span>                                    <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;lvl0&#39;</span><span class="p">,</span> <span class="s1">&#39;lvl1&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [49]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">columns</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">index</span><span class="p">),</span><span class="nb">len</span><span class="p">(</span><span class="n">columns</span><span class="p">))),</span>
<span class="gp">   ....:</span>                <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span>
<span class="gp">   ....:</span>                <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span><span class="o">.</span><span class="n">sortlevel</span><span class="p">()</span><span class="o">.</span><span class="n">sortlevel</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">   ....:</span> 

<span class="gp">In [50]: </span><span class="n">df</span>
<span class="gr">Out[50]: </span>
<span class="go">lvl0           a         b     </span>
<span class="go">lvl1         bar  foo  bah  foo</span>
<span class="go">A0 B0 C0 D0    1    0    3    2</span>
<span class="go">         D1    5    4    7    6</span>
<span class="go">      C1 D0    9    8   11   10</span>
<span class="go">         D1   13   12   15   14</span>
<span class="go">      C2 D0   17   16   19   18</span>
<span class="go">         D1   21   20   23   22</span>
<span class="go">      C3 D0   25   24   27   26</span>
<span class="go">...          ...  ...  ...  ...</span>
<span class="go">A3 B1 C0 D1  229  228  231  230</span>
<span class="go">      C1 D0  233  232  235  234</span>
<span class="go">         D1  237  236  239  238</span>
<span class="go">      C2 D0  241  240  243  242</span>
<span class="go">         D1  245  244  247  246</span>
<span class="go">      C3 D0  249  248  251  250</span>
<span class="go">         D1  253  252  255  254</span>

<span class="go">[64 rows x 4 columns]</span>
</pre></div>
</div>
<p>Basic multi-index slicing using slices, lists, and labels.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [51]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;A3&#39;</span><span class="p">),</span><span class="nb">slice</span><span class="p">(</span><span class="bp">None</span><span class="p">),</span> <span class="p">[</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]),:]</span>
<span class="gr">Out[51]: </span>
<span class="go">lvl0           a         b     </span>
<span class="go">lvl1         bar  foo  bah  foo</span>
<span class="go">A1 B0 C1 D0   73   72   75   74</span>
<span class="go">         D1   77   76   79   78</span>
<span class="go">      C3 D0   89   88   91   90</span>
<span class="go">         D1   93   92   95   94</span>
<span class="go">   B1 C1 D0  105  104  107  106</span>
<span class="go">         D1  109  108  111  110</span>
<span class="go">      C3 D0  121  120  123  122</span>
<span class="go">...          ...  ...  ...  ...</span>
<span class="go">A3 B0 C1 D1  205  204  207  206</span>
<span class="go">      C3 D0  217  216  219  218</span>
<span class="go">         D1  221  220  223  222</span>
<span class="go">   B1 C1 D0  233  232  235  234</span>
<span class="go">         D1  237  236  239  238</span>
<span class="go">      C3 D0  249  248  251  250</span>
<span class="go">         D1  253  252  255  254</span>

<span class="go">[24 rows x 4 columns]</span>
</pre></div>
</div>
<p>You can use a <code class="docutils literal"><span class="pre">pd.IndexSlice</span></code> to shortcut the creation of these slices</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [52]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span>

<span class="gp">In [53]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">[:,:,[</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]],</span><span class="n">idx</span><span class="p">[:,</span><span class="s1">&#39;foo&#39;</span><span class="p">]]</span>
<span class="gr">Out[53]: </span>
<span class="go">lvl0           a    b</span>
<span class="go">lvl1         foo  foo</span>
<span class="go">A0 B0 C1 D0    8   10</span>
<span class="go">         D1   12   14</span>
<span class="go">      C3 D0   24   26</span>
<span class="go">         D1   28   30</span>
<span class="go">   B1 C1 D0   40   42</span>
<span class="go">         D1   44   46</span>
<span class="go">      C3 D0   56   58</span>
<span class="go">...          ...  ...</span>
<span class="go">A3 B0 C1 D1  204  206</span>
<span class="go">      C3 D0  216  218</span>
<span class="go">         D1  220  222</span>
<span class="go">   B1 C1 D0  232  234</span>
<span class="go">         D1  236  238</span>
<span class="go">      C3 D0  248  250</span>
<span class="go">         D1  252  254</span>

<span class="go">[32 rows x 2 columns]</span>
</pre></div>
</div>
<p>It is possible to perform quite complicated selections using this method on multiple
axes at the same time.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [54]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">,(</span><span class="nb">slice</span><span class="p">(</span><span class="bp">None</span><span class="p">),</span><span class="s1">&#39;foo&#39;</span><span class="p">)]</span>
<span class="gr">Out[54]: </span>
<span class="go">lvl0        a    b</span>
<span class="go">lvl1      foo  foo</span>
<span class="go">B0 C0 D0   64   66</span>
<span class="go">      D1   68   70</span>
<span class="go">   C1 D0   72   74</span>
<span class="go">      D1   76   78</span>
<span class="go">   C2 D0   80   82</span>
<span class="go">      D1   84   86</span>
<span class="go">   C3 D0   88   90</span>
<span class="go">...       ...  ...</span>
<span class="go">B1 C0 D1  100  102</span>
<span class="go">   C1 D0  104  106</span>
<span class="go">      D1  108  110</span>
<span class="go">   C2 D0  112  114</span>
<span class="go">      D1  116  118</span>
<span class="go">   C3 D0  120  122</span>
<span class="go">      D1  124  126</span>

<span class="go">[16 rows x 2 columns]</span>

<span class="gp">In [55]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">[:,:,[</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]],</span><span class="n">idx</span><span class="p">[:,</span><span class="s1">&#39;foo&#39;</span><span class="p">]]</span>
<span class="gr">Out[55]: </span>
<span class="go">lvl0           a    b</span>
<span class="go">lvl1         foo  foo</span>
<span class="go">A0 B0 C1 D0    8   10</span>
<span class="go">         D1   12   14</span>
<span class="go">      C3 D0   24   26</span>
<span class="go">         D1   28   30</span>
<span class="go">   B1 C1 D0   40   42</span>
<span class="go">         D1   44   46</span>
<span class="go">      C3 D0   56   58</span>
<span class="go">...          ...  ...</span>
<span class="go">A3 B0 C1 D1  204  206</span>
<span class="go">      C3 D0  216  218</span>
<span class="go">         D1  220  222</span>
<span class="go">   B1 C1 D0  232  234</span>
<span class="go">         D1  236  238</span>
<span class="go">      C3 D0  248  250</span>
<span class="go">         D1  252  254</span>

<span class="go">[32 rows x 2 columns]</span>
</pre></div>
</div>
<p>Using a boolean indexer you can provide selection related to the <em>values</em>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [56]: </span><span class="n">mask</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;foo&#39;</span><span class="p">)]</span><span class="o">&gt;</span><span class="mi">200</span>

<span class="gp">In [57]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">[</span><span class="n">mask</span><span class="p">,:,[</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]],</span><span class="n">idx</span><span class="p">[:,</span><span class="s1">&#39;foo&#39;</span><span class="p">]]</span>
<span class="gr">Out[57]: </span>
<span class="go">lvl0           a    b</span>
<span class="go">lvl1         foo  foo</span>
<span class="go">A3 B0 C1 D1  204  206</span>
<span class="go">      C3 D0  216  218</span>
<span class="go">         D1  220  222</span>
<span class="go">   B1 C1 D0  232  234</span>
<span class="go">         D1  236  238</span>
<span class="go">      C3 D0  248  250</span>
<span class="go">         D1  252  254</span>
</pre></div>
</div>
<p>You can also specify the <code class="docutils literal"><span class="pre">axis</span></code> argument to <code class="docutils literal"><span class="pre">.loc</span></code> to interpret the passed
slicers on a single axis.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [58]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[:,:,[</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]]</span>
<span class="gr">Out[58]: </span>
<span class="go">lvl0           a         b     </span>
<span class="go">lvl1         bar  foo  bah  foo</span>
<span class="go">A0 B0 C1 D0    9    8   11   10</span>
<span class="go">         D1   13   12   15   14</span>
<span class="go">      C3 D0   25   24   27   26</span>
<span class="go">         D1   29   28   31   30</span>
<span class="go">   B1 C1 D0   41   40   43   42</span>
<span class="go">         D1   45   44   47   46</span>
<span class="go">      C3 D0   57   56   59   58</span>
<span class="go">...          ...  ...  ...  ...</span>
<span class="go">A3 B0 C1 D1  205  204  207  206</span>
<span class="go">      C3 D0  217  216  219  218</span>
<span class="go">         D1  221  220  223  222</span>
<span class="go">   B1 C1 D0  233  232  235  234</span>
<span class="go">         D1  237  236  239  238</span>
<span class="go">      C3 D0  249  248  251  250</span>
<span class="go">         D1  253  252  255  254</span>

<span class="go">[32 rows x 4 columns]</span>
</pre></div>
</div>
<p>Furthermore you can <em>set</em> the values using these methods</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [59]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="gp">In [60]: </span><span class="n">df2</span><span class="o">.</span><span class="n">loc</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[:,:,[</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>

<span class="gp">In [61]: </span><span class="n">df2</span>
<span class="gr">Out[61]: </span>
<span class="go">lvl0           a         b     </span>
<span class="go">lvl1         bar  foo  bah  foo</span>
<span class="go">A0 B0 C0 D0    1    0    3    2</span>
<span class="go">         D1    5    4    7    6</span>
<span class="go">      C1 D0  -10  -10  -10  -10</span>
<span class="go">         D1  -10  -10  -10  -10</span>
<span class="go">      C2 D0   17   16   19   18</span>
<span class="go">         D1   21   20   23   22</span>
<span class="go">      C3 D0  -10  -10  -10  -10</span>
<span class="go">...          ...  ...  ...  ...</span>
<span class="go">A3 B1 C0 D1  229  228  231  230</span>
<span class="go">      C1 D0  -10  -10  -10  -10</span>
<span class="go">         D1  -10  -10  -10  -10</span>
<span class="go">      C2 D0  241  240  243  242</span>
<span class="go">         D1  245  244  247  246</span>
<span class="go">      C3 D0  -10  -10  -10  -10</span>
<span class="go">         D1  -10  -10  -10  -10</span>

<span class="go">[64 rows x 4 columns]</span>
</pre></div>
</div>
<p>You can use a right-hand-side of an alignable object as well.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [62]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="gp">In [63]: </span><span class="n">df2</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">[:,:,[</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;C3&#39;</span><span class="p">]],:]</span> <span class="o">=</span> <span class="n">df2</span><span class="o">*</span><span class="mi">1000</span>

<span class="gp">In [64]: </span><span class="n">df2</span>
<span class="gr">Out[64]: </span>
<span class="go">lvl0              a               b        </span>
<span class="go">lvl1            bar     foo     bah     foo</span>
<span class="go">A0 B0 C0 D0       1       0       3       2</span>
<span class="go">         D1       5       4       7       6</span>
<span class="go">      C1 D0    9000    8000   11000   10000</span>
<span class="go">         D1   13000   12000   15000   14000</span>
<span class="go">      C2 D0      17      16      19      18</span>
<span class="go">         D1      21      20      23      22</span>
<span class="go">      C3 D0   25000   24000   27000   26000</span>
<span class="go">...             ...     ...     ...     ...</span>
<span class="go">A3 B1 C0 D1     229     228     231     230</span>
<span class="go">      C1 D0  233000  232000  235000  234000</span>
<span class="go">         D1  237000  236000  239000  238000</span>
<span class="go">      C2 D0     241     240     243     242</span>
<span class="go">         D1     245     244     247     246</span>
<span class="go">      C3 D0  249000  248000  251000  250000</span>
<span class="go">         D1  253000  252000  255000  254000</span>

<span class="go">[64 rows x 4 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="plotting">
<span id="whatsnew-0140-plotting"></span><h3>Plotting<a class="headerlink" href="#plotting" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Hexagonal bin plots from <code class="docutils literal"><span class="pre">DataFrame.plot</span></code> with <code class="docutils literal"><span class="pre">kind='hexbin'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5478">GH5478</a>), See <a class="reference internal" href="visualization.html#visualization-hexbin"><span class="std std-ref">the docs</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.plot</span></code> and <code class="docutils literal"><span class="pre">Series.plot</span></code> now supports area plot with specifying <code class="docutils literal"><span class="pre">kind='area'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6656">GH6656</a>), See <a class="reference internal" href="visualization.html#visualization-area-plot"><span class="std std-ref">the docs</span></a></p>
</li>
<li><p class="first">Pie plots from <code class="docutils literal"><span class="pre">Series.plot</span></code> and <code class="docutils literal"><span class="pre">DataFrame.plot</span></code> with <code class="docutils literal"><span class="pre">kind='pie'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6976">GH6976</a>), See <a class="reference internal" href="visualization.html#visualization-pie"><span class="std std-ref">the docs</span></a>.</p>
</li>
<li><p class="first">Plotting with Error Bars is now supported in the <code class="docutils literal"><span class="pre">.plot</span></code> method of <code class="docutils literal"><span class="pre">DataFrame</span></code> and <code class="docutils literal"><span class="pre">Series</span></code> objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3796">GH3796</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6834">GH6834</a>), See <a class="reference internal" href="visualization.html#visualization-errorbars"><span class="std std-ref">the docs</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.plot</span></code> and <code class="docutils literal"><span class="pre">Series.plot</span></code> now support a <code class="docutils literal"><span class="pre">table</span></code> keyword for plotting <code class="docutils literal"><span class="pre">matplotlib.Table</span></code>, See <a class="reference internal" href="visualization.html#visualization-table"><span class="std std-ref">the docs</span></a>. The <code class="docutils literal"><span class="pre">table</span></code> keyword can receive the following values.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">False</span></code>: Do nothing (default).</li>
<li><code class="docutils literal"><span class="pre">True</span></code>: Draw a table using the <code class="docutils literal"><span class="pre">DataFrame</span></code> or <code class="docutils literal"><span class="pre">Series</span></code> called <code class="docutils literal"><span class="pre">plot</span></code> method. Data will be transposed to meet matplotlib&#8217;s default layout.</li>
<li><code class="docutils literal"><span class="pre">DataFrame</span></code> or <code class="docutils literal"><span class="pre">Series</span></code>: Draw matplotlib.table using the passed data. The data will be drawn as displayed in print method (not transposed automatically).
Also, helper function <code class="docutils literal"><span class="pre">pandas.tools.plotting.table</span></code> is added to create a table from <code class="docutils literal"><span class="pre">DataFrame</span></code> and <code class="docutils literal"><span class="pre">Series</span></code>, and add it to an <code class="docutils literal"><span class="pre">matplotlib.Axes</span></code>.</li>
</ul>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">plot(legend='reverse')</span></code> will now reverse the order of legend labels for
most plot kinds. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6014">GH6014</a>)</p>
</li>
<li><p class="first">Line plot and area plot can be stacked by <code class="docutils literal"><span class="pre">stacked=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6656">GH6656</a>)</p>
</li>
<li><p class="first">Following keywords are now acceptable for <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.plot()</span></code> with <code class="docutils literal"><span class="pre">kind='bar'</span></code> and <code class="docutils literal"><span class="pre">kind='barh'</span></code>:</p>
<ul class="simple">
<li><cite>width</cite>: Specify the bar width. In previous versions, static value 0.5 was passed to matplotlib and it cannot be overwritten. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6604">GH6604</a>)</li>
<li><cite>align</cite>: Specify the bar alignment. Default is <cite>center</cite> (different from matplotlib). In previous versions, pandas passes <cite>align=&#8217;edge&#8217;</cite> to matplotlib and adjust the location to <cite>center</cite> by itself, and it results <cite>align</cite> keyword is not applied as expected. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4525">GH4525</a>)</li>
<li><cite>position</cite>: Specify relative alignments for bar plot layout. From 0 (left/bottom-end) to 1(right/top-end). Default is 0.5 (center). (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6604">GH6604</a>)</li>
</ul>
<p>Because of the default <cite>align</cite> value changes, coordinates of bar plots are now located on integer values (0.0, 1.0, 2.0 ...). This is intended to make bar plot be located on the same coodinates as line plot. However, bar plot may differs unexpectedly when you manually adjust the bar location or drawing area, such as using <cite>set_xlim</cite>, <cite>set_ylim</cite>, etc. In this cases, please modify your script to meet with new coordinates.</p>
</li>
<li><p class="first">The <code class="xref py py-func docutils literal"><span class="pre">parallel_coordinates()</span></code> function now takes argument <code class="docutils literal"><span class="pre">color</span></code>
instead of <code class="docutils literal"><span class="pre">colors</span></code>. A <code class="docutils literal"><span class="pre">FutureWarning</span></code> is raised  to alert that
the old <code class="docutils literal"><span class="pre">colors</span></code> argument will not be supported in a future release. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6956">GH6956</a>)</p>
</li>
<li><p class="first">The <code class="xref py py-func docutils literal"><span class="pre">parallel_coordinates()</span></code> and <code class="xref py py-func docutils literal"><span class="pre">andrews_curves()</span></code> functions now take
positional argument <code class="docutils literal"><span class="pre">frame</span></code> instead of <code class="docutils literal"><span class="pre">data</span></code>. A <code class="docutils literal"><span class="pre">FutureWarning</span></code> is
raised  if the old <code class="docutils literal"><span class="pre">data</span></code> argument is used by name. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6956">GH6956</a>)</p>
</li>
<li><p class="first"><code class="xref py py-meth docutils literal"><span class="pre">DataFrame.boxplot()</span></code> now supports <code class="docutils literal"><span class="pre">layout</span></code> keyword (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6769">GH6769</a>)</p>
</li>
<li><p class="first"><code class="xref py py-meth docutils literal"><span class="pre">DataFrame.boxplot()</span></code> has a new keyword argument, <cite>return_type</cite>. It accepts <code class="docutils literal"><span class="pre">'dict'</span></code>,
<code class="docutils literal"><span class="pre">'axes'</span></code>, or <code class="docutils literal"><span class="pre">'both'</span></code>, in which case a namedtuple with the matplotlib
axes and a dict of matplotlib Lines is returned.</p>
</li>
</ul>
</div>
<div class="section" id="prior-version-deprecations-changes">
<span id="whatsnew-0140-prior-deprecations"></span><h3>Prior Version Deprecations/Changes<a class="headerlink" href="#prior-version-deprecations-changes" title="Permalink to this headline">¶</a></h3>
<p>There are prior version deprecations that are taking effect as of 0.14.0.</p>
<ul class="simple">
<li>Remove <code class="xref py py-class docutils literal"><span class="pre">DateRange</span></code> in favor of <code class="xref py py-class docutils literal"><span class="pre">DatetimeIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6816">GH6816</a>)</li>
<li>Remove <code class="docutils literal"><span class="pre">column</span></code> keyword from <code class="docutils literal"><span class="pre">DataFrame.sort</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4370">GH4370</a>)</li>
<li>Remove <code class="docutils literal"><span class="pre">precision</span></code> keyword from <code class="xref py py-func docutils literal"><span class="pre">set_eng_float_format()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/395">GH395</a>)</li>
<li>Remove <code class="docutils literal"><span class="pre">force_unicode</span></code> keyword from <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.to_string()</span></code>,
<code class="xref py py-meth docutils literal"><span class="pre">DataFrame.to_latex()</span></code>, and <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.to_html()</span></code>; these function
encode in unicode by default (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2224">GH2224</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2225">GH2225</a>)</li>
<li>Remove <code class="docutils literal"><span class="pre">nanRep</span></code> keyword from <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.to_csv()</span></code> and
<code class="xref py py-meth docutils literal"><span class="pre">DataFrame.to_string()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/275">GH275</a>)</li>
<li>Remove <code class="docutils literal"><span class="pre">unique</span></code> keyword from <code class="xref py py-meth docutils literal"><span class="pre">HDFStore.select_column()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3256">GH3256</a>)</li>
<li>Remove <code class="docutils literal"><span class="pre">inferTimeRule</span></code> keyword from <code class="xref py py-func docutils literal"><span class="pre">Timestamp.offset()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/391">GH391</a>)</li>
<li>Remove <code class="docutils literal"><span class="pre">name</span></code> keyword from <code class="xref py py-func docutils literal"><span class="pre">get_data_yahoo()</span></code> and
<code class="xref py py-func docutils literal"><span class="pre">get_data_google()</span></code> ( <a class="reference external" href="https://github.com/pydata/pandas/commit/b921d1a2">commit b921d1a</a> )</li>
<li>Remove <code class="docutils literal"><span class="pre">offset</span></code> keyword from <code class="xref py py-class docutils literal"><span class="pre">DatetimeIndex</span></code> constructor
( <a class="reference external" href="https://github.com/pydata/pandas/commit/3136390">commit 3136390</a> )</li>
<li>Remove <code class="docutils literal"><span class="pre">time_rule</span></code> from several rolling-moment statistical functions, such
as <code class="xref py py-func docutils literal"><span class="pre">rolling_sum()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1042">GH1042</a>)</li>
<li>Removed neg <code class="docutils literal"><span class="pre">-</span></code> boolean operations on numpy arrays in favor of inv <code class="docutils literal"><span class="pre">~</span></code>, as this is going to
be deprecated in numpy 1.9 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6960">GH6960</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0140-deprecations">
<span id="id77"></span><h3>Deprecations<a class="headerlink" href="#whatsnew-0140-deprecations" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The <code class="xref py py-func docutils literal"><span class="pre">pivot_table()</span></code>/<code class="xref py py-meth docutils literal"><span class="pre">DataFrame.pivot_table()</span></code> and <code class="xref py py-func docutils literal"><span class="pre">crosstab()</span></code> functions
now take arguments <code class="docutils literal"><span class="pre">index</span></code> and <code class="docutils literal"><span class="pre">columns</span></code> instead of <code class="docutils literal"><span class="pre">rows</span></code> and <code class="docutils literal"><span class="pre">cols</span></code>.  A
<code class="docutils literal"><span class="pre">FutureWarning</span></code> is raised  to alert that the old <code class="docutils literal"><span class="pre">rows</span></code> and <code class="docutils literal"><span class="pre">cols</span></code> arguments
will not be supported in a future release (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5505">GH5505</a>)</p>
</li>
<li><p class="first">The <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.drop_duplicates()</span></code> and <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.duplicated()</span></code> methods
now take argument <code class="docutils literal"><span class="pre">subset</span></code> instead of <code class="docutils literal"><span class="pre">cols</span></code> to better align with
<code class="xref py py-meth docutils literal"><span class="pre">DataFrame.dropna()</span></code>.  A <code class="docutils literal"><span class="pre">FutureWarning</span></code> is raised  to alert that the old
<code class="docutils literal"><span class="pre">cols</span></code> arguments will not be supported in a future release (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6680">GH6680</a>)</p>
</li>
<li><p class="first">The <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.to_csv()</span></code> and <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.to_excel()</span></code> functions
now takes argument <code class="docutils literal"><span class="pre">columns</span></code> instead of <code class="docutils literal"><span class="pre">cols</span></code>.  A
<code class="docutils literal"><span class="pre">FutureWarning</span></code> is raised  to alert that the old <code class="docutils literal"><span class="pre">cols</span></code> arguments
will not be supported in a future release (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6645">GH6645</a>)</p>
</li>
<li><p class="first">Indexers will warn <code class="docutils literal"><span class="pre">FutureWarning</span></code> when used with a scalar indexer and
a non-floating point Index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4892">GH4892</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6960">GH6960</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># non-floating point indexes can only be indexed by integers / labels</span>
<span class="gp">In [1]: </span><span class="n">Series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">))[</span><span class="mf">3.0</span><span class="p">]</span>
<span class="go">        pandas/core/index.py:469: FutureWarning: scalar indexers for index type Int64Index should be integers and not floating point</span>
<span class="gr">Out[1]: </span><span class="mi">1</span>

<span class="gp">In [2]: </span><span class="n">Series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mf">3.0</span><span class="p">]</span>
<span class="go">        pandas/core/index.py:469: FutureWarning: scalar indexers for index type Int64Index should be integers and not floating point</span>
<span class="gr">Out[2]: </span><span class="mi">1</span>

<span class="gp">In [3]: </span><span class="n">Series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mf">3.0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="go">        pandas/core/index.py:527: FutureWarning: slice indexers when using iloc should be integers and not floating point</span>
<span class="go">Out[3]:</span>
<span class="go">        3    1</span>
<span class="go">        dtype: int64</span>

<span class="c"># these are Float64Indexes, so integer or floating point is acceptable</span>
<span class="gp">In [4]: </span><span class="n">Series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">5.</span><span class="p">))[</span><span class="mi">3</span><span class="p">]</span>
<span class="gr">Out[4]: </span><span class="mi">1</span>

<span class="gp">In [5]: </span><span class="n">Series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">5.</span><span class="p">))[</span><span class="mf">3.0</span><span class="p">]</span>
<span class="gr">Out[6]: </span><span class="mi">1</span>
</pre></div>
</div>
</li>
<li><p class="first">Numpy 1.9 compat w.r.t. deprecation warnings (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6960">GH6960</a>)</p>
</li>
<li><p class="first"><code class="xref py py-meth docutils literal"><span class="pre">Panel.shift()</span></code> now has a function signature that matches <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.shift()</span></code>.
The old positional argument <code class="docutils literal"><span class="pre">lags</span></code> has been changed to a keyword argument
<code class="docutils literal"><span class="pre">periods</span></code> with a default value of 1. A <code class="docutils literal"><span class="pre">FutureWarning</span></code> is raised if the
old argument <code class="docutils literal"><span class="pre">lags</span></code> is used by name. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6910">GH6910</a>)</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">order</span></code> keyword argument of <code class="xref py py-func docutils literal"><span class="pre">factorize()</span></code> will be removed. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6926">GH6926</a>).</p>
</li>
<li><p class="first">Remove the <code class="docutils literal"><span class="pre">copy</span></code> keyword from <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.xs()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">Panel.major_xs()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">Panel.minor_xs()</span></code>. A view will be
returned if possible, otherwise a copy will be made. Previously the user could think that <code class="docutils literal"><span class="pre">copy=False</span></code> would
ALWAYS return a view. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6894">GH6894</a>)</p>
</li>
<li><p class="first">The <code class="xref py py-func docutils literal"><span class="pre">parallel_coordinates()</span></code> function now takes argument <code class="docutils literal"><span class="pre">color</span></code>
instead of <code class="docutils literal"><span class="pre">colors</span></code>. A <code class="docutils literal"><span class="pre">FutureWarning</span></code> is raised  to alert that
the old <code class="docutils literal"><span class="pre">colors</span></code> argument will not be supported in a future release. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6956">GH6956</a>)</p>
</li>
<li><p class="first">The <code class="xref py py-func docutils literal"><span class="pre">parallel_coordinates()</span></code> and <code class="xref py py-func docutils literal"><span class="pre">andrews_curves()</span></code> functions now take
positional argument <code class="docutils literal"><span class="pre">frame</span></code> instead of <code class="docutils literal"><span class="pre">data</span></code>. A <code class="docutils literal"><span class="pre">FutureWarning</span></code> is
raised  if the old <code class="docutils literal"><span class="pre">data</span></code> argument is used by name. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6956">GH6956</a>)</p>
</li>
<li><p class="first">The support for the &#8216;mysql&#8217; flavor when using DBAPI connection objects has been deprecated.
MySQL will be further supported with SQLAlchemy engines (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6900">GH6900</a>).</p>
</li>
<li><p class="first">The following <code class="docutils literal"><span class="pre">io.sql</span></code> functions have been deprecated: <code class="docutils literal"><span class="pre">tquery</span></code>, <code class="docutils literal"><span class="pre">uquery</span></code>, <code class="docutils literal"><span class="pre">read_frame</span></code>, <code class="docutils literal"><span class="pre">frame_query</span></code>, <code class="docutils literal"><span class="pre">write_frame</span></code>.</p>
</li>
<li><p class="first">The <cite>percentile_width</cite> keyword argument in <code class="xref py py-meth docutils literal"><span class="pre">describe()</span></code> has been deprecated.
Use the <cite>percentiles</cite> keyword instead, which takes a list of percentiles to display. The
default output is unchanged.</p>
</li>
<li><p class="first">The default return type of <code class="xref py py-func docutils literal"><span class="pre">boxplot()</span></code> will change from a dict to a matpltolib Axes
in a future release. You can use the future behavior now by passing <code class="docutils literal"><span class="pre">return_type='axes'</span></code>
to boxplot.</p>
</li>
</ul>
</div>
<div class="section" id="known-issues">
<span id="whatsnew-0140-knownissues"></span><h3>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>OpenPyXL 2.0.0 breaks backwards compatibility (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7169">GH7169</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0140-enhancements">
<span id="id78"></span><h3>Enhancements<a class="headerlink" href="#whatsnew-0140-enhancements" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">DataFrame and Series will create a MultiIndex object if passed a tuples dict, See <a class="reference internal" href="dsintro.html#basics-dataframe-from-dict-of-tuples"><span class="std std-ref">the docs</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3323">GH3323</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [65]: </span><span class="n">Series</span><span class="p">({(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">):</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">):</span> <span class="mi">0</span><span class="p">,</span>
<span class="gp">   ....:</span>         <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">):</span> <span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">):</span> <span class="mi">3</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">):</span> <span class="mi">4</span><span class="p">})</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[65]: </span>
<span class="go">a  a    0</span>
<span class="go">   b    1</span>
<span class="go">   c    2</span>
<span class="go">b  a    3</span>
<span class="go">   b    4</span>
<span class="go">dtype: int64</span>

<span class="gp">In [66]: </span><span class="n">DataFrame</span><span class="p">({(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">):</span> <span class="p">{(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">):</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">):</span> <span class="mi">2</span><span class="p">},</span>
<span class="gp">   ....:</span>            <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">):</span> <span class="p">{(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">):</span> <span class="mi">3</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">):</span> <span class="mi">4</span><span class="p">},</span>
<span class="gp">   ....:</span>            <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">):</span> <span class="p">{(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">):</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">):</span> <span class="mi">6</span><span class="p">},</span>
<span class="gp">   ....:</span>            <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">):</span> <span class="p">{(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">):</span> <span class="mi">7</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">):</span> <span class="mi">8</span><span class="p">},</span>
<span class="gp">   ....:</span>            <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">):</span> <span class="p">{(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">):</span> <span class="mi">9</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">):</span> <span class="mi">10</span><span class="p">}})</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[66]: </span>
<span class="go">       a              b      </span>
<span class="go">       a    b    c    a     b</span>
<span class="go">A B  4.0  1.0  5.0  8.0  10.0</span>
<span class="go">  C  3.0  2.0  6.0  7.0   NaN</span>
<span class="go">  D  NaN  NaN  NaN  NaN   9.0</span>
</pre></div>
</div>
</li>
<li><p class="first">Added the <code class="docutils literal"><span class="pre">sym_diff</span></code> method to <code class="docutils literal"><span class="pre">Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5543">GH5543</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.to_latex</span></code> now takes a longtable keyword, which if True will return a table in a longtable environment. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6617">GH6617</a>)</p>
</li>
<li><p class="first">Add option to turn off escaping in <code class="docutils literal"><span class="pre">DataFrame.to_latex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6472">GH6472</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_clipboard</span></code> will, if the keyword <code class="docutils literal"><span class="pre">sep</span></code> is unspecified, try to detect data copied from a spreadsheet
and parse accordingly. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6223">GH6223</a>)</p>
</li>
<li><p class="first">Joining a singly-indexed DataFrame with a multi-indexed DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3662">GH3662</a>)</p>
<p>See <a class="reference internal" href="merging.html#merging-join-on-mi"><span class="std std-ref">the docs</span></a>. Joining multi-index DataFrames on both the left and right is not yet supported ATM.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [67]: </span><span class="n">household</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">household_id</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
<span class="gp">   ....:</span>                            <span class="n">male</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">   ....:</span>                            <span class="n">wealth</span> <span class="o">=</span> <span class="p">[</span><span class="mf">196087.3</span><span class="p">,</span><span class="mf">316478.7</span><span class="p">,</span><span class="mi">294750</span><span class="p">]),</span>
<span class="gp">   ....:</span>                       <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;household_id&#39;</span><span class="p">,</span><span class="s1">&#39;male&#39;</span><span class="p">,</span><span class="s1">&#39;wealth&#39;</span><span class="p">]</span>
<span class="gp">   ....:</span>                      <span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;household_id&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 

<span class="gp">In [68]: </span><span class="n">household</span>
<span class="gr">Out[68]: </span>
<span class="go">              male    wealth</span>
<span class="go">household_id                </span>
<span class="go">1                0  196087.3</span>
<span class="go">2                1  316478.7</span>
<span class="go">3                0  294750.0</span>

<span class="gp">In [69]: </span><span class="n">portfolio</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">household_id</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
<span class="gp">   ....:</span>                            <span class="n">asset_id</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;nl0000301109&quot;</span><span class="p">,</span><span class="s2">&quot;nl0000289783&quot;</span><span class="p">,</span><span class="s2">&quot;gb00b03mlx29&quot;</span><span class="p">,</span>
<span class="gp">   ....:</span>                                        <span class="s2">&quot;gb00b03mlx29&quot;</span><span class="p">,</span><span class="s2">&quot;lu0197800237&quot;</span><span class="p">,</span><span class="s2">&quot;nl0000289965&quot;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">   ....:</span>                            <span class="n">name</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ABN Amro&quot;</span><span class="p">,</span><span class="s2">&quot;Robeco&quot;</span><span class="p">,</span><span class="s2">&quot;Royal Dutch Shell&quot;</span><span class="p">,</span><span class="s2">&quot;Royal Dutch Shell&quot;</span><span class="p">,</span>
<span class="gp">   ....:</span>                                    <span class="s2">&quot;AAB Eastern Europe Equity Fund&quot;</span><span class="p">,</span><span class="s2">&quot;Postbank BioTech Fonds&quot;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">   ....:</span>                            <span class="n">share</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">0.15</span><span class="p">,</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">0.25</span><span class="p">,</span><span class="mf">1.0</span><span class="p">]),</span>
<span class="gp">   ....:</span>                       <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;household_id&#39;</span><span class="p">,</span><span class="s1">&#39;asset_id&#39;</span><span class="p">,</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;share&#39;</span><span class="p">]</span>
<span class="gp">   ....:</span>                      <span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;household_id&#39;</span><span class="p">,</span><span class="s1">&#39;asset_id&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [70]: </span><span class="n">portfolio</span>
<span class="gr">Out[70]: </span>
<span class="go">                                                     name  share</span>
<span class="go">household_id asset_id                                           </span>
<span class="go">1            nl0000301109                        ABN Amro   1.00</span>
<span class="go">2            nl0000289783                          Robeco   0.40</span>
<span class="go">             gb00b03mlx29               Royal Dutch Shell   0.60</span>
<span class="go">3            gb00b03mlx29               Royal Dutch Shell   0.15</span>
<span class="go">             lu0197800237  AAB Eastern Europe Equity Fund   0.60</span>
<span class="go">             nl0000289965          Postbank BioTech Fonds   0.25</span>
<span class="go">4            NaN                                      NaN   1.00</span>

<span class="gp">In [71]: </span><span class="n">household</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">portfolio</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
<span class="gr">Out[71]: </span>
<span class="go">                           male    wealth                            name  \</span>
<span class="go">household_id asset_id                                                       </span>
<span class="go">1            nl0000301109     0  196087.3                        ABN Amro   </span>
<span class="go">2            nl0000289783     1  316478.7                          Robeco   </span>
<span class="go">             gb00b03mlx29     1  316478.7               Royal Dutch Shell   </span>
<span class="go">3            gb00b03mlx29     0  294750.0               Royal Dutch Shell   </span>
<span class="go">             lu0197800237     0  294750.0  AAB Eastern Europe Equity Fund   </span>
<span class="go">             nl0000289965     0  294750.0          Postbank BioTech Fonds   </span>

<span class="go">                           share  </span>
<span class="go">household_id asset_id             </span>
<span class="go">1            nl0000301109   1.00  </span>
<span class="go">2            nl0000289783   0.40  </span>
<span class="go">             gb00b03mlx29   0.60  </span>
<span class="go">3            gb00b03mlx29   0.15  </span>
<span class="go">             lu0197800237   0.60  </span>
<span class="go">             nl0000289965   0.25  </span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">quotechar</span></code>, <code class="docutils literal"><span class="pre">doublequote</span></code>, and <code class="docutils literal"><span class="pre">escapechar</span></code> can now be specified when
using <code class="docutils literal"><span class="pre">DataFrame.to_csv</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5414">GH5414</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4528">GH4528</a>)</p>
</li>
<li><p class="first">Partially sort by only the specified levels of a MultiIndex with the
<code class="docutils literal"><span class="pre">sort_remaining</span></code> boolean kwarg. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3984">GH3984</a>)</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">to_julian_date</span></code> to <code class="docutils literal"><span class="pre">TimeStamp</span></code> and <code class="docutils literal"><span class="pre">DatetimeIndex</span></code>.  The Julian
Date is used primarily in astronomy and represents the number of days from
noon, January 1, 4713 BC.  Because nanoseconds are used to define the time
in pandas the actual range of dates that you can use is 1678 AD to 2262 AD. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4041">GH4041</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.to_stata</span></code> will now check data for compatibility with Stata data types
and will upcast when needed.  When it is not possible to losslessly upcast, a warning
is issued (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6327">GH6327</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.to_stata</span></code> and <code class="docutils literal"><span class="pre">StataWriter</span></code> will accept keyword arguments time_stamp
and data_label which allow the time stamp and dataset label to be set when creating a
file. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6545">GH6545</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pandas.io.gbq</span></code> now handles reading unicode strings properly. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5940">GH5940</a>)</p>
</li>
<li><p class="first"><a class="reference internal" href="timeseries.html#timeseries-holiday"><span class="std std-ref">Holidays Calendars</span></a> are now available and can be used with the <code class="docutils literal"><span class="pre">CustomBusinessDay</span></code> offset (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6719">GH6719</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Float64Index</span></code> is now backed by a <code class="docutils literal"><span class="pre">float64</span></code> dtype ndarray instead of an
<code class="docutils literal"><span class="pre">object</span></code> dtype array (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6471">GH6471</a>).</p>
</li>
<li><p class="first">Implemented <code class="docutils literal"><span class="pre">Panel.pct_change</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6904">GH6904</a>)</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">how</span></code> option to rolling-moment functions to dictate how to handle resampling; <code class="xref py py-func docutils literal"><span class="pre">rolling_max()</span></code> defaults to max,
<code class="xref py py-func docutils literal"><span class="pre">rolling_min()</span></code> defaults to min, and all others default to mean (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6297">GH6297</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">CustomBuisnessMonthBegin</span></code> and <code class="docutils literal"><span class="pre">CustomBusinessMonthEnd</span></code> are now available (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6866">GH6866</a>)</p>
</li>
<li><p class="first"><code class="xref py py-meth docutils literal"><span class="pre">Series.quantile()</span></code> and <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.quantile()</span></code> now accept an array of
quantiles.</p>
</li>
<li><p class="first"><code class="xref py py-meth docutils literal"><span class="pre">describe()</span></code> now accepts an array of percentiles to include in the summary statistics (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4196">GH4196</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pivot_table</span></code> can now accept <code class="docutils literal"><span class="pre">Grouper</span></code> by <code class="docutils literal"><span class="pre">index</span></code> and <code class="docutils literal"><span class="pre">columns</span></code> keywords (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6913">GH6913</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [72]: </span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="gp">In [73]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">   ....:</span>   <span class="s1">&#39;Branch&#39;</span> <span class="p">:</span> <span class="s1">&#39;A A A A A B&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span>
<span class="gp">   ....:</span>   <span class="s1">&#39;Buyer&#39;</span><span class="p">:</span> <span class="s1">&#39;Carl Mark Carl Carl Joe Joe&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span>
<span class="gp">   ....:</span>   <span class="s1">&#39;Quantity&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">   ....:</span>   <span class="s1">&#39;Date&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">   ....:</span>             <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
<span class="gp">   ....:</span>             <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">)],</span>
<span class="gp">   ....:</span>   <span class="s1">&#39;PayDay&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">   ....:</span>               <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
<span class="gp">   ....:</span>               <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">)]})</span>
<span class="gp">   ....:</span> 

<span class="gp">In [74]: </span><span class="n">df</span>
<span class="gr">Out[74]: </span>
<span class="go">  Branch Buyer                Date              PayDay  Quantity</span>
<span class="go">0      A  Carl 2013-11-01 13:00:00 2013-10-04 00:00:00         1</span>
<span class="go">1      A  Mark 2013-09-01 13:05:00 2013-10-15 13:05:00         3</span>
<span class="go">2      A  Carl 2013-10-01 20:00:00 2013-09-05 20:00:00         5</span>
<span class="go">3      A  Carl 2013-10-02 10:00:00 2013-11-02 10:00:00         1</span>
<span class="go">4      A   Joe 2013-11-01 20:00:00 2013-10-07 20:00:00         8</span>
<span class="go">5      B   Joe 2013-10-02 10:00:00 2013-09-05 10:00:00         1</span>

<span class="gp">In [75]: </span><span class="n">pivot_table</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">Grouper</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>             <span class="n">columns</span><span class="o">=</span><span class="n">Grouper</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;PayDay&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>             <span class="n">values</span><span class="o">=</span><span class="s1">&#39;Quantity&#39;</span><span class="p">,</span> <span class="n">aggfunc</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[75]: </span>
<span class="go">PayDay      2013-09-30  2013-10-31  2013-11-30</span>
<span class="go">Date                                          </span>
<span class="go">2013-09-30         NaN         3.0         NaN</span>
<span class="go">2013-10-31         6.0         NaN         1.0</span>
<span class="go">2013-11-30         NaN         9.0         NaN</span>
</pre></div>
</div>
</li>
<li><p class="first">Arrays of strings can be wrapped to a specified width (<code class="docutils literal"><span class="pre">str.wrap</span></code>) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6999">GH6999</a>)</p>
</li>
<li><p class="first">Add <code class="xref py py-meth docutils literal"><span class="pre">nsmallest()</span></code> and <code class="xref py py-meth docutils literal"><span class="pre">Series.nlargest()</span></code> methods to Series, See <a class="reference internal" href="basics.html#basics-nsorted"><span class="std std-ref">the docs</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3960">GH3960</a>)</p>
</li>
<li><p class="first"><cite>PeriodIndex</cite> fully supports partial string indexing like <cite>DatetimeIndex</cite> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7043">GH7043</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [76]: </span><span class="n">prng</span> <span class="o">=</span> <span class="n">period_range</span><span class="p">(</span><span class="s1">&#39;2013-01-01 09:00&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;H&#39;</span><span class="p">)</span>

<span class="gp">In [77]: </span><span class="n">ps</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">prng</span><span class="p">)),</span> <span class="n">index</span><span class="o">=</span><span class="n">prng</span><span class="p">)</span>

<span class="gp">In [78]: </span><span class="n">ps</span>
<span class="gr">Out[78]: </span>
<span class="go">2013-01-01 09:00    0.015696</span>
<span class="go">2013-01-01 10:00   -2.242685</span>
<span class="go">2013-01-01 11:00    1.150036</span>
<span class="go">2013-01-01 12:00    0.991946</span>
<span class="go">2013-01-01 13:00    0.953324</span>
<span class="go">2013-01-01 14:00   -2.021255</span>
<span class="go">2013-01-01 15:00   -0.334077</span>
<span class="go">                      ...   </span>
<span class="go">2013-01-05 06:00    0.566534</span>
<span class="go">2013-01-05 07:00    0.503592</span>
<span class="go">2013-01-05 08:00    0.285296</span>
<span class="go">2013-01-05 09:00    0.484288</span>
<span class="go">2013-01-05 10:00    1.363482</span>
<span class="go">2013-01-05 11:00   -0.781105</span>
<span class="go">2013-01-05 12:00   -0.468018</span>
<span class="go">Freq: H, dtype: float64</span>

<span class="gp">In [79]: </span><span class="n">ps</span><span class="p">[</span><span class="s1">&#39;2013-01-02&#39;</span><span class="p">]</span>
<span class="gr">Out[79]: </span>
<span class="go">2013-01-02 00:00    0.553439</span>
<span class="go">2013-01-02 01:00    1.318152</span>
<span class="go">2013-01-02 02:00   -0.469305</span>
<span class="go">2013-01-02 03:00    0.675554</span>
<span class="go">2013-01-02 04:00   -1.817027</span>
<span class="go">2013-01-02 05:00   -0.183109</span>
<span class="go">2013-01-02 06:00    1.058969</span>
<span class="go">                      ...   </span>
<span class="go">2013-01-02 17:00    0.076200</span>
<span class="go">2013-01-02 18:00   -0.566446</span>
<span class="go">2013-01-02 19:00    0.036142</span>
<span class="go">2013-01-02 20:00   -2.074978</span>
<span class="go">2013-01-02 21:00    0.247792</span>
<span class="go">2013-01-02 22:00   -0.897157</span>
<span class="go">2013-01-02 23:00   -0.136795</span>
<span class="go">Freq: H, dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">read_excel</span></code> can now read milliseconds in Excel dates and times with xlrd &gt;= 0.9.3. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5945">GH5945</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.stats.moments.rolling_var</span></code> now uses Welford&#8217;s method for increased numerical stability (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6817">GH6817</a>)</p>
</li>
<li><p class="first">pd.expanding_apply and pd.rolling_apply now take args and kwargs that are passed on to
the func (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6289">GH6289</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.rank()</span></code> now has a percentage rank option (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5971">GH5971</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series.rank()</span></code> now has a percentage rank option (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5971">GH5971</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series.rank()</span></code> and <code class="docutils literal"><span class="pre">DataFrame.rank()</span></code> now accept <code class="docutils literal"><span class="pre">method='dense'</span></code> for ranks without gaps (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6514">GH6514</a>)</p>
</li>
<li><p class="first">Support passing <code class="docutils literal"><span class="pre">encoding</span></code> with xlwt (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3710">GH3710</a>)</p>
</li>
<li><p class="first">Refactor Block classes removing <cite>Block.items</cite> attributes to avoid duplication
in item handling (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6745">GH6745</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6988">GH6988</a>).</p>
</li>
<li><p class="first">Testing statements updated to use specialized asserts (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6175">GH6175</a>)</p>
</li>
</ul>
</div>
<div class="section" id="whatsnew-0140-performance">
<span id="id79"></span><h3>Performance<a class="headerlink" href="#whatsnew-0140-performance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Performance improvement when converting <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> to floating ordinals
using <code class="docutils literal"><span class="pre">DatetimeConverter</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6636">GH6636</a>)</li>
<li>Performance improvement for  <code class="docutils literal"><span class="pre">DataFrame.shift</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5609">GH5609</a>)</li>
<li>Performance improvement in indexing into a multi-indexed Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5567">GH5567</a>)</li>
<li>Performance improvements in single-dtyped indexing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6484">GH6484</a>)</li>
<li>Improve performance of DataFrame construction with certain offsets, by removing faulty caching
(e.g. MonthEnd,BusinessMonthEnd), (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6479">GH6479</a>)</li>
<li>Improve performance of <code class="docutils literal"><span class="pre">CustomBusinessDay</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6584">GH6584</a>)</li>
<li>improve performance of slice indexing on Series with string keys (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6341">GH6341</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6372">GH6372</a>)</li>
<li>Performance improvement for <code class="docutils literal"><span class="pre">DataFrame.from_records</span></code> when reading a
specified number of rows from an iterable (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6700">GH6700</a>)</li>
<li>Performance improvements in timedelta conversions for integer dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6754">GH6754</a>)</li>
<li>Improved performance of compatible pickles (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6899">GH6899</a>)</li>
<li>Improve performance in certain reindexing operations by optimizing <code class="docutils literal"><span class="pre">take_2d</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6749">GH6749</a>)</li>
<li><code class="docutils literal"><span class="pre">GroupBy.count()</span></code> is now implemented in Cython and is much faster for large
numbers of groups (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7016">GH7016</a>).</li>
</ul>
</div>
<div class="section" id="id80">
<h3>Experimental<a class="headerlink" href="#id80" title="Permalink to this headline">¶</a></h3>
<p>There are no experimental changes in 0.14.0</p>
</div>
<div class="section" id="whatsnew-0140-bug-fixes">
<span id="id81"></span><h3>Bug Fixes<a class="headerlink" href="#whatsnew-0140-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Bug in Series ValueError when index doesn&#8217;t match data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6532">GH6532</a>)</li>
<li>Prevent segfault due to MultiIndex not being supported in HDFStore table
format (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1848">GH1848</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.DataFrame.sort_index</span></code> where mergesort wasn&#8217;t stable when <code class="docutils literal"><span class="pre">ascending=False</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6399">GH6399</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.tseries.frequencies.to_offset</span></code> when argument has leading zeroes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6391">GH6391</a>)</li>
<li>Bug in version string gen. for dev versions with shallow clones / install from tarball (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6127">GH6127</a>)</li>
<li>Inconsistent tz parsing <code class="docutils literal"><span class="pre">Timestamp</span></code> / <code class="docutils literal"><span class="pre">to_datetime</span></code> for current year (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5958">GH5958</a>)</li>
<li>Indexing bugs with reordered indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6252">GH6252</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6254">GH6254</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.xs</span></code> with a Series multiindex (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6258">GH6258</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5684">GH5684</a>)</li>
<li>Bug in conversion of a string types to a DatetimeIndex with a specified frequency (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6273">GH6273</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6274">GH6274</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">eval</span></code> where type-promotion failed for large expressions (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6205">GH6205</a>)</li>
<li>Bug in interpolate with <code class="docutils literal"><span class="pre">inplace=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6281">GH6281</a>)</li>
<li><code class="docutils literal"><span class="pre">HDFStore.remove</span></code> now handles start and stop (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6177">GH6177</a>)</li>
<li><code class="docutils literal"><span class="pre">HDFStore.select_as_multiple</span></code> handles start and stop the same way as <code class="docutils literal"><span class="pre">select</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6177">GH6177</a>)</li>
<li><code class="docutils literal"><span class="pre">HDFStore.select_as_coordinates</span></code> and <code class="docutils literal"><span class="pre">select_column</span></code> works with a <code class="docutils literal"><span class="pre">where</span></code> clause that results in filters (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6177">GH6177</a>)</li>
<li>Regression in join of non_unique_indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6329">GH6329</a>)</li>
<li>Issue with groupby <code class="docutils literal"><span class="pre">agg</span></code> with a single function and a a mixed-type frame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6337">GH6337</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.replace()</span></code> when passing a non- <code class="docutils literal"><span class="pre">bool</span></code>
<code class="docutils literal"><span class="pre">to_replace</span></code> argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6332">GH6332</a>)</li>
<li>Raise when trying to align on different levels of a multi-index assignment (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3738">GH3738</a>)</li>
<li>Bug in setting complex dtypes via boolean indexing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6345">GH6345</a>)</li>
<li>Bug in TimeGrouper/resample when presented with a non-monotonic DatetimeIndex that would return invalid results. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4161">GH4161</a>)</li>
<li>Bug in index name propogation in TimeGrouper/resample (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4161">GH4161</a>)</li>
<li>TimeGrouper has a more compatible API to the rest of the groupers (e.g. <code class="docutils literal"><span class="pre">groups</span></code> was missing) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3881">GH3881</a>)</li>
<li>Bug in multiple grouping with a TimeGrouper depending on target column order (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6764">GH6764</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.eval</span></code> when parsing strings with possible tokens like <code class="docutils literal"><span class="pre">'&amp;'</span></code>
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6351">GH6351</a>)</li>
<li>Bug correctly handle placements of <code class="docutils literal"><span class="pre">-inf</span></code> in Panels when dividing by integer 0 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6178">GH6178</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.shift</span></code> with <code class="docutils literal"><span class="pre">axis=1</span></code> was raising (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6371">GH6371</a>)</li>
<li>Disabled clipboard tests until release time (run locally with <code class="docutils literal"><span class="pre">nosetests</span> <span class="pre">-A</span> <span class="pre">disabled</span></code>) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6048">GH6048</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.replace()</span></code> when passing a nested <code class="docutils literal"><span class="pre">dict</span></code> that contained
keys not in the values to be replaced (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6342">GH6342</a>)</li>
<li><code class="docutils literal"><span class="pre">str.match</span></code> ignored the na flag (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6609">GH6609</a>).</li>
<li>Bug in take with duplicate columns that were not consolidated (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6240">GH6240</a>)</li>
<li>Bug in interpolate changing dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6290">GH6290</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.get</span></code>, was using a buggy access method (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6383">GH6383</a>)</li>
<li>Bug in hdfstore queries of the form <code class="docutils literal"><span class="pre">where=[('date',</span> <span class="pre">'&gt;=',</span> <span class="pre">datetime(2013,1,1)),</span> <span class="pre">('date',</span> <span class="pre">'&lt;=',</span> <span class="pre">datetime(2014,1,1))]</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6313">GH6313</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.dropna</span></code> with duplicate indices (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6355">GH6355</a>)</li>
<li>Regression in chained getitem indexing with embedded list-like from 0.12 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6394">GH6394</a>)</li>
<li><code class="docutils literal"><span class="pre">Float64Index</span></code> with nans not comparing correctly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6401">GH6401</a>)</li>
<li><code class="docutils literal"><span class="pre">eval</span></code>/<code class="docutils literal"><span class="pre">query</span></code> expressions with strings containing the <code class="docutils literal"><span class="pre">&#64;</span></code> character
will now work (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6366">GH6366</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.reindex</span></code> when specifying a <code class="docutils literal"><span class="pre">method</span></code> with some nan values was inconsistent (noted on a resample) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6418">GH6418</a>)</li>
<li>Bug in <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.replace()</span></code> where nested dicts were erroneously
depending on the order of dictionary keys and values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5338">GH5338</a>).</li>
<li>Perf issue in concatting with empty objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3259">GH3259</a>)</li>
<li>Clarify sorting of <code class="docutils literal"><span class="pre">sym_diff</span></code> on <code class="docutils literal"><span class="pre">Index</span></code> objects with <code class="docutils literal"><span class="pre">NaN</span></code> values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6444">GH6444</a>)</li>
<li>Regression in <code class="docutils literal"><span class="pre">MultiIndex.from_product</span></code> with a <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> as input (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6439">GH6439</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">str.extract</span></code> when passed a non-default index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6348">GH6348</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">str.split</span></code> when passed <code class="docutils literal"><span class="pre">pat=None</span></code> and <code class="docutils literal"><span class="pre">n=1</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6466">GH6466</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">io.data.DataReader</span></code> when passed <code class="docutils literal"><span class="pre">&quot;F-F_Momentum_Factor&quot;</span></code> and <code class="docutils literal"><span class="pre">data_source=&quot;famafrench&quot;</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6460">GH6460</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">sum</span></code> of a <code class="docutils literal"><span class="pre">timedelta64[ns]</span></code> series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6462">GH6462</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">resample</span></code> with a timezone and certain offsets (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6397">GH6397</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">iat/iloc</span></code> with duplicate indices on a Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6493">GH6493</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_html</span></code> where nan&#8217;s were incorrectly being used to indicate
missing values in text. Should use the empty string for consistency with the
rest of pandas (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5129">GH5129</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_html</span></code> tests where redirected invalid URLs would make one test
fail (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6445">GH6445</a>).</li>
<li>Bug in multi-axis indexing using <code class="docutils literal"><span class="pre">.loc</span></code> on non-unique indices (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6504">GH6504</a>)</li>
<li>Bug that caused _ref_locs corruption when slice indexing across columns axis of a DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6525">GH6525</a>)</li>
<li>Regression from 0.13 in the treatment of numpy <code class="docutils literal"><span class="pre">datetime64</span></code> non-ns dtypes in Series creation (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6529">GH6529</a>)</li>
<li><code class="docutils literal"><span class="pre">.names</span></code> attribute of MultiIndexes passed to <code class="docutils literal"><span class="pre">set_index</span></code> are now preserved (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6459">GH6459</a>).</li>
<li>Bug in setitem with a duplicate index and an alignable rhs (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6541">GH6541</a>)</li>
<li>Bug in setitem with <code class="docutils literal"><span class="pre">.loc</span></code> on mixed integer Indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6546">GH6546</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">pd.read_stata</span></code> which would use the wrong data types and missing values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6327">GH6327</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_stata</span></code> that lead to data loss in certain cases, and could be exported using the
wrong data types and missing values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6335">GH6335</a>)</li>
<li><code class="docutils literal"><span class="pre">StataWriter</span></code> replaces missing values in string columns by empty string (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6802">GH6802</a>)</li>
<li>Inconsistent types in <code class="docutils literal"><span class="pre">Timestamp</span></code> addition/subtraction (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6543">GH6543</a>)</li>
<li>Bug in preserving frequency across Timestamp addition/subtraction (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4547">GH4547</a>)</li>
<li>Bug in empty list lookup caused <code class="docutils literal"><span class="pre">IndexError</span></code> exceptions (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6536">GH6536</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6551">GH6551</a>)</li>
<li><code class="docutils literal"><span class="pre">Series.quantile</span></code> raising on an <code class="docutils literal"><span class="pre">object</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6555">GH6555</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">.xs</span></code> with a <code class="docutils literal"><span class="pre">nan</span></code> in level when dropped (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6574">GH6574</a>)</li>
<li>Bug in fillna with <code class="docutils literal"><span class="pre">method='bfill/ffill'</span></code> and <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6587">GH6587</a>)</li>
<li>Bug in sql writing with mixed dtypes possibly leading to data loss (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6509">GH6509</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.pop</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6600">GH6600</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">iloc</span></code> indexing when positional indexer matched <code class="docutils literal"><span class="pre">Int64Index</span></code> of the corresponding axis and no reordering happened (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6612">GH6612</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">fillna</span></code> with <code class="docutils literal"><span class="pre">limit</span></code> and <code class="docutils literal"><span class="pre">value</span></code> specified</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_stata</span></code> when columns have non-string names (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4558">GH4558</a>)</li>
<li>Bug in compat with <code class="docutils literal"><span class="pre">np.compress</span></code>, surfaced in (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6658">GH6658</a>)</li>
<li>Bug in binary operations with a rhs of a Series not aligning (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6681">GH6681</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_stata</span></code> which incorrectly handles nan values and ignores <code class="docutils literal"><span class="pre">with_index</span></code> keyword argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6685">GH6685</a>)</li>
<li>Bug in resample with extra bins when using an evenly divisible frequency (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4076">GH4076</a>)</li>
<li>Bug in consistency of groupby aggregation when passing a custom function (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6715">GH6715</a>)</li>
<li>Bug in resample when <code class="docutils literal"><span class="pre">how=None</span></code> resample freq is the same as the axis frequency (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5955">GH5955</a>)</li>
<li>Bug in downcasting inference with empty arrays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6733">GH6733</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">obj.blocks</span></code> on sparse containers dropping all but the last items of same for dtype (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6748">GH6748</a>)</li>
<li>Bug in unpickling <code class="docutils literal"><span class="pre">NaT</span> <span class="pre">(NaTType)</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4606">GH4606</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.replace()</span></code> where regex metacharacters were being treated
as regexs even when <code class="docutils literal"><span class="pre">regex=False</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6777">GH6777</a>).</li>
<li>Bug in timedelta ops on 32-bit platforms (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6808">GH6808</a>)</li>
<li>Bug in setting a tz-aware index directly via <code class="docutils literal"><span class="pre">.index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6785">GH6785</a>)</li>
<li>Bug in expressions.py where numexpr would try to evaluate arithmetic ops
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6762">GH6762</a>).</li>
<li>Bug in Makefile where it didn&#8217;t remove Cython generated C files with <code class="docutils literal"><span class="pre">make</span>
<span class="pre">clean</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6768">GH6768</a>)</li>
<li>Bug with numpy &lt; 1.7.2 when reading long strings from <code class="docutils literal"><span class="pre">HDFStore</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6166">GH6166</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame._reduce</span></code> where non bool-like (0/1) integers were being
coverted into bools. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6806">GH6806</a>)</li>
<li>Regression from 0.13 with <code class="docutils literal"><span class="pre">fillna</span></code> and a Series on datetime-like (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6344">GH6344</a>)</li>
<li>Bug in adding <code class="docutils literal"><span class="pre">np.timedelta64</span></code> to <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> with timezone outputs incorrect results (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6818">GH6818</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.replace()</span></code> where changing a dtype through replacement
would only replace the first occurrence of a value (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6689">GH6689</a>)</li>
<li>Better error message when passing a frequency of &#8216;MS&#8217; in <code class="docutils literal"><span class="pre">Period</span></code> construction (GH5332)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.__unicode__</span></code> when <code class="docutils literal"><span class="pre">max_rows=None</span></code> and the Series has more than 1000 rows. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6863">GH6863</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupby.get_group</span></code> where a datetlike wasn&#8217;t always accepted (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5267">GH5267</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">groupBy.get_group</span></code> created by <code class="docutils literal"><span class="pre">TimeGrouper</span></code> raises <code class="docutils literal"><span class="pre">AttributeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6914">GH6914</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex.tz_localize</span></code> and <code class="docutils literal"><span class="pre">DatetimeIndex.tz_convert</span></code> converting <code class="docutils literal"><span class="pre">NaT</span></code> incorrectly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5546">GH5546</a>)</li>
<li>Bug in arithmetic operations affecting <code class="docutils literal"><span class="pre">NaT</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6873">GH6873</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.str.extract</span></code> where the resulting <code class="docutils literal"><span class="pre">Series</span></code> from a single
group match wasn&#8217;t renamed to the group name</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.to_csv</span></code> where setting <code class="docutils literal"><span class="pre">index=False</span></code> ignored the
<code class="docutils literal"><span class="pre">header</span></code> kwarg (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6186">GH6186</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.plot</span></code> and <code class="docutils literal"><span class="pre">Series.plot</span></code>, where the legend behave inconsistently when plotting to the same axes repeatedly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6678">GH6678</a>)</li>
<li>Internal tests for patching <code class="docutils literal"><span class="pre">__finalize__</span></code> / bug in merge not finalizing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6923">GH6923</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6927">GH6927</a>)</li>
<li>accept <code class="docutils literal"><span class="pre">TextFileReader</span></code> in <code class="docutils literal"><span class="pre">concat</span></code>, which was affecting a common user idiom (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6583">GH6583</a>)</li>
<li>Bug in C parser with leading whitespace (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3374">GH3374</a>)</li>
<li>Bug in C parser with <code class="docutils literal"><span class="pre">delim_whitespace=True</span></code> and <code class="docutils literal"><span class="pre">\r</span></code>-delimited lines</li>
<li>Bug in python parser with explicit multi-index in row following column header (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6893">GH6893</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Series.rank</span></code> and <code class="docutils literal"><span class="pre">DataFrame.rank</span></code> that caused small floats (&lt;1e-13) to all receive the same rank (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6886">GH6886</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.apply</span></code> with functions that used *args`` or **kwargs and returned
an empty result (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6952">GH6952</a>)</li>
<li>Bug in sum/mean on 32-bit platforms on overflows (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6915">GH6915</a>)</li>
<li>Moved <code class="docutils literal"><span class="pre">Panel.shift</span></code> to <code class="docutils literal"><span class="pre">NDFrame.slice_shift</span></code> and fixed to respect multiple dtypes. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6959">GH6959</a>)</li>
<li>Bug in enabling <code class="docutils literal"><span class="pre">subplots=True</span></code> in <code class="docutils literal"><span class="pre">DataFrame.plot</span></code> only has single column raises <code class="docutils literal"><span class="pre">TypeError</span></code>, and <code class="docutils literal"><span class="pre">Series.plot</span></code> raises <code class="docutils literal"><span class="pre">AttributeError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6951">GH6951</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.plot</span></code> draws unnecessary axes when enabling <code class="docutils literal"><span class="pre">subplots</span></code> and <code class="docutils literal"><span class="pre">kind=scatter</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6951">GH6951</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">read_csv</span></code> from a filesystem with non-utf-8 encoding (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6807">GH6807</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">iloc</span></code> when setting / aligning (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6766">GH6766</a>)</li>
<li>Bug causing UnicodeEncodeError when get_dummies called with unicode values and a prefix (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6885">GH6885</a>)</li>
<li>Bug in timeseries-with-frequency plot cursor display (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5453">GH5453</a>)</li>
<li>Bug surfaced in <code class="docutils literal"><span class="pre">groupby.plot</span></code> when using a <code class="docutils literal"><span class="pre">Float64Index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7025">GH7025</a>)</li>
<li>Stopped tests from failing if options data isn&#8217;t able to be downloaded from Yahoo (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7034">GH7034</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">parallel_coordinates</span></code> and <code class="docutils literal"><span class="pre">radviz</span></code> where reordering of class column
caused possible color/class mismatch (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6956">GH6956</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">radviz</span></code> and <code class="docutils literal"><span class="pre">andrews_curves</span></code> where multiple values of &#8216;color&#8217;
were being passed to plotting method (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6956">GH6956</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Float64Index.isin()</span></code> where containing <code class="docutils literal"><span class="pre">nan</span></code> s would make indices
claim that they contained all the things (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7066">GH7066</a>).</li>
<li>Bug in <code class="docutils literal"><span class="pre">DataFrame.boxplot</span></code> where it failed to use the axis passed as the <code class="docutils literal"><span class="pre">ax</span></code> argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3578">GH3578</a>)</li>
<li>Bug in the <code class="docutils literal"><span class="pre">XlsxWriter</span></code> and <code class="docutils literal"><span class="pre">XlwtWriter</span></code> implementations that resulted in datetime columns being formatted without the time (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7075">GH7075</a>)
were being passed to plotting method</li>
<li><code class="xref py py-func docutils literal"><span class="pre">read_fwf()</span></code> treats <code class="docutils literal"><span class="pre">None</span></code> in <code class="docutils literal"><span class="pre">colspec</span></code> like regular python slices. It now reads from the beginning
or until the end of the line when <code class="docutils literal"><span class="pre">colspec</span></code> contains a <code class="docutils literal"><span class="pre">None</span></code> (previously raised a <code class="docutils literal"><span class="pre">TypeError</span></code>)</li>
<li>Bug in cache coherence with chained indexing and slicing; add <code class="docutils literal"><span class="pre">_is_view</span></code> property to <code class="docutils literal"><span class="pre">NDFrame</span></code> to correctly predict
views; mark <code class="docutils literal"><span class="pre">is_copy</span></code> on <code class="docutils literal"><span class="pre">xs</span></code> only if its an actual copy (and not a view) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7084">GH7084</a>)</li>
<li>Bug in DatetimeIndex creation from string ndarray with <code class="docutils literal"><span class="pre">dayfirst=True</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5917">GH5917</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">MultiIndex.from_arrays</span></code> created from <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> doesn&#8217;t preserve <code class="docutils literal"><span class="pre">freq</span></code> and <code class="docutils literal"><span class="pre">tz</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7090">GH7090</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">unstack</span></code> raises <code class="docutils literal"><span class="pre">ValueError</span></code> when <code class="docutils literal"><span class="pre">MultiIndex</span></code> contains <code class="docutils literal"><span class="pre">PeriodIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4342">GH4342</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">boxplot</span></code> and <code class="docutils literal"><span class="pre">hist</span></code> draws unnecessary axes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6769">GH6769</a>)</li>
<li>Regression in <code class="docutils literal"><span class="pre">groupby.nth()</span></code> for out-of-bounds indexers (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6621">GH6621</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">quantile</span></code> with datetime values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6965">GH6965</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Dataframe.set_index</span></code>, <code class="docutils literal"><span class="pre">reindex</span></code> and <code class="docutils literal"><span class="pre">pivot</span></code> don&#8217;t preserve <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex</span></code> attributes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3950">GH3950</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5878">GH5878</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6631">GH6631</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">MultiIndex.get_level_values</span></code> doesn&#8217;t preserve <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> and <code class="docutils literal"><span class="pre">PeriodIndex</span></code> attributes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7092">GH7092</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">Groupby</span></code> doesn&#8217;t preserve <code class="docutils literal"><span class="pre">tz</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3950">GH3950</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">PeriodIndex</span></code> partial string slicing (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6716">GH6716</a>)</li>
<li>Bug in the HTML repr of a truncated Series or DataFrame not showing the class name with the <cite>large_repr</cite> set to &#8216;info&#8217;
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7105">GH7105</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> specifying <code class="docutils literal"><span class="pre">freq</span></code> raises <code class="docutils literal"><span class="pre">ValueError</span></code> when passed value is too short (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7098">GH7098</a>)</li>
<li>Fixed a bug with the <cite>info</cite> repr not honoring the <cite>display.max_info_columns</cite> setting (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6939">GH6939</a>)</li>
<li>Bug <code class="docutils literal"><span class="pre">PeriodIndex</span></code> string slicing with out of bounds values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5407">GH5407</a>)</li>
<li>Fixed a memory error in the hashtable implementation/factorizer on resizing of large tables (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7157">GH7157</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">isnull</span></code> when applied to 0-dimensional object arrays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7176">GH7176</a>)</li>
<li>Bug in <code class="docutils literal"><span class="pre">query</span></code>/<code class="docutils literal"><span class="pre">eval</span></code> where global constants were not looked up correctly
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7178">GH7178</a>)</li>
<li>Bug in recognizing out-of-bounds positional list indexers with <code class="docutils literal"><span class="pre">iloc</span></code> and a multi-axis tuple indexer (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7189">GH7189</a>)</li>
<li>Bug in setitem with a single value, multi-index and integer indices (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7190">GH7190</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7218">GH7218</a>)</li>
<li>Bug in expressions evaluation with reversed ops, showing in series-dataframe ops (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7198">GH7198</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7192">GH7192</a>)</li>
<li>Bug in multi-axis indexing with &gt; 2 ndim and a multi-index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/7199">GH7199</a>)</li>
<li>Fix a bug where invalid eval/query operations would blow the stack (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5198">GH5198</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v0-13-1-february-3-2014">
<span id="whatsnew-0131"></span><h2>v0.13.1 (February 3, 2014)<a class="headerlink" href="#v0-13-1-february-3-2014" title="Permalink to this headline">¶</a></h2>
<p>This is a minor release from 0.13.0 and includes a small number of API changes, several new features,
enhancements, and performance improvements along with a large number of bug fixes. We recommend that all
users upgrade to this version.</p>
<p>Highlights include:</p>
<ul class="simple">
<li>Added <code class="docutils literal"><span class="pre">infer_datetime_format</span></code> keyword to <code class="docutils literal"><span class="pre">read_csv/to_datetime</span></code> to allow speedups for homogeneously formatted datetimes.</li>
<li>Will intelligently limit display precision for datetime/timedelta formats.</li>
<li>Enhanced Panel <a class="reference internal" href="generated/pandas.Panel.apply.html#pandas.Panel.apply" title="pandas.Panel.apply"><code class="xref py py-meth docutils literal"><span class="pre">apply()</span></code></a> method.</li>
<li>Suggested tutorials in new <a class="reference internal" href="tutorials.html#tutorials"><span class="std std-ref">Tutorials</span></a> section.</li>
<li>Our pandas ecosystem is growing, We now feature related projects in a new <a class="reference internal" href="ecosystem.html#ecosystem"><span class="std std-ref">Pandas Ecosystem</span></a> section.</li>
<li>Much work has been taking place on improving the docs, and a new <a class="reference internal" href="contributing.html#contributing"><span class="std std-ref">Contributing</span></a> section has been added.</li>
<li>Even though it may only be of interest to devs, we &lt;3 our new CI status page: <a class="reference external" href="http://scatterci.github.io/pydata/pandas">ScatterCI</a>.</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>0.13.1 fixes a bug that was caused by a combination of having numpy &lt; 1.8, and doing
chained assignment on a string-like array. Please review <a class="reference internal" href="indexing.html#indexing-view-versus-copy"><span class="std std-ref">the docs</span></a>,
chained indexing can have unexpected results and should generally be avoided.</p>
<p>This would previously segfault:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="s1">&#39;bah&#39;</span><span class="p">,</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span><span class="s1">&#39;bar&#39;</span><span class="p">])))</span>

<span class="gp">In [2]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [3]: </span><span class="n">df</span>
<span class="gr">Out[3]: </span>
<span class="go">     A</span>
<span class="go">0  NaN</span>
<span class="go">1  bar</span>
<span class="go">2  bah</span>
<span class="go">3  foo</span>
<span class="go">4  bar</span>
</pre></div>
</div>
<p>The recommended way to do this type of assignment is:</p>
<div class="last highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="s1">&#39;bah&#39;</span><span class="p">,</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span><span class="s1">&#39;bar&#39;</span><span class="p">])))</span>

<span class="gp">In [5]: </span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [6]: </span><span class="n">df</span>
<span class="gr">Out[6]: </span>
<span class="go">     A</span>
<span class="go">0  NaN</span>
<span class="go">1  bar</span>
<span class="go">2  bah</span>
<span class="go">3  foo</span>
<span class="go">4  bar</span>
</pre></div>
</div>
</div>
<div class="section" id="output-formatting-enhancements">
<h3>Output Formatting Enhancements<a class="headerlink" href="#output-formatting-enhancements" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">df.info() view now display dtype info per column (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5682">GH5682</a>)</p>
</li>
<li><p class="first">df.info() now honors the option <code class="docutils literal"><span class="pre">max_info_rows</span></code>, to disable null counts for large frames (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5974">GH5974</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">max_info_rows</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="s1">&#39;max_info_rows&#39;</span><span class="p">)</span>

<span class="gp">In [8]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="gp">   ...:</span>                     <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="gp">   ...:</span>                     <span class="n">C</span> <span class="o">=</span> <span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">10</span><span class="p">)))</span>
<span class="gp">   ...:</span> 

<span class="gp">In [9]: </span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># set to not display the null counts</span>
<span class="gp">In [10]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;max_info_rows&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="gp">In [11]: </span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 10 entries, 0 to 9</span>
<span class="go">Data columns (total 3 columns):</span>
<span class="go">A    float64</span>
<span class="go">B    float64</span>
<span class="go">C    datetime64[ns]</span>
<span class="go">dtypes: datetime64[ns](1), float64(2)</span>
<span class="go">memory usage: 312.0 bytes</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># this is the default (same as in 0.13.0)</span>
<span class="gp">In [12]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;max_info_rows&#39;</span><span class="p">,</span><span class="n">max_info_rows</span><span class="p">)</span>

<span class="gp">In [13]: </span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="go">RangeIndex: 10 entries, 0 to 9</span>
<span class="go">Data columns (total 3 columns):</span>
<span class="go">A    7 non-null float64</span>
<span class="go">B    10 non-null float64</span>
<span class="go">C    7 non-null datetime64[ns]</span>
<span class="go">dtypes: datetime64[ns](1), float64(2)</span>
<span class="go">memory usage: 312.0 bytes</span>
</pre></div>
</div>
</li>
<li><p class="first">Add <code class="docutils literal"><span class="pre">show_dimensions</span></code> display option for the new DataFrame repr to control whether the dimensions print.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [14]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>

<span class="gp">In [15]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;show_dimensions&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="gp">In [16]: </span><span class="n">df</span>
<span class="gr">Out[16]: </span>
<span class="go">   0  1</span>
<span class="go">0  1  2</span>
<span class="go">1  3  4</span>

<span class="gp">In [17]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;show_dimensions&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

<span class="gp">In [18]: </span><span class="n">df</span>
<span class="gr">Out[18]: </span>
<span class="go">   0  1</span>
<span class="go">0  1  2</span>
<span class="go">1  3  4</span>

<span class="go">[2 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">ArrayFormatter</span></code> for <code class="docutils literal"><span class="pre">datetime</span></code> and <code class="docutils literal"><span class="pre">timedelta64</span></code> now intelligently
limit precision based on the values in the array (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3401">GH3401</a>)</p>
<p>Previously output might look like:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>  <span class="n">age</span>                 <span class="n">today</span>               <span class="n">diff</span>
<span class="mi">0</span> <span class="mi">2001</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">01</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="mi">2013</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">19</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="mi">4491</span> <span class="n">days</span><span class="p">,</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span>
<span class="mi">1</span> <span class="mi">2004</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mo">01</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="mi">2013</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">19</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="mi">3244</span> <span class="n">days</span><span class="p">,</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span>
</pre></div>
</div>
<p>Now the output looks like:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">([</span> <span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;20010101&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>                  <span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;20040601&#39;</span><span class="p">)</span> <span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [20]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;today&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;20130419&#39;</span><span class="p">)</span>

<span class="gp">In [21]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;diff&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;today&#39;</span><span class="p">]</span><span class="o">-</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span>

<span class="gp">In [22]: </span><span class="n">df</span>
<span class="gr">Out[22]: </span>
<span class="go">         age      today      diff</span>
<span class="go">0 2001-01-01 2013-04-19 4491 days</span>
<span class="go">1 2004-06-01 2013-04-19 3244 days</span>

<span class="go">[2 rows x 3 columns]</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id82">
<h3>API changes<a class="headerlink" href="#id82" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Add <code class="docutils literal"><span class="pre">-NaN</span></code> and <code class="docutils literal"><span class="pre">-nan</span></code> to the default set of NA values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5952">GH5952</a>).
See <a class="reference internal" href="io.html#io-na-values"><span class="std std-ref">NA Values</span></a>.</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">Series.str.get_dummies</span></code> vectorized string method (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6021">GH6021</a>), to extract
dummy/indicator variables for separated string columns:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [23]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;a|b&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="s1">&#39;a|c&#39;</span><span class="p">])</span>

<span class="gp">In [24]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="s1">&#39;|&#39;</span><span class="p">)</span>
<span class="gr">Out[24]: </span>
<span class="go">   a  b  c</span>
<span class="go">0  1  0  0</span>
<span class="go">1  1  1  0</span>
<span class="go">2  0  0  0</span>
<span class="go">3  1  0  1</span>

<span class="go">[4 rows x 3 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">Added the <code class="docutils literal"><span class="pre">NDFrame.equals()</span></code> method to compare if two NDFrames are
equal have equal axes, dtypes, and values. Added the
<code class="docutils literal"><span class="pre">array_equivalent</span></code> function to compare if two ndarrays are
equal. NaNs in identical locations are treated as
equal. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5283">GH5283</a>) See also <a class="reference internal" href="basics.html#basics-equals"><span class="std std-ref">the docs</span></a> for a motivating example.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [25]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;col&#39;</span><span class="p">:[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]})</span>

<span class="gp">In [26]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;col&#39;</span><span class="p">:[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>

<span class="gp">In [27]: </span><span class="n">df</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">df2</span><span class="p">)</span>
<span class="gr">Out[27]: </span><span class="bp">False</span>

<span class="gp">In [28]: </span><span class="n">df</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">sort</span><span class="p">())</span>
<span class="gr">Out[28]: </span><span class="bp">True</span>

<span class="gp">In [29]: </span><span class="kn">import</span> <span class="nn">pandas.core.common</span> <span class="kn">as</span> <span class="nn">com</span>

<span class="gp">In [30]: </span><span class="n">com</span><span class="o">.</span><span class="n">array_equivalent</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]))</span>
<span class="gr">Out[30]: </span><span class="bp">True</span>

<span class="gp">In [31]: </span><span class="n">np</span><span class="o">.</span><span class="n">array_equal</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]))</span>
<span class="gr">Out[31]: </span><span class="bp">False</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.apply</span></code> will use the <code class="docutils literal"><span class="pre">reduce</span></code> argument to determine whether a
<code class="docutils literal"><span class="pre">Series</span></code> or a <code class="docutils literal"><span class="pre">DataFrame</span></code> should be returned when the <code class="docutils literal"><span class="pre">DataFrame</span></code> is
empty (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6007">GH6007</a>).</p>
<p>Previously, calling <code class="docutils literal"><span class="pre">DataFrame.apply</span></code> an empty <code class="docutils literal"><span class="pre">DataFrame</span></code> would return
either a <code class="docutils literal"><span class="pre">DataFrame</span></code> if there were no columns, or the function being
applied would be called with an empty <code class="docutils literal"><span class="pre">Series</span></code> to guess whether a
<code class="docutils literal"><span class="pre">Series</span></code> or <code class="docutils literal"><span class="pre">DataFrame</span></code> should be returned:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [32]: </span><span class="k">def</span> <span class="nf">applied_func</span><span class="p">(</span><span class="n">col</span><span class="p">):</span>
<span class="gp">   ....:</span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Apply function being called with: &quot;</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span>
<span class="gp">   ....:</span>    <span class="k">return</span> <span class="n">col</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="gp">   ....:</span> 

<span class="gp">In [33]: </span><span class="n">empty</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span>

<span class="gp">In [34]: </span><span class="n">empty</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">applied_func</span><span class="p">)</span>
<span class="go">(&#39;Apply function being called with: &#39;, Series([], dtype: float64))</span>
<span class="gr">Out[34]: </span>
<span class="go">a   NaN</span>
<span class="go">b   NaN</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>Now, when <code class="docutils literal"><span class="pre">apply</span></code> is called on an empty <code class="docutils literal"><span class="pre">DataFrame</span></code>: if the <code class="docutils literal"><span class="pre">reduce</span></code>
argument is <code class="docutils literal"><span class="pre">True</span></code> a <code class="docutils literal"><span class="pre">Series</span></code> will returned, if it is <code class="docutils literal"><span class="pre">False</span></code> a
<code class="docutils literal"><span class="pre">DataFrame</span></code> will be returned, and if it is <code class="docutils literal"><span class="pre">None</span></code> (the default) the
function being applied will be called with an empty series to try and guess
the return type.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [35]: </span><span class="n">empty</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">applied_func</span><span class="p">,</span> <span class="nb">reduce</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[35]: </span>
<span class="go">a   NaN</span>
<span class="go">b   NaN</span>
<span class="go">dtype: float64</span>

<span class="gp">In [36]: </span><span class="n">empty</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">applied_func</span><span class="p">,</span> <span class="nb">reduce</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gr">Out[36]: </span>
<span class="go">Empty DataFrame</span>
<span class="go">Columns: [a, b]</span>
<span class="go">Index: []</span>

<span class="go">[0 rows x 2 columns]</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id83">
<h3>Prior Version Deprecations/Changes<a class="headerlink" href="#id83" title="Permalink to this headline">¶</a></h3>
<p>There are no announced changes in 0.13 or prior that are taking effect as of 0.13.1</p>
</div>
<div class="section" id="id84">
<h3>Deprecations<a class="headerlink" href="#id84" title="Permalink to this headline">¶</a></h3>
<p>There are no deprecations of prior behavior in 0.13.1</p>
</div>
<div class="section" id="id85">
<h3>Enhancements<a class="headerlink" href="#id85" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_csv</span></code> and <code class="docutils literal"><span class="pre">pd.to_datetime</span></code> learned a new <code class="docutils literal"><span class="pre">infer_datetime_format</span></code> keyword which greatly
improves parsing perf in many cases. Thanks to &#64;lexual for suggesting and &#64;danbirken
for rapidly implementing. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5490">GH5490</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6021">GH6021</a>)</p>
<p>If <code class="docutils literal"><span class="pre">parse_dates</span></code> is enabled and this flag is set, pandas will attempt to
infer the format of the datetime strings in the columns, and if it can
be inferred, switch to a faster method of parsing them.  In some cases
this can increase the parsing speed by ~5-10x.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Try to infer the format for the index column</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;foo.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                 <span class="n">infer_datetime_format</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">date_format</span></code> and <code class="docutils literal"><span class="pre">datetime_format</span></code> keywords can now be specified when writing to <code class="docutils literal"><span class="pre">excel</span></code>
files (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4133">GH4133</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">MultiIndex.from_product</span></code> convenience function for creating a MultiIndex from
the cartesian product of a set of iterables (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6055">GH6055</a>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [37]: </span><span class="n">shades</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;light&#39;</span><span class="p">,</span> <span class="s1">&#39;dark&#39;</span><span class="p">]</span>

<span class="gp">In [38]: </span><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">]</span>

<span class="gp">In [39]: </span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([</span><span class="n">shades</span><span class="p">,</span> <span class="n">colors</span><span class="p">],</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;shade&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">])</span>
<span class="gr">Out[39]: </span>
<span class="go">MultiIndex(levels=[[u&#39;dark&#39;, u&#39;light&#39;], [u&#39;blue&#39;, u&#39;green&#39;, u&#39;red&#39;]],</span>
<span class="go">           labels=[[1, 1, 1, 0, 0, 0], [2, 1, 0, 2, 1, 0]],</span>
<span class="go">           names=[u&#39;shade&#39;, u&#39;color&#39;])</span>
</pre></div>
</div>
</li>
<li><p class="first">Panel <a class="reference internal" href="generated/pandas.Panel.apply.html#pandas.Panel.apply" title="pandas.Panel.apply"><code class="xref py py-meth docutils literal"><span class="pre">apply()</span></code></a> will work on non-ufuncs. See <a class="reference internal" href="basics.html#basics-apply-panel"><span class="std std-ref">the docs</span></a>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [40]: </span><span class="kn">import</span> <span class="nn">pandas.util.testing</span> <span class="kn">as</span> <span class="nn">tm</span>

<span class="gp">In [41]: </span><span class="n">panel</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">makePanel</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="gp">In [42]: </span><span class="n">panel</span>
<span class="gr">Out[42]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 3 (items) x 5 (major_axis) x 4 (minor_axis)</span>
<span class="go">Items axis: ItemA to ItemC</span>
<span class="go">Major_axis axis: 2000-01-03 00:00:00 to 2000-01-07 00:00:00</span>
<span class="go">Minor_axis axis: A to D</span>

<span class="gp">In [43]: </span><span class="n">panel</span><span class="p">[</span><span class="s1">&#39;ItemA&#39;</span><span class="p">]</span>
<span class="gr">Out[43]: </span>
<span class="go">                   A         B         C         D</span>
<span class="go">2000-01-03  0.694103  1.893534 -1.735349 -0.850346</span>
<span class="go">2000-01-04  0.678630  0.639633  1.210384  1.176812</span>
<span class="go">2000-01-05  0.239556 -0.962029  0.797435 -0.524336</span>
<span class="go">2000-01-06  0.151227 -2.085266 -0.379811  0.700908</span>
<span class="go">2000-01-07  0.816127  1.930247  0.702562  0.984188</span>

<span class="go">[5 rows x 4 columns]</span>
</pre></div>
</div>
<p>Specifying an <code class="docutils literal"><span class="pre">apply</span></code> that operates on a Series (to return a single element)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [44]: </span><span class="n">panel</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;items&#39;</span><span class="p">)</span>
<span class="gr">Out[44]: </span>
<span class="go">                  A        B        C        D</span>
<span class="go">2000-01-03  float64  float64  float64  float64</span>
<span class="go">2000-01-04  float64  float64  float64  float64</span>
<span class="go">2000-01-05  float64  float64  float64  float64</span>
<span class="go">2000-01-06  float64  float64  float64  float64</span>
<span class="go">2000-01-07  float64  float64  float64  float64</span>

<span class="go">[5 rows x 4 columns]</span>
</pre></div>
</div>
<p>A similar reduction type operation</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [45]: </span><span class="n">panel</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;major_axis&#39;</span><span class="p">)</span>
<span class="gr">Out[45]: </span>
<span class="go">      ItemA     ItemB     ItemC</span>
<span class="go">A  2.579643  3.062757  0.379252</span>
<span class="go">B  1.416120 -1.960855  0.923558</span>
<span class="go">C  0.595222 -1.079772 -3.118269</span>
<span class="go">D  1.487226 -0.734611 -1.979310</span>

<span class="go">[4 rows x 3 columns]</span>
</pre></div>
</div>
<p>This is equivalent to</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [46]: </span><span class="n">panel</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="s1">&#39;major_axis&#39;</span><span class="p">)</span>
<span class="gr">Out[46]: </span>
<span class="go">      ItemA     ItemB     ItemC</span>
<span class="go">A  2.579643  3.062757  0.379252</span>
<span class="go">B  1.416120 -1.960855  0.923558</span>
<span class="go">C  0.595222 -1.079772 -3.118269</span>
<span class="go">D  1.487226 -0.734611 -1.979310</span>

<span class="go">[4 rows x 3 columns]</span>
</pre></div>
</div>
<p>A transformation operation that returns a Panel, but is computing
the z-score across the major_axis</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [47]: </span><span class="n">result</span> <span class="o">=</span> <span class="n">panel</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
<span class="gp">   ....:</span>            <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span>
<span class="gp">   ....:</span>            <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;major_axis&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 

<span class="gp">In [48]: </span><span class="n">result</span>
<span class="gr">Out[48]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 3 (items) x 5 (major_axis) x 4 (minor_axis)</span>
<span class="go">Items axis: ItemA to ItemC</span>
<span class="go">Major_axis axis: 2000-01-03 00:00:00 to 2000-01-07 00:00:00</span>
<span class="go">Minor_axis axis: A to D</span>

<span class="gp">In [49]: </span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;ItemA&#39;</span><span class="p">]</span>
<span class="gr">Out[49]: </span>
<span class="go">                   A         B         C         D</span>
<span class="go">2000-01-03  0.595800  0.907552 -1.556260 -1.244875</span>
<span class="go">2000-01-04  0.544058  0.200868  0.915883  0.953747</span>
<span class="go">2000-01-05 -0.924165 -0.701810  0.569325 -0.891290</span>
<span class="go">2000-01-06 -1.219530 -1.334852 -0.418654  0.437589</span>
<span class="go">2000-01-07  1.003837  0.928242  0.489705  0.744830</span>

<span class="go">[5 rows x 4 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">Panel <a class="reference internal" href="generated/pandas.Panel.apply.html#pandas.Panel.apply" title="pandas.Panel.apply"><code class="xref py py-meth docutils literal"><span class="pre">apply()</span></code></a> operating on cross-sectional slabs. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1148">GH1148</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [50]: </span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">((</span><span class="n">x</span><span class="o">.</span><span class="n">T</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>

<span class="gp">In [51]: </span><span class="n">result</span> <span class="o">=</span> <span class="n">panel</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">,</span><span class="s1">&#39;major_axis&#39;</span><span class="p">])</span>

<span class="gp">In [52]: </span><span class="n">result</span>
<span class="gr">Out[52]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 4 (items) x 5 (major_axis) x 3 (minor_axis)</span>
<span class="go">Items axis: A to D</span>
<span class="go">Major_axis axis: 2000-01-03 00:00:00 to 2000-01-07 00:00:00</span>
<span class="go">Minor_axis axis: ItemA to ItemC</span>

<span class="gp">In [53]: </span><span class="n">result</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,:,</span><span class="s1">&#39;ItemA&#39;</span><span class="p">]</span>
<span class="gr">Out[53]: </span>
<span class="go">                   A         B         C         D</span>
<span class="go">2000-01-03  0.331409  1.071034 -0.914540 -0.510587</span>
<span class="go">2000-01-04 -0.741017 -0.118794  0.383277  0.537212</span>
<span class="go">2000-01-05  0.065042 -0.767353  0.655436  0.069467</span>
<span class="go">2000-01-06  0.027932 -0.569477  0.908202  0.610585</span>
<span class="go">2000-01-07  1.116434  1.133591  0.871287  1.004064</span>

<span class="go">[5 rows x 4 columns]</span>
</pre></div>
</div>
<p>This is equivalent to the following</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [54]: </span><span class="n">result</span> <span class="o">=</span> <span class="n">Panel</span><span class="p">(</span><span class="nb">dict</span><span class="p">([</span> <span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">f</span><span class="p">(</span><span class="n">panel</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,:,</span><span class="n">ax</span><span class="p">]))</span>
<span class="gp">   ....:</span>                         <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">panel</span><span class="o">.</span><span class="n">minor_axis</span> <span class="p">]))</span>
<span class="gp">   ....:</span> 

<span class="gp">In [55]: </span><span class="n">result</span>
<span class="gr">Out[55]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 4 (items) x 5 (major_axis) x 3 (minor_axis)</span>
<span class="go">Items axis: A to D</span>
<span class="go">Major_axis axis: 2000-01-03 00:00:00 to 2000-01-07 00:00:00</span>
<span class="go">Minor_axis axis: ItemA to ItemC</span>

<span class="gp">In [56]: </span><span class="n">result</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,:,</span><span class="s1">&#39;ItemA&#39;</span><span class="p">]</span>
<span class="gr">Out[56]: </span>
<span class="go">                   A         B         C         D</span>
<span class="go">2000-01-03  0.331409  1.071034 -0.914540 -0.510587</span>
<span class="go">2000-01-04 -0.741017 -0.118794  0.383277  0.537212</span>
<span class="go">2000-01-05  0.065042 -0.767353  0.655436  0.069467</span>
<span class="go">2000-01-06  0.027932 -0.569477  0.908202  0.610585</span>
<span class="go">2000-01-07  1.116434  1.133591  0.871287  1.004064</span>

<span class="go">[5 rows x 4 columns]</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id86">
<h3>Performance<a class="headerlink" href="#id86" title="Permalink to this headline">¶</a></h3>
<p>Performance improvements for 0.13.1</p>
<ul class="simple">
<li>Series datetime/timedelta binary operations (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5801">GH5801</a>)</li>
<li>DataFrame <code class="docutils literal"><span class="pre">count/dropna</span></code> for <code class="docutils literal"><span class="pre">axis=1</span></code></li>
<li>Series.str.contains now has a <cite>regex=False</cite> keyword which can be faster for plain (non-regex) string patterns. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5879">GH5879</a>)</li>
<li>Series.str.extract (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5944">GH5944</a>)</li>
<li><code class="docutils literal"><span class="pre">dtypes/ftypes</span></code> methods (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5968">GH5968</a>)</li>
<li>indexing with object dtypes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5968">GH5968</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.apply</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6013">GH6013</a>)</li>
<li>Regression in JSON IO (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5765">GH5765</a>)</li>
<li>Index construction from Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6150">GH6150</a>)</li>
</ul>
</div>
<div class="section" id="id87">
<h3>Experimental<a class="headerlink" href="#id87" title="Permalink to this headline">¶</a></h3>
<p>There are no experimental changes in 0.13.1</p>
</div>
<div class="section" id="id88">
<h3>Bug Fixes<a class="headerlink" href="#id88" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="release.html#release-bug-fixes-0-13-1"><span class="std std-ref">V0.13.1 Bug Fixes</span></a> for an extensive list of bugs that have been fixed in 0.13.1.</p>
<p>See the <a class="reference internal" href="release.html#release"><span class="std std-ref">full release notes</span></a> or issue tracker
on GitHub for a complete list of all API changes, Enhancements and Bug Fixes.</p>
</div>
</div>
<div class="section" id="v0-13-0-january-3-2014">
<span id="whatsnew-0130"></span><h2>v0.13.0 (January 3, 2014)<a class="headerlink" href="#v0-13-0-january-3-2014" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.12.0 and includes a number of API changes, several new features and
enhancements along with a large number of bug fixes.</p>
<p>Highlights include:</p>
<ul class="simple">
<li>support for a new index type <code class="docutils literal"><span class="pre">Float64Index</span></code>, and other Indexing enhancements</li>
<li><code class="docutils literal"><span class="pre">HDFStore</span></code> has a new string based syntax for query specification</li>
<li>support for new methods of interpolation</li>
<li>updated <code class="docutils literal"><span class="pre">timedelta</span></code> operations</li>
<li>a new string manipulation method <code class="docutils literal"><span class="pre">extract</span></code></li>
<li>Nanosecond support for Offsets</li>
<li><code class="docutils literal"><span class="pre">isin</span></code> for DataFrames</li>
</ul>
<p>Several experimental features are added, including:</p>
<ul class="simple">
<li>new <code class="docutils literal"><span class="pre">eval/query</span></code> methods for expression evaluation</li>
<li>support for <code class="docutils literal"><span class="pre">msgpack</span></code> serialization</li>
<li>an i/o interface to Google&#8217;s <code class="docutils literal"><span class="pre">BigQuery</span></code></li>
</ul>
<p>Their are several new or updated docs sections including:</p>
<ul class="simple">
<li><a class="reference internal" href="comparison_with_sql.html#compare-with-sql"><span class="std std-ref">Comparison with SQL</span></a>, which should be useful for those familiar with SQL but still learning pandas.</li>
<li><a class="reference internal" href="comparison_with_r.html#compare-with-r"><span class="std std-ref">Comparison with R</span></a>, idiom translations from R to pandas.</li>
<li><a class="reference internal" href="enhancingperf.html#enhancingperf"><span class="std std-ref">Enhancing Performance</span></a>, ways to enhance pandas performance with <code class="docutils literal"><span class="pre">eval/query</span></code>.</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In 0.13.0 <code class="docutils literal"><span class="pre">Series</span></code> has internally been refactored to no longer sub-class <code class="docutils literal"><span class="pre">ndarray</span></code>
but instead subclass <code class="docutils literal"><span class="pre">NDFrame</span></code>, similar to the rest of the pandas containers. This should be
a transparent change with only very limited API implications. See <a class="reference internal" href="#whatsnew-0130-refactoring"><span class="std std-ref">Internal Refactoring</span></a></p>
</div>
<div class="section" id="id89">
<h3>API changes<a class="headerlink" href="#id89" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">read_excel</span></code> now supports an integer in its <code class="docutils literal"><span class="pre">sheetname</span></code> argument giving
the index of the sheet to read in (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4301">GH4301</a>).</p>
</li>
<li><p class="first">Text parser now treats anything that reads like inf (&#8220;inf&#8221;, &#8220;Inf&#8221;, &#8220;-Inf&#8221;,
&#8220;iNf&#8221;, etc.) as infinity. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4220">GH4220</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4219">GH4219</a>), affecting
<code class="docutils literal"><span class="pre">read_table</span></code>, <code class="docutils literal"><span class="pre">read_csv</span></code>, etc.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pandas</span></code> now is Python 2/3 compatible without the need for 2to3 thanks to
&#64;jtratner. As a result, pandas now uses iterators more extensively. This
also led to the introduction of substantive parts of the Benjamin
Peterson&#8217;s <code class="docutils literal"><span class="pre">six</span></code> library into compat. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4384">GH4384</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4375">GH4375</a>,
<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4372">GH4372</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pandas.util.compat</span></code> and <code class="docutils literal"><span class="pre">pandas.util.py3compat</span></code> have been merged into
<code class="docutils literal"><span class="pre">pandas.compat</span></code>. <code class="docutils literal"><span class="pre">pandas.compat</span></code> now includes many functions allowing
2/3 compatibility. It contains both list and iterator versions of range,
filter, map and zip, plus other necessary elements for Python 3
compatibility. <code class="docutils literal"><span class="pre">lmap</span></code>, <code class="docutils literal"><span class="pre">lzip</span></code>, <code class="docutils literal"><span class="pre">lrange</span></code> and <code class="docutils literal"><span class="pre">lfilter</span></code> all produce
lists instead of iterators, for compatibility with <code class="docutils literal"><span class="pre">numpy</span></code>, subscripting
and <code class="docutils literal"><span class="pre">pandas</span></code> constructors.(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4384">GH4384</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4375">GH4375</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4372">GH4372</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series.get</span></code> with negative indexers now returns the same as <code class="docutils literal"><span class="pre">[]</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4390">GH4390</a>)</p>
</li>
<li><p class="first">Changes to how <code class="docutils literal"><span class="pre">Index</span></code> and <code class="docutils literal"><span class="pre">MultiIndex</span></code> handle metadata (<code class="docutils literal"><span class="pre">levels</span></code>,
<code class="docutils literal"><span class="pre">labels</span></code>, and <code class="docutils literal"><span class="pre">names</span></code>) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4039">GH4039</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># previously, you would have set levels or labels directly</span>
<span class="n">index</span><span class="o">.</span><span class="n">levels</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>

<span class="c1"># now, you use the set_levels or set_labels methods</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">set_levels</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>

<span class="c1"># similarly, for names, you can rename the object</span>
<span class="c1"># but setting names is not deprecated</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">set_names</span><span class="p">([</span><span class="s2">&quot;bob&quot;</span><span class="p">,</span> <span class="s2">&quot;cranberry&quot;</span><span class="p">])</span>

<span class="c1"># and all methods take an inplace kwarg - but return None</span>
<span class="n">index</span><span class="o">.</span><span class="n">set_names</span><span class="p">([</span><span class="s2">&quot;bob&quot;</span><span class="p">,</span> <span class="s2">&quot;cranberry&quot;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>All</strong> division with <code class="docutils literal"><span class="pre">NDFrame</span></code> objects is now <em>truedivision</em>, regardless
of the future import. This means that operating on pandas objects will by default
use <em>floating point</em> division, and return a floating point dtype.
You can use <code class="docutils literal"><span class="pre">//</span></code> and <code class="docutils literal"><span class="pre">floordiv</span></code> to do integer division.</p>
<p>Integer division</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>

<span class="gp">In [4]: </span><span class="n">arr2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [5]: </span><span class="n">arr</span> <span class="o">/</span> <span class="n">arr2</span>
<span class="gr">Out[5]: </span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>

<span class="gp">In [6]: </span><span class="n">Series</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">//</span> <span class="n">Series</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>
<span class="go">Out[6]:</span>
<span class="go">0    0</span>
<span class="go">1    0</span>
<span class="go">2    1</span>
<span class="go">3    4</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>True Division</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">/</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span> <span class="c1"># no future import required</span>
<span class="go">Out[7]:</span>
<span class="go">0    0.200000</span>
<span class="go">1    0.666667</span>
<span class="go">2    1.500000</span>
<span class="go">3    4.000000</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first">Infer and downcast dtype if <code class="docutils literal"><span class="pre">downcast='infer'</span></code> is passed to <code class="docutils literal"><span class="pre">fillna/ffill/bfill</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4604">GH4604</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">__nonzero__</span></code> for all NDFrame objects, will now raise a <code class="docutils literal"><span class="pre">ValueError</span></code>, this reverts back to (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1073">GH1073</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4633">GH4633</a>)
behavior. See <a class="reference internal" href="gotchas.html#gotchas-truth"><span class="std std-ref">gotchas</span></a> for a more detailed discussion.</p>
<p>This prevents doing boolean comparison on <em>entire</em> pandas objects, which is inherently ambiguous. These all will raise a <code class="docutils literal"><span class="pre">ValueError</span></code>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">df</span><span class="p">:</span>
   <span class="o">....</span>
<span class="n">df1</span> <span class="ow">and</span> <span class="n">df2</span>
<span class="n">s1</span> <span class="ow">and</span> <span class="n">s2</span>
</pre></div>
</div>
<p>Added the <code class="docutils literal"><span class="pre">.bool()</span></code> method to <code class="docutils literal"><span class="pre">NDFrame</span></code> objects to facilitate evaluating of single-element boolean Series:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">Series</span><span class="p">([</span><span class="bp">True</span><span class="p">])</span><span class="o">.</span><span class="n">bool</span><span class="p">()</span>
<span class="gr">Out[1]: </span><span class="bp">True</span>

<span class="gp">In [2]: </span><span class="n">Series</span><span class="p">([</span><span class="bp">False</span><span class="p">])</span><span class="o">.</span><span class="n">bool</span><span class="p">()</span>
<span class="gr">Out[2]: </span><span class="bp">False</span>

<span class="gp">In [3]: </span><span class="n">DataFrame</span><span class="p">([[</span><span class="bp">True</span><span class="p">]])</span><span class="o">.</span><span class="n">bool</span><span class="p">()</span>
<span class="gr">Out[3]: </span><span class="bp">True</span>

<span class="gp">In [4]: </span><span class="n">DataFrame</span><span class="p">([[</span><span class="bp">False</span><span class="p">]])</span><span class="o">.</span><span class="n">bool</span><span class="p">()</span>
<span class="gr">Out[4]: </span><span class="bp">False</span>
</pre></div>
</div>
</li>
<li><p class="first">All non-Index NDFrames (<code class="docutils literal"><span class="pre">Series</span></code>, <code class="docutils literal"><span class="pre">DataFrame</span></code>, <code class="docutils literal"><span class="pre">Panel</span></code>, <code class="docutils literal"><span class="pre">Panel4D</span></code>,
<code class="docutils literal"><span class="pre">SparsePanel</span></code>, etc.), now support the entire set of arithmetic operators
and arithmetic flex methods (add, sub, mul, etc.). <code class="docutils literal"><span class="pre">SparsePanel</span></code> does not
support <code class="docutils literal"><span class="pre">pow</span></code> or <code class="docutils literal"><span class="pre">mod</span></code> with non-scalars. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3765">GH3765</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series</span></code> and <code class="docutils literal"><span class="pre">DataFrame</span></code> now have a <code class="docutils literal"><span class="pre">mode()</span></code> method to calculate the
statistical mode(s) by axis/Series. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5367">GH5367</a>)</p>
</li>
<li><p class="first">Chained assignment will now by default warn if the user is assigning to a copy. This can be changed
with the option <code class="docutils literal"><span class="pre">mode.chained_assignment</span></code>, allowed options are <code class="docutils literal"><span class="pre">raise/warn/None</span></code>. See <a class="reference internal" href="indexing.html#indexing-view-versus-copy"><span class="std std-ref">the docs</span></a>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">dfc</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:[</span><span class="s1">&#39;aaa&#39;</span><span class="p">,</span><span class="s1">&#39;bbb&#39;</span><span class="p">,</span><span class="s1">&#39;ccc&#39;</span><span class="p">],</span><span class="s1">&#39;B&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]})</span>

<span class="gp">In [6]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;chained_assignment&#39;</span><span class="p">,</span><span class="s1">&#39;warn&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The following warning / exception will show if this is attempted.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">dfc</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1111</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
   <span class="o">...</span>
<span class="n">SettingWithCopyWarning</span><span class="p">:</span>
   <span class="n">A</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">trying</span> <span class="n">to</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">on</span> <span class="n">a</span> <span class="n">copy</span> <span class="n">of</span> <span class="n">a</span> <span class="nb">slice</span> <span class="kn">from</span> <span class="nn">a</span> <span class="n">DataFrame</span><span class="o">.</span>
   <span class="n">Try</span> <span class="n">using</span> <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_index</span><span class="p">,</span><span class="n">col_indexer</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span> <span class="n">instead</span>
</pre></div>
</div>
<p>Here is the correct method of assignment.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">dfc</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">11</span>

<span class="gp">In [9]: </span><span class="n">dfc</span>
<span class="gr">Out[9]: </span>
<span class="go">     A  B</span>
<span class="go">0   11  1</span>
<span class="go">1  bbb  2</span>
<span class="go">2  ccc  3</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">Panel.reindex</span></code> has the following call signature <code class="docutils literal"><span class="pre">Panel.reindex(items=None,</span> <span class="pre">major_axis=None,</span> <span class="pre">minor_axis=None,</span> <span class="pre">**kwargs)</span></code></dt>
<dd><p class="first last">to conform with other <code class="docutils literal"><span class="pre">NDFrame</span></code> objects. See <a class="reference internal" href="#whatsnew-0130-refactoring"><span class="std std-ref">Internal Refactoring</span></a> for more information.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">Series.argmin</span></code> and <code class="docutils literal"><span class="pre">Series.argmax</span></code> are now aliased to <code class="docutils literal"><span class="pre">Series.idxmin</span></code> and <code class="docutils literal"><span class="pre">Series.idxmax</span></code>. These return the <em>index</em> of the</dt>
<dd><p class="first last">min or max element respectively. Prior to 0.13.0 these would return the position of the min / max element. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/6214">GH6214</a>)</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id90">
<h3>Prior Version Deprecations/Changes<a class="headerlink" href="#id90" title="Permalink to this headline">¶</a></h3>
<p>These were announced changes in 0.12 or prior that are taking effect as of 0.13.0</p>
<ul class="simple">
<li>Remove deprecated <code class="docutils literal"><span class="pre">Factor</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3650">GH3650</a>)</li>
<li>Remove deprecated <code class="docutils literal"><span class="pre">set_printoptions/reset_printoptions</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3046">GH3046</a>)</li>
<li>Remove deprecated <code class="docutils literal"><span class="pre">_verbose_info</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3215">GH3215</a>)</li>
<li>Remove deprecated <code class="docutils literal"><span class="pre">read_clipboard/to_clipboard/ExcelFile/ExcelWriter</span></code> from <code class="docutils literal"><span class="pre">pandas.io.parsers</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3717">GH3717</a>)
These are available as functions in the main pandas namespace (e.g. <code class="docutils literal"><span class="pre">pd.read_clipboard</span></code>)</li>
<li>default for <code class="docutils literal"><span class="pre">tupleize_cols</span></code> is now <code class="docutils literal"><span class="pre">False</span></code> for both <code class="docutils literal"><span class="pre">to_csv</span></code> and <code class="docutils literal"><span class="pre">read_csv</span></code>. Fair warning in 0.12 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3604">GH3604</a>)</li>
<li>default for <cite>display.max_seq_len</cite> is now 100 rather then <cite>None</cite>. This activates
truncated display (&#8221;...&#8221;) of long sequences in various places. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3391">GH3391</a>)</li>
</ul>
</div>
<div class="section" id="id91">
<h3>Deprecations<a class="headerlink" href="#id91" title="Permalink to this headline">¶</a></h3>
<p>Deprecated in 0.13.0</p>
<ul class="simple">
<li>deprecated <code class="docutils literal"><span class="pre">iterkv</span></code>, which will be removed in a future release (this was
an alias of iteritems used to bypass <code class="docutils literal"><span class="pre">2to3</span></code>&#8216;s changes).
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4384">GH4384</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4375">GH4375</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4372">GH4372</a>)</li>
<li>deprecated the string method <code class="docutils literal"><span class="pre">match</span></code>, whose role is now performed more
idiomatically by <code class="docutils literal"><span class="pre">extract</span></code>. In a future release, the default behavior
of <code class="docutils literal"><span class="pre">match</span></code> will change to become analogous to <code class="docutils literal"><span class="pre">contains</span></code>, which returns
a boolean indexer. (Their
distinction is strictness: <code class="docutils literal"><span class="pre">match</span></code> relies on <code class="docutils literal"><span class="pre">re.match</span></code> while
<code class="docutils literal"><span class="pre">contains</span></code> relies on <code class="docutils literal"><span class="pre">re.search</span></code>.) In this release, the deprecated
behavior is the default, but the new behavior is available through the
keyword argument <code class="docutils literal"><span class="pre">as_indexer=True</span></code>.</li>
</ul>
</div>
<div class="section" id="indexing-api-changes">
<h3>Indexing API Changes<a class="headerlink" href="#indexing-api-changes" title="Permalink to this headline">¶</a></h3>
<p>Prior to 0.13, it was impossible to use a label indexer (<code class="docutils literal"><span class="pre">.loc/.ix</span></code>) to set a value that
was not contained in the index of a particular axis. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2578">GH2578</a>). See <a class="reference internal" href="indexing.html#indexing-basics-partial-setting"><span class="std std-ref">the docs</span></a></p>
<p>In the <code class="docutils literal"><span class="pre">Series</span></code> case this is effectively an appending operation</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [10]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>

<span class="gp">In [11]: </span><span class="n">s</span>
<span class="gr">Out[11]: </span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">2    3</span>
<span class="go">dtype: int64</span>

<span class="gp">In [12]: </span><span class="n">s</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mf">5.</span>

<span class="gp">In [13]: </span><span class="n">s</span>
<span class="gr">Out[13]: </span>
<span class="go">0    1.0</span>
<span class="go">1    2.0</span>
<span class="go">2    3.0</span>
<span class="go">5    5.0</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [14]: </span><span class="n">dfi</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">   ....:</span>                 <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [15]: </span><span class="n">dfi</span>
<span class="gr">Out[15]: </span>
<span class="go">   A  B</span>
<span class="go">0  0  1</span>
<span class="go">1  2  3</span>
<span class="go">2  4  5</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<p>This would previously <code class="docutils literal"><span class="pre">KeyError</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">dfi</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dfi</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;A&#39;</span><span class="p">]</span>

<span class="gp">In [17]: </span><span class="n">dfi</span>
<span class="gr">Out[17]: </span>
<span class="go">   A  B  C</span>
<span class="go">0  0  1  0</span>
<span class="go">1  2  3  2</span>
<span class="go">2  4  5  4</span>

<span class="go">[3 rows x 3 columns]</span>
</pre></div>
</div>
<p>This is like an <code class="docutils literal"><span class="pre">append</span></code> operation.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [18]: </span><span class="n">dfi</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>

<span class="gp">In [19]: </span><span class="n">dfi</span>
<span class="gr">Out[19]: </span>
<span class="go">   A  B  C</span>
<span class="go">0  0  1  0</span>
<span class="go">1  2  3  2</span>
<span class="go">2  4  5  4</span>
<span class="go">3  5  5  5</span>

<span class="go">[4 rows x 3 columns]</span>
</pre></div>
</div>
<p>A Panel setting operation on an arbitrary axis aligns the input to the Panel</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [20]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Panel</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">   ....:</span>             <span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Item1&#39;</span><span class="p">,</span><span class="s1">&#39;Item2&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>             <span class="n">major_axis</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2001/1/12&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....:</span>             <span class="n">minor_axis</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 

<span class="gp">In [21]: </span><span class="n">p</span>
<span class="gr">Out[21]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 2 (items) x 4 (major_axis) x 2 (minor_axis)</span>
<span class="go">Items axis: Item1 to Item2</span>
<span class="go">Major_axis axis: 2001-01-12 00:00:00 to 2001-01-15 00:00:00</span>
<span class="go">Minor_axis axis: A to B</span>

<span class="gp">In [22]: </span><span class="n">p</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,:,</span><span class="s1">&#39;C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">30</span><span class="p">,</span><span class="mi">32</span><span class="p">],</span><span class="n">index</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>

<span class="gp">In [23]: </span><span class="n">p</span>
<span class="gr">Out[23]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 2 (items) x 4 (major_axis) x 3 (minor_axis)</span>
<span class="go">Items axis: Item1 to Item2</span>
<span class="go">Major_axis axis: 2001-01-12 00:00:00 to 2001-01-15 00:00:00</span>
<span class="go">Minor_axis axis: A to C</span>

<span class="gp">In [24]: </span><span class="n">p</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,:,</span><span class="s1">&#39;C&#39;</span><span class="p">]</span>
<span class="gr">Out[24]: </span>
<span class="go">            Item1  Item2</span>
<span class="go">2001-01-12   30.0   32.0</span>
<span class="go">2001-01-13   30.0   32.0</span>
<span class="go">2001-01-14   30.0   32.0</span>
<span class="go">2001-01-15   30.0   32.0</span>

<span class="go">[4 rows x 2 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="float64index-api-change">
<h3>Float64Index API Change<a class="headerlink" href="#float64index-api-change" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Added a new index type, <code class="docutils literal"><span class="pre">Float64Index</span></code>. This will be automatically created when passing floating values in index creation.
This enables a pure label-based slicing paradigm that makes <code class="docutils literal"><span class="pre">[],ix,loc</span></code> for scalar indexing and slicing work exactly the
same. See <a class="reference internal" href="advanced.html#indexing-float64index"><span class="std std-ref">the docs</span></a>, (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/263">GH263</a>)</p>
<p>Construction is by default for floating type values.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [25]: </span><span class="n">index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">([</span><span class="mf">1.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>

<span class="gp">In [26]: </span><span class="n">index</span>
<span class="gr">Out[26]: </span><span class="n">Float64Index</span><span class="p">([</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>

<span class="gp">In [27]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span>

<span class="gp">In [28]: </span><span class="n">s</span>
<span class="gr">Out[28]: </span>
<span class="go">1.5    0</span>
<span class="go">2.0    1</span>
<span class="go">3.0    2</span>
<span class="go">4.5    3</span>
<span class="go">5.0    4</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>Scalar selection for <code class="docutils literal"><span class="pre">[],.ix,.loc</span></code> will always be label based. An integer will match an equal float index (e.g. <code class="docutils literal"><span class="pre">3</span></code> is equivalent to <code class="docutils literal"><span class="pre">3.0</span></code>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [29]: </span><span class="n">s</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gr">Out[29]: </span><span class="mi">2</span>

<span class="gp">In [30]: </span><span class="n">s</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gr">Out[30]: </span><span class="mi">2</span>

<span class="gp">In [31]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gr">Out[31]: </span><span class="mi">2</span>
</pre></div>
</div>
<p>The only positional indexing is via <code class="docutils literal"><span class="pre">iloc</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [32]: </span><span class="n">s</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gr">Out[32]: </span><span class="mi">3</span>
</pre></div>
</div>
<p>A scalar index that is not found will raise <code class="docutils literal"><span class="pre">KeyError</span></code></p>
<p>Slicing is ALWAYS on the values of the index, for <code class="docutils literal"><span class="pre">[],ix,loc</span></code> and ALWAYS positional with <code class="docutils literal"><span class="pre">iloc</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [33]: </span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="gr">Out[33]: </span>
<span class="go">2.0    1</span>
<span class="go">3.0    2</span>
<span class="go">dtype: int64</span>

<span class="gp">In [34]: </span><span class="n">s</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="gr">Out[34]: </span>
<span class="go">2.0    1</span>
<span class="go">3.0    2</span>
<span class="go">dtype: int64</span>

<span class="gp">In [35]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="gr">Out[35]: </span>
<span class="go">2.0    1</span>
<span class="go">3.0    2</span>
<span class="go">dtype: int64</span>

<span class="gp">In [36]: </span><span class="n">s</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="gr">Out[36]: </span>
<span class="go">3.0    2</span>
<span class="go">4.5    3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>In float indexes, slicing using floats are allowed</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [37]: </span><span class="n">s</span><span class="p">[</span><span class="mf">2.1</span><span class="p">:</span><span class="mf">4.6</span><span class="p">]</span>
<span class="gr">Out[37]: </span>
<span class="go">3.0    2</span>
<span class="go">4.5    3</span>
<span class="go">dtype: int64</span>

<span class="gp">In [38]: </span><span class="n">s</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mf">2.1</span><span class="p">:</span><span class="mf">4.6</span><span class="p">]</span>
<span class="gr">Out[38]: </span>
<span class="go">3.0    2</span>
<span class="go">4.5    3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</li>
<li><p class="first">Indexing on other index types are preserved (and positional fallback for <code class="docutils literal"><span class="pre">[],ix</span></code>), with the exception, that floating point slicing
on indexes on non <code class="docutils literal"><span class="pre">Float64Index</span></code> will now raise a <code class="docutils literal"><span class="pre">TypeError</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))[</span><span class="mf">3.5</span><span class="p">]</span>
<span class="go">TypeError: the label [3.5] is not a proper indexer for this index type (Int64Index)</span>

<span class="gp">In [1]: </span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))[</span><span class="mf">3.5</span><span class="p">:</span><span class="mf">4.5</span><span class="p">]</span>
<span class="go">TypeError: the slice start [3.5] is not a proper indexer for this index type (Int64Index)</span>
</pre></div>
</div>
<p>Using a scalar float indexer will be deprecated in a future version, but is allowed for now.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))[</span><span class="mf">3.0</span><span class="p">]</span>
<span class="gr">Out[3]: </span><span class="mi">3</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="hdfstore-api-changes">
<h3>HDFStore API Changes<a class="headerlink" href="#hdfstore-api-changes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Query Format Changes. A much more string-like query format is now supported. See <a class="reference internal" href="io.html#io-hdf5-query"><span class="std std-ref">the docs</span></a>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [39]: </span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;test.h5&#39;</span>

<span class="gp">In [40]: </span><span class="n">dfq</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....:</span>          <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABCD&#39;</span><span class="p">),</span>
<span class="gp">   ....:</span>          <span class="n">index</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">   ....:</span> 

<span class="gp">In [41]: </span><span class="n">dfq</span><span class="o">.</span><span class="n">to_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s1">&#39;dfq&#39;</span><span class="p">,</span><span class="n">format</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">,</span><span class="n">data_columns</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Use boolean expressions, with in-line function evaluation.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [42]: </span><span class="n">read_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s1">&#39;dfq&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>     <span class="n">where</span><span class="o">=</span><span class="s2">&quot;index&gt;Timestamp(&#39;20130104&#39;) &amp; columns=[&#39;A&#39;, &#39;B&#39;]&quot;</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[42]: </span>
<span class="go">                   A         B</span>
<span class="go">2013-01-05  1.057633 -0.791489</span>
<span class="go">2013-01-06  1.910759  0.787965</span>
<span class="go">2013-01-07  1.043945  2.107785</span>
<span class="go">2013-01-08  0.749185 -0.675521</span>
<span class="go">2013-01-09 -0.276646  1.924533</span>
<span class="go">2013-01-10  0.226363 -2.078618</span>

<span class="go">[6 rows x 2 columns]</span>
</pre></div>
</div>
<p>Use an inline column reference</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [43]: </span><span class="n">read_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s1">&#39;dfq&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>     <span class="n">where</span><span class="o">=</span><span class="s2">&quot;A&gt;0 or C&gt;0&quot;</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[43]: </span>
<span class="go">                   A         B         C         D</span>
<span class="go">2013-01-01 -0.414505 -1.425795  0.209395 -0.592886</span>
<span class="go">2013-01-02 -1.473116 -0.896581  1.104352 -0.431550</span>
<span class="go">2013-01-03 -0.161137  0.889157  0.288377 -1.051539</span>
<span class="go">2013-01-04 -0.319561 -0.619993  0.156998 -0.571455</span>
<span class="go">2013-01-05  1.057633 -0.791489 -0.524627  0.071878</span>
<span class="go">2013-01-06  1.910759  0.787965  0.513082 -0.546416</span>
<span class="go">2013-01-07  1.043945  2.107785  1.459927  1.015405</span>
<span class="go">2013-01-08  0.749185 -0.675521  0.440266  0.688972</span>
<span class="go">2013-01-09 -0.276646  1.924533  0.411204  0.890765</span>
<span class="go">2013-01-10  0.226363 -2.078618 -0.387886 -0.087107</span>

<span class="go">[10 rows x 4 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">the <code class="docutils literal"><span class="pre">format</span></code> keyword now replaces the <code class="docutils literal"><span class="pre">table</span></code> keyword; allowed values are <code class="docutils literal"><span class="pre">fixed(f)</span></code> or <code class="docutils literal"><span class="pre">table(t)</span></code>
the same defaults as prior &lt; 0.13.0 remain, e.g. <code class="docutils literal"><span class="pre">put</span></code> implies <code class="docutils literal"><span class="pre">fixed</span></code> format and <code class="docutils literal"><span class="pre">append</span></code> implies
<code class="docutils literal"><span class="pre">table</span></code> format. This default format can be set as an option by setting <code class="docutils literal"><span class="pre">io.hdf.default_format</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [44]: </span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;test.h5&#39;</span>

<span class="gp">In [45]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>

<span class="gp">In [46]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s1">&#39;df_table&#39;</span><span class="p">,</span><span class="n">format</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">)</span>

<span class="gp">In [47]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s1">&#39;df_table2&#39;</span><span class="p">,</span><span class="n">append</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="gp">In [48]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s1">&#39;df_fixed&#39;</span><span class="p">)</span>

<span class="gp">In [49]: </span><span class="k">with</span> <span class="n">get_store</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">as</span> <span class="n">store</span><span class="p">:</span>
<span class="gp">   ....:</span>    <span class="k">print</span><span class="p">(</span><span class="n">store</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: test.h5</span>
<span class="go">/df_fixed             frame        (shape-&gt;[10,2])                                       </span>
<span class="go">/df_table             frame_table  (typ-&gt;appendable,nrows-&gt;10,ncols-&gt;2,indexers-&gt;[index])</span>
<span class="go">/df_table2            frame_table  (typ-&gt;appendable,nrows-&gt;10,ncols-&gt;2,indexers-&gt;[index])</span>
</pre></div>
</div>
</li>
<li><p class="first">Significant table writing performance improvements</p>
</li>
<li><p class="first">handle a passed <code class="docutils literal"><span class="pre">Series</span></code> in table format (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4330">GH4330</a>)</p>
</li>
<li><p class="first">can now serialize a <code class="docutils literal"><span class="pre">timedelta64[ns]</span></code> dtype in a table (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3577">GH3577</a>), See <a class="reference internal" href="io.html#io-hdf5-timedelta"><span class="std std-ref">the docs</span></a>.</p>
</li>
<li><p class="first">added an <code class="docutils literal"><span class="pre">is_open</span></code> property to indicate if the underlying file handle is_open;
a closed store will now report &#8216;CLOSED&#8217; when viewing the store (rather than raising an error)
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4409">GH4409</a>)</p>
</li>
<li><p class="first">a close of a <code class="docutils literal"><span class="pre">HDFStore</span></code> now will close that instance of the <code class="docutils literal"><span class="pre">HDFStore</span></code>
but will only close the actual file if the ref count (by <code class="docutils literal"><span class="pre">PyTables</span></code>) w.r.t. all of the open handles
are 0. Essentially you have a local instance of <code class="docutils literal"><span class="pre">HDFStore</span></code> referenced by a variable. Once you
close it, it will report closed. Other references (to the same file) will continue to operate
until they themselves are closed. Performing an action on a closed file will raise
<code class="docutils literal"><span class="pre">ClosedFileError</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [50]: </span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;test.h5&#39;</span>

<span class="gp">In [51]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>

<span class="gp">In [52]: </span><span class="n">store1</span> <span class="o">=</span> <span class="n">HDFStore</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="gp">In [53]: </span><span class="n">store2</span> <span class="o">=</span> <span class="n">HDFStore</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="gp">In [54]: </span><span class="n">store1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;df&#39;</span><span class="p">,</span><span class="n">df</span><span class="p">)</span>

<span class="gp">In [55]: </span><span class="n">store2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;df2&#39;</span><span class="p">,</span><span class="n">df</span><span class="p">)</span>

<span class="gp">In [56]: </span><span class="n">store1</span>
<span class="gr">Out[56]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: test.h5</span>
<span class="go">/df            frame_table  (typ-&gt;appendable,nrows-&gt;10,ncols-&gt;2,indexers-&gt;[index])</span>

<span class="gp">In [57]: </span><span class="n">store2</span>
<span class="gr">Out[57]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: test.h5</span>
<span class="go">/df             frame_table  (typ-&gt;appendable,nrows-&gt;10,ncols-&gt;2,indexers-&gt;[index])</span>
<span class="go">/df2            frame_table  (typ-&gt;appendable,nrows-&gt;10,ncols-&gt;2,indexers-&gt;[index])</span>

<span class="gp">In [58]: </span><span class="n">store1</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="gp">In [59]: </span><span class="n">store2</span>
<span class="gr">Out[59]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: test.h5</span>
<span class="go">/df             frame_table  (typ-&gt;appendable,nrows-&gt;10,ncols-&gt;2,indexers-&gt;[index])</span>
<span class="go">/df2            frame_table  (typ-&gt;appendable,nrows-&gt;10,ncols-&gt;2,indexers-&gt;[index])</span>

<span class="gp">In [60]: </span><span class="n">store2</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="gp">In [61]: </span><span class="n">store2</span>
<span class="gr">Out[61]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: test.h5</span>
<span class="go">File is CLOSED</span>
</pre></div>
</div>
</li>
<li><p class="first">removed the <code class="docutils literal"><span class="pre">_quiet</span></code> attribute, replace by a <code class="docutils literal"><span class="pre">DuplicateWarning</span></code> if retrieving
duplicate rows from a table (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4367">GH4367</a>)</p>
</li>
<li><p class="first">removed the <code class="docutils literal"><span class="pre">warn</span></code> argument from <code class="docutils literal"><span class="pre">open</span></code>. Instead a <code class="docutils literal"><span class="pre">PossibleDataLossError</span></code> exception will
be raised if you try to use <code class="docutils literal"><span class="pre">mode='w'</span></code> with an OPEN file handle (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4367">GH4367</a>)</p>
</li>
<li><p class="first">allow a passed locations array or mask as a <code class="docutils literal"><span class="pre">where</span></code> condition (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4467">GH4467</a>).
See <a class="reference internal" href="io.html#io-hdf5-where-mask"><span class="std std-ref">the docs</span></a> for an example.</p>
</li>
<li><p class="first">add the keyword <code class="docutils literal"><span class="pre">dropna=True</span></code> to <code class="docutils literal"><span class="pre">append</span></code> to change whether ALL nan rows are not written
to the store (default is <code class="docutils literal"><span class="pre">True</span></code>, ALL nan rows are NOT written), also settable
via the option <code class="docutils literal"><span class="pre">io.hdf.dropna_table</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4625">GH4625</a>)</p>
</li>
<li><p class="first">pass thru store creation arguments; can be used to support in-memory stores</p>
</li>
</ul>
</div>
<div class="section" id="dataframe-repr-changes">
<h3>DataFrame repr Changes<a class="headerlink" href="#dataframe-repr-changes" title="Permalink to this headline">¶</a></h3>
<p>The HTML and plain text representations of <code class="xref py py-class docutils literal"><span class="pre">DataFrame</span></code> now show
a truncated view of the table once it exceeds a certain size, rather
than switching to the short info view (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4886">GH4886</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5550">GH5550</a>).
This makes the representation more consistent as small DataFrames get
larger.</p>
<img alt="Truncated HTML representation of a DataFrame" src="_images/df_repr_truncated.png" />
<p>To get the info view, call <code class="xref py py-meth docutils literal"><span class="pre">DataFrame.info()</span></code>. If you prefer the
info view as the repr for large DataFrames, you can set this by running
<code class="docutils literal"><span class="pre">set_option('display.large_repr',</span> <span class="pre">'info')</span></code>.</p>
</div>
<div class="section" id="id92">
<h3>Enhancements<a class="headerlink" href="#id92" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">df.to_clipboard()</span></code> learned a new <code class="docutils literal"><span class="pre">excel</span></code> keyword that let&#8217;s you
paste df data directly into excel (enabled by default). (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5070">GH5070</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">read_html</span></code> now raises a <code class="docutils literal"><span class="pre">URLError</span></code> instead of catching and raising a
<code class="docutils literal"><span class="pre">ValueError</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4303">GH4303</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4305">GH4305</a>)</p>
</li>
<li><p class="first">Added a test for <code class="docutils literal"><span class="pre">read_clipboard()</span></code> and <code class="docutils literal"><span class="pre">to_clipboard()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4282">GH4282</a>)</p>
</li>
<li><p class="first">Clipboard functionality now works with PySide (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4282">GH4282</a>)</p>
</li>
<li><p class="first">Added a more informative error message when plot arguments contain
overlapping color and style arguments (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4402">GH4402</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">to_dict</span></code> now takes <code class="docutils literal"><span class="pre">records</span></code> as a possible outtype.  Returns an array
of column-keyed dictionaries. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4936">GH4936</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">NaN</span></code> handing in get_dummies (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4446">GH4446</a>) with <cite>dummy_na</cite></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># previously, nan was erroneously counted as 2 here</span>
<span class="c"># now it is not counted at all</span>
<span class="gp">In [62]: </span><span class="n">get_dummies</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span>
<span class="gr">Out[62]: </span>
<span class="go">   1.0  2.0</span>
<span class="go">0    1    0</span>
<span class="go">1    0    1</span>
<span class="go">2    0    0</span>

<span class="go">[3 rows x 2 columns]</span>

<span class="c"># unless requested</span>
<span class="gp">In [63]: </span><span class="n">get_dummies</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="n">dummy_na</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[63]: </span>
<span class="go">    1.0   2.0  NaN </span>
<span class="go">0     1     0     0</span>
<span class="go">1     0     1     0</span>
<span class="go">2     0     0     1</span>

<span class="go">[3 rows x 3 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">timedelta64[ns]</span></code> operations. See <a class="reference internal" href="timedeltas.html#timedeltas-timedeltas-convert"><span class="std std-ref">the docs</span></a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Most of these operations require <code class="docutils literal"><span class="pre">numpy</span> <span class="pre">&gt;=</span> <span class="pre">1.7</span></code></p>
</div>
<p>Using the new top-level <code class="docutils literal"><span class="pre">to_timedelta</span></code>, you can convert a scalar or array from the standard
timedelta format (produced by <code class="docutils literal"><span class="pre">to_csv</span></code>) into a timedelta type (<code class="docutils literal"><span class="pre">np.timedelta64</span></code> in <code class="docutils literal"><span class="pre">nanoseconds</span></code>).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [64]: </span><span class="n">to_timedelta</span><span class="p">(</span><span class="s1">&#39;1 days 06:05:01.00003&#39;</span><span class="p">)</span>
<span class="gr">Out[64]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;1 days 06:05:01.000030&#39;</span><span class="p">)</span>

<span class="gp">In [65]: </span><span class="n">to_timedelta</span><span class="p">(</span><span class="s1">&#39;15.5us&#39;</span><span class="p">)</span>
<span class="gr">Out[65]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;0 days 00:00:00.000015&#39;</span><span class="p">)</span>

<span class="gp">In [66]: </span><span class="n">to_timedelta</span><span class="p">([</span><span class="s1">&#39;1 days 06:05:01.00003&#39;</span><span class="p">,</span><span class="s1">&#39;15.5us&#39;</span><span class="p">,</span><span class="s1">&#39;nan&#39;</span><span class="p">])</span>
<span class="gr">Out[66]: </span><span class="n">TimedeltaIndex</span><span class="p">([</span><span class="s1">&#39;1 days 06:05:01.000030&#39;</span><span class="p">,</span> <span class="s1">&#39;0 days 00:00:00.000015&#39;</span><span class="p">,</span> <span class="n">NaT</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;timedelta64[ns]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="gp">In [67]: </span><span class="n">to_timedelta</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="gr">Out[67]: </span><span class="n">TimedeltaIndex</span><span class="p">([</span><span class="s1">&#39;00:00:00&#39;</span><span class="p">,</span> <span class="s1">&#39;00:00:01&#39;</span><span class="p">,</span> <span class="s1">&#39;00:00:02&#39;</span><span class="p">,</span> <span class="s1">&#39;00:00:03&#39;</span><span class="p">,</span> <span class="s1">&#39;00:00:04&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;timedelta64[ns]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="gp">In [68]: </span><span class="n">to_timedelta</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">unit</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gr">Out[68]: </span><span class="n">TimedeltaIndex</span><span class="p">([</span><span class="s1">&#39;0 days&#39;</span><span class="p">,</span> <span class="s1">&#39;1 days&#39;</span><span class="p">,</span> <span class="s1">&#39;2 days&#39;</span><span class="p">,</span> <span class="s1">&#39;3 days&#39;</span><span class="p">,</span> <span class="s1">&#39;4 days&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;timedelta64[ns]&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
<p>A Series of dtype <code class="docutils literal"><span class="pre">timedelta64[ns]</span></code> can now be divided by another
<code class="docutils literal"><span class="pre">timedelta64[ns]</span></code> object, or astyped to yield a <code class="docutils literal"><span class="pre">float64</span></code> dtyped Series. This
is frequency conversion. See <a class="reference internal" href="timedeltas.html#timedeltas-timedeltas-convert"><span class="std std-ref">the docs</span></a> for the docs.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [69]: </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>

<span class="gp">In [70]: </span><span class="n">td</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span><span class="o">-</span><span class="n">Series</span><span class="p">(</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20121201&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>

<span class="gp">In [71]: </span><span class="n">td</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">timedelta64</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">seconds</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>

<span class="gp">In [72]: </span><span class="n">td</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [73]: </span><span class="n">td</span>
<span class="gr">Out[73]: </span>
<span class="go">0   31 days 00:00:00</span>
<span class="go">1   31 days 00:00:00</span>
<span class="go">2   31 days 00:05:03</span>
<span class="go">3                NaT</span>
<span class="go">dtype: timedelta64[ns]</span>

<span class="c"># to days</span>
<span class="gp">In [74]: </span><span class="n">td</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">timedelta64</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>
<span class="gr">Out[74]: </span>
<span class="go">0    31.000000</span>
<span class="go">1    31.000000</span>
<span class="go">2    31.003507</span>
<span class="go">3          NaN</span>
<span class="go">dtype: float64</span>

<span class="gp">In [75]: </span><span class="n">td</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;timedelta64[D]&#39;</span><span class="p">)</span>
<span class="gr">Out[75]: </span>
<span class="go">0    31.0</span>
<span class="go">1    31.0</span>
<span class="go">2    31.0</span>
<span class="go">3     NaN</span>
<span class="go">dtype: float64</span>

<span class="c"># to seconds</span>
<span class="gp">In [76]: </span><span class="n">td</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">timedelta64</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="gr">Out[76]: </span>
<span class="go">0    2678400.0</span>
<span class="go">1    2678400.0</span>
<span class="go">2    2678703.0</span>
<span class="go">3          NaN</span>
<span class="go">dtype: float64</span>

<span class="gp">In [77]: </span><span class="n">td</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;timedelta64[s]&#39;</span><span class="p">)</span>
<span class="gr">Out[77]: </span>
<span class="go">0    2678400.0</span>
<span class="go">1    2678400.0</span>
<span class="go">2    2678703.0</span>
<span class="go">3          NaN</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>Dividing or multiplying a <code class="docutils literal"><span class="pre">timedelta64[ns]</span></code> Series by an integer or integer Series</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [78]: </span><span class="n">td</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span>
<span class="gr">Out[78]: </span>
<span class="go">0   -31 days +00:00:00</span>
<span class="go">1   -31 days +00:00:00</span>
<span class="go">2   -32 days +23:54:57</span>
<span class="go">3                  NaT</span>
<span class="go">dtype: timedelta64[ns]</span>

<span class="gp">In [79]: </span><span class="n">td</span> <span class="o">*</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gr">Out[79]: </span>
<span class="go">0   31 days 00:00:00</span>
<span class="go">1   62 days 00:00:00</span>
<span class="go">2   93 days 00:15:09</span>
<span class="go">3                NaT</span>
<span class="go">dtype: timedelta64[ns]</span>
</pre></div>
</div>
<p>Absolute <code class="docutils literal"><span class="pre">DateOffset</span></code> objects can act equivalently to <code class="docutils literal"><span class="pre">timedeltas</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [80]: </span><span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="n">offsets</span>

<span class="gp">In [81]: </span><span class="n">td</span> <span class="o">+</span> <span class="n">offsets</span><span class="o">.</span><span class="n">Minute</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="n">offsets</span><span class="o">.</span><span class="n">Milli</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gr">Out[81]: </span>
<span class="go">0   31 days 00:05:00.005000</span>
<span class="go">1   31 days 00:05:00.005000</span>
<span class="go">2   31 days 00:10:03.005000</span>
<span class="go">3                       NaT</span>
<span class="go">dtype: timedelta64[ns]</span>
</pre></div>
</div>
<p>Fillna is now supported for timedeltas</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [82]: </span><span class="n">td</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[82]: </span>
<span class="go">0   31 days 00:00:00</span>
<span class="go">1   31 days 00:00:00</span>
<span class="go">2   31 days 00:05:03</span>
<span class="go">3    0 days 00:00:00</span>
<span class="go">dtype: timedelta64[ns]</span>

<span class="gp">In [83]: </span><span class="n">td</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">seconds</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
<span class="gr">Out[83]: </span>
<span class="go">0   31 days 00:00:00</span>
<span class="go">1   31 days 00:00:00</span>
<span class="go">2   31 days 00:05:03</span>
<span class="go">3    1 days 00:00:05</span>
<span class="go">dtype: timedelta64[ns]</span>
</pre></div>
</div>
<p>You can do numeric reduction operations on timedeltas.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [84]: </span><span class="n">td</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gr">Out[84]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;31 days 00:01:41&#39;</span><span class="p">)</span>

<span class="gp">In [85]: </span><span class="n">td</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="gr">Out[85]: </span><span class="n">Timedelta</span><span class="p">(</span><span class="s1">&#39;31 days 00:00:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">plot(kind='kde')</span></code> now accepts the optional parameters <code class="docutils literal"><span class="pre">bw_method</span></code> and
<code class="docutils literal"><span class="pre">ind</span></code>, passed to scipy.stats.gaussian_kde() (for scipy &gt;= 0.11.0) to set
the bandwidth, and to gkde.evaluate() to specify the indices at which it
is evaluated, respectively. See scipy docs. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4298">GH4298</a>)</p>
</li>
<li><p class="first">DataFrame constructor now accepts a numpy masked record array (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3478">GH3478</a>)</p>
</li>
<li><p class="first">The new vectorized string method <code class="docutils literal"><span class="pre">extract</span></code> return regular expression
matches more conveniently.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [86]: </span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">,</span> <span class="s1">&#39;c3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">&#39;[ab](\d)&#39;</span><span class="p">)</span>
<span class="gr">Out[86]: </span>
<span class="go">0      1</span>
<span class="go">1      2</span>
<span class="go">2    NaN</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>Elements that do not match return <code class="docutils literal"><span class="pre">NaN</span></code>. Extracting a regular expression
with more than one group returns a DataFrame with one column per group.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [87]: </span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">,</span> <span class="s1">&#39;c3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">&#39;([ab])(\d)&#39;</span><span class="p">)</span>
<span class="gr">Out[87]: </span>
<span class="go">     0    1</span>
<span class="go">0    a    1</span>
<span class="go">1    b    2</span>
<span class="go">2  NaN  NaN</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<p>Elements that do not match return a row of <code class="docutils literal"><span class="pre">NaN</span></code>.
Thus, a Series of messy strings can be <em>converted</em> into a
like-indexed Series or DataFrame of cleaned-up or more useful strings,
without necessitating <code class="docutils literal"><span class="pre">get()</span></code> to access tuples or <code class="docutils literal"><span class="pre">re.match</span></code> objects.</p>
<p>Named groups like</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [88]: </span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">,</span> <span class="s1">&#39;c3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span>
<span class="gp">   ....:</span>         <span class="s1">&#39;(?P&lt;letter&gt;[ab])(?P&lt;digit&gt;\d)&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[88]: </span>
<span class="go">  letter digit</span>
<span class="go">0      a     1</span>
<span class="go">1      b     2</span>
<span class="go">2    NaN   NaN</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<p>and optional groups can also be used.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [89]: </span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span>
<span class="gp">   ....:</span>          <span class="s1">&#39;(?P&lt;letter&gt;[ab])?(?P&lt;digit&gt;\d)&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[89]: </span>
<span class="go">  letter digit</span>
<span class="go">0      a     1</span>
<span class="go">1      b     2</span>
<span class="go">2    NaN     3</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">read_stata</span></code> now accepts Stata 13 format (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4291">GH4291</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">read_fwf</span></code> now infers the column specifications from the first 100 rows of
the file if the data has correctly separated and properly aligned columns
using the delimiter provided to the function (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4488">GH4488</a>).</p>
</li>
<li><p class="first">support for nanosecond times as an offset</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">These operations require <code class="docutils literal"><span class="pre">numpy</span> <span class="pre">&gt;=</span> <span class="pre">1.7</span></code></p>
</div>
<p>Period conversions in the range of seconds and below were reworked and extended
up to nanoseconds. Periods in the nanosecond range are now available.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [90]: </span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2013-01-01&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;5N&#39;</span><span class="p">)</span>
<span class="gr">Out[90]: </span>
<span class="go">DatetimeIndex([&#39;2013-01-01&#39;, &#39;2013-01-01&#39;, &#39;2013-01-01&#39;, &#39;2013-01-01&#39;,</span>
<span class="go">               &#39;2013-01-01&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns]&#39;, freq=&#39;5N&#39;)</span>
</pre></div>
</div>
<p>or with frequency as offset</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [91]: </span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2013-01-01&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">offsets</span><span class="o">.</span><span class="n">Nano</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="gr">Out[91]: </span>
<span class="go">DatetimeIndex([&#39;2013-01-01&#39;, &#39;2013-01-01&#39;, &#39;2013-01-01&#39;, &#39;2013-01-01&#39;,</span>
<span class="go">               &#39;2013-01-01&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns]&#39;, freq=&#39;5N&#39;)</span>
</pre></div>
</div>
<p>Timestamps can be modified in the nanosecond range</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [92]: </span><span class="n">t</span> <span class="o">=</span> <span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;20130101 09:01:02&#39;</span><span class="p">)</span>

<span class="gp">In [93]: </span><span class="n">t</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">tseries</span><span class="o">.</span><span class="n">offsets</span><span class="o">.</span><span class="n">Nano</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
<span class="gr">Out[93]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2013-01-01 09:01:02.000000123&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">A new method, <code class="docutils literal"><span class="pre">isin</span></code> for DataFrames, which plays nicely with boolean indexing. The argument to <code class="docutils literal"><span class="pre">isin</span></code>, what we&#8217;re comparing the DataFrame to, can be a DataFrame, Series, dict, or array of values. See <a class="reference internal" href="indexing.html#indexing-basics-indexing-isin"><span class="std std-ref">the docs</span></a> for more.</p>
<p>To get the rows where any of the conditions are met:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [94]: </span><span class="n">dfi</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">]})</span>

<span class="gp">In [95]: </span><span class="n">dfi</span>
<span class="gr">Out[95]: </span>
<span class="go">   A  B</span>
<span class="go">0  1  a</span>
<span class="go">1  2  b</span>
<span class="go">2  3  f</span>
<span class="go">3  4  n</span>

<span class="go">[4 rows x 2 columns]</span>

<span class="gp">In [96]: </span><span class="n">other</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">]})</span>

<span class="gp">In [97]: </span><span class="n">mask</span> <span class="o">=</span> <span class="n">dfi</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

<span class="gp">In [98]: </span><span class="n">mask</span>
<span class="gr">Out[98]: </span>
<span class="go">       A      B</span>
<span class="go">0   True  False</span>
<span class="go">1  False  False</span>
<span class="go">2   True   True</span>
<span class="go">3  False  False</span>

<span class="go">[4 rows x 2 columns]</span>

<span class="gp">In [99]: </span><span class="n">dfi</span><span class="p">[</span><span class="n">mask</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span>
<span class="gr">Out[99]: </span>
<span class="go">   A  B</span>
<span class="go">0  1  a</span>
<span class="go">2  3  f</span>

<span class="go">[2 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series</span></code> now supports a <code class="docutils literal"><span class="pre">to_frame</span></code> method to convert it to a single-column DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5164">GH5164</a>)</p>
</li>
<li><p class="first">All R datasets listed here <a class="reference external" href="http://stat.ethz.ch/R-manual/R-devel/library/datasets/html/00Index.html">http://stat.ethz.ch/R-manual/R-devel/library/datasets/html/00Index.html</a> can now be loaded into Pandas objects</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># note that pandas.rpy was deprecated in v0.16.0</span>
<span class="kn">import</span> <span class="nn">pandas.rpy.common</span> <span class="kn">as</span> <span class="nn">com</span>
<span class="n">com</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="s1">&#39;Titanic&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">tz_localize</span></code> can infer a fall daylight savings transition based on the structure
of the unlocalized data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4230">GH4230</a>), see <a class="reference internal" href="timeseries.html#timeseries-timezone"><span class="std std-ref">the docs</span></a></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DatetimeIndex</span></code> is now in the API documentation, see <a class="reference internal" href="api.html#api-datetimeindex"><span class="std std-ref">the docs</span></a></p>
</li>
<li><p class="first"><a class="reference internal" href="generated/pandas.io.json.json_normalize.html#pandas.io.json.json_normalize" title="pandas.io.json.json_normalize"><code class="xref py py-meth docutils literal"><span class="pre">json_normalize()</span></code></a> is a new method to allow you to create a flat table
from semi-structured JSON data. See <a class="reference internal" href="io.html#io-json-normalize"><span class="std std-ref">the docs</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1067">GH1067</a>)</p>
</li>
<li><p class="first">Added PySide support for the qtpandas DataFrameModel and DataFrameWidget.</p>
</li>
<li><p class="first">Python csv parser now supports usecols (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4335">GH4335</a>)</p>
</li>
<li><p class="first">Frequencies gained several new offsets:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">LastWeekOfMonth</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4637">GH4637</a>)</li>
<li><code class="docutils literal"><span class="pre">FY5253</span></code>, and <code class="docutils literal"><span class="pre">FY5253Quarter</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4511">GH4511</a>)</li>
</ul>
</li>
<li><p class="first">DataFrame has a new <code class="docutils literal"><span class="pre">interpolate</span></code> method, similar to Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4434">GH4434</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1892">GH1892</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [100]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">4.7</span><span class="p">,</span> <span class="mf">5.6</span><span class="p">,</span> <span class="mf">6.8</span><span class="p">],</span>
<span class="gp">   .....:</span>                 <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="mi">25</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">12.2</span><span class="p">,</span> <span class="mf">14.4</span><span class="p">]})</span>
<span class="gp">   .....:</span> 

<span class="gp">In [101]: </span><span class="n">df</span><span class="o">.</span><span class="n">interpolate</span><span class="p">()</span>
<span class="gr">Out[101]: </span>
<span class="go">     A      B</span>
<span class="go">0  1.0   0.25</span>
<span class="go">1  2.1   1.50</span>
<span class="go">2  3.4   2.75</span>
<span class="go">3  4.7   4.00</span>
<span class="go">4  5.6  12.20</span>
<span class="go">5  6.8  14.40</span>

<span class="go">[6 rows x 2 columns]</span>
</pre></div>
</div>
<p>Additionally, the <code class="docutils literal"><span class="pre">method</span></code> argument to <code class="docutils literal"><span class="pre">interpolate</span></code> has been expanded
to include <code class="docutils literal"><span class="pre">'nearest',</span> <span class="pre">'zero',</span> <span class="pre">'slinear',</span> <span class="pre">'quadratic',</span> <span class="pre">'cubic',</span>
<span class="pre">'barycentric',</span> <span class="pre">'krogh',</span> <span class="pre">'piecewise_polynomial',</span> <span class="pre">'pchip',</span> <span class="pre">`polynomial`,</span> <span class="pre">'spline'</span></code>
The new methods require <a class="reference external" href="http://www.scipy.org">scipy</a>. Consult the Scipy reference <a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/tutorial/interpolate.html">guide</a> and <a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/interpolate.html#univariate-interpolation">documentation</a> for more information
about when the various methods are appropriate. See <a class="reference internal" href="missing_data.html#missing-data-interpolate"><span class="std std-ref">the docs</span></a>.</p>
<p>Interpolate now also accepts a <code class="docutils literal"><span class="pre">limit</span></code> keyword argument.
This works similar to <code class="docutils literal"><span class="pre">fillna</span></code>&#8216;s limit:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [102]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">11</span><span class="p">])</span>

<span class="gp">In [103]: </span><span class="n">ser</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gr">Out[103]: </span>
<span class="go">0     1.0</span>
<span class="go">1     3.0</span>
<span class="go">2     5.0</span>
<span class="go">3     7.0</span>
<span class="go">4     NaN</span>
<span class="go">5    11.0</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">wide_to_long</span></code> panel data convenience function. See <a class="reference internal" href="reshaping.html#reshaping-melt"><span class="std std-ref">the docs</span></a>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [104]: </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>

<span class="gp">In [105]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A1970&quot;</span> <span class="p">:</span> <span class="p">{</span><span class="mi">0</span> <span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">1</span> <span class="p">:</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="mi">2</span> <span class="p">:</span> <span class="s2">&quot;c&quot;</span><span class="p">},</span>
<span class="gp">   .....:</span>                    <span class="s2">&quot;A1980&quot;</span> <span class="p">:</span> <span class="p">{</span><span class="mi">0</span> <span class="p">:</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="mi">1</span> <span class="p">:</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="mi">2</span> <span class="p">:</span> <span class="s2">&quot;f&quot;</span><span class="p">},</span>
<span class="gp">   .....:</span>                    <span class="s2">&quot;B1970&quot;</span> <span class="p">:</span> <span class="p">{</span><span class="mi">0</span> <span class="p">:</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">1</span> <span class="p">:</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mi">2</span> <span class="p">:</span> <span class="o">.</span><span class="mi">7</span><span class="p">},</span>
<span class="gp">   .....:</span>                    <span class="s2">&quot;B1980&quot;</span> <span class="p">:</span> <span class="p">{</span><span class="mi">0</span> <span class="p">:</span> <span class="mf">3.2</span><span class="p">,</span> <span class="mi">1</span> <span class="p">:</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mi">2</span> <span class="p">:</span> <span class="o">.</span><span class="mi">1</span><span class="p">},</span>
<span class="gp">   .....:</span>                    <span class="s2">&quot;X&quot;</span>     <span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<span class="gp">   .....:</span>                   <span class="p">})</span>
<span class="gp">   .....:</span> 

<span class="gp">In [106]: </span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span>

<span class="gp">In [107]: </span><span class="n">df</span>
<span class="gr">Out[107]: </span>
<span class="go">  A1970 A1980  B1970  B1980         X  id</span>
<span class="go">0     a     d    2.5    3.2 -1.085631   0</span>
<span class="go">1     b     e    1.2    1.3  0.997345   1</span>
<span class="go">2     c     f    0.7    0.1  0.282978   2</span>

<span class="go">[3 rows x 6 columns]</span>

<span class="gp">In [108]: </span><span class="n">wide_to_long</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">],</span> <span class="n">i</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">j</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">)</span>
<span class="gr">Out[108]: </span>
<span class="go">                X  A    B</span>
<span class="go">id year                  </span>
<span class="go">0  1970 -1.085631  a  2.5</span>
<span class="go">1  1970  0.997345  b  1.2</span>
<span class="go">2  1970  0.282978  c  0.7</span>
<span class="go">0  1980 -1.085631  d  3.2</span>
<span class="go">1  1980  0.997345  e  1.3</span>
<span class="go">2  1980  0.282978  f  0.1</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
</li>
</ul>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">to_csv</span></code> now takes a <code class="docutils literal"><span class="pre">date_format</span></code> keyword argument that specifies how
output datetime objects should be formatted. Datetimes encountered in the
index, columns, and values will all have this formatting applied. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4313">GH4313</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.plot</span></code> will scatter plot x versus y by passing <code class="docutils literal"><span class="pre">kind='scatter'</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2215">GH2215</a>)</li>
<li>Added support for Google Analytics v3 API segment IDs that also supports v2 IDs. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5271">GH5271</a>)</li>
</ul>
</div>
<div class="section" id="whatsnew-0130-experimental">
<span id="id93"></span><h3>Experimental<a class="headerlink" href="#whatsnew-0130-experimental" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The new <a class="reference internal" href="generated/pandas.eval.html#pandas.eval" title="pandas.eval"><code class="xref py py-func docutils literal"><span class="pre">eval()</span></code></a> function implements expression evaluation using
<code class="docutils literal"><span class="pre">numexpr</span></code> behind the scenes. This results in large speedups for
complicated expressions involving large DataFrames/Series. For example,</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [109]: </span><span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span> <span class="o">=</span> <span class="mi">20000</span><span class="p">,</span> <span class="mi">100</span>

<span class="gp">In [110]: </span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">,</span> <span class="n">df3</span><span class="p">,</span> <span class="n">df4</span> <span class="o">=</span> <span class="p">[</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span><span class="p">))</span>
<span class="gp">   .....:</span>                       <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
<span class="gp">   .....:</span> 
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># eval with NumExpr backend</span>
<span class="gp">In [111]: </span><span class="o">%</span><span class="n">timeit</span> <span class="n">pd</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;df1 + df2 + df3 + df4&#39;</span><span class="p">)</span>
<span class="go">100 loops, best of 3: 9.86 ms per loop</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="c"># pure Python evaluation</span>
<span class="gp">In [112]: </span><span class="o">%</span><span class="n">timeit</span> <span class="n">df1</span> <span class="o">+</span> <span class="n">df2</span> <span class="o">+</span> <span class="n">df3</span> <span class="o">+</span> <span class="n">df4</span>
<span class="go">10 loops, best of 3: 25.6 ms per loop</span>
</pre></div>
</div>
<p>For more details, see the <a class="reference internal" href="enhancingperf.html#enhancingperf-eval"><span class="std std-ref">the docs</span></a></p>
</li>
<li><p class="first">Similar to <code class="docutils literal"><span class="pre">pandas.eval</span></code>, <a class="reference internal" href="generated/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal"><span class="pre">DataFrame</span></code></a> has a new
<code class="docutils literal"><span class="pre">DataFrame.eval</span></code> method that evaluates an expression in the context of
the <code class="docutils literal"><span class="pre">DataFrame</span></code>. For example,</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [113]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span>

<span class="gp">In [114]: </span><span class="n">df</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;a + b&#39;</span><span class="p">)</span>
<span class="gr">Out[114]: </span>
<span class="go">0   -0.685204</span>
<span class="go">1    1.589745</span>
<span class="go">2    0.325441</span>
<span class="go">3   -1.784153</span>
<span class="go">4   -0.432893</span>
<span class="go">5    0.171850</span>
<span class="go">6    1.895919</span>
<span class="go">7    3.065587</span>
<span class="go">8   -0.092759</span>
<span class="go">9    1.391365</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first"><a class="reference internal" href="generated/pandas.DataFrame.query.html#pandas.DataFrame.query" title="pandas.DataFrame.query"><code class="xref py py-meth docutils literal"><span class="pre">query()</span></code></a> method has been added that allows
you to select elements of a <code class="docutils literal"><span class="pre">DataFrame</span></code> using a natural query syntax
nearly identical to Python syntax. For example,</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [115]: </span><span class="n">n</span> <span class="o">=</span> <span class="mi">20</span>

<span class="gp">In [116]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">3</span><span class="p">)),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>

<span class="gp">In [117]: </span><span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;a &lt; b &lt; c&#39;</span><span class="p">)</span>
<span class="gr">Out[117]: </span>
<span class="go">    a   b   c</span>
<span class="go">11  1   5   8</span>
<span class="go">15  8  16  19</span>

<span class="go">[2 rows x 3 columns]</span>
</pre></div>
</div>
<p>selects all the rows of <code class="docutils literal"><span class="pre">df</span></code> where <code class="docutils literal"><span class="pre">a</span> <span class="pre">&lt;</span> <span class="pre">b</span> <span class="pre">&lt;</span> <span class="pre">c</span></code> evaluates to <code class="docutils literal"><span class="pre">True</span></code>.
For more details see the <a class="reference internal" href="indexing.html#indexing-query"><span class="std std-ref">the docs</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_msgpack()</span></code> and <code class="docutils literal"><span class="pre">pd.to_msgpack()</span></code> are now a supported method of serialization
of arbitrary pandas (and python objects) in a lightweight portable binary format. See <a class="reference internal" href="io.html#io-msgpack"><span class="std std-ref">the docs</span></a></p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Since this is an EXPERIMENTAL LIBRARY, the storage format may not be stable until a future release.</p>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [118]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;AB&#39;</span><span class="p">))</span>

<span class="gp">In [119]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_msgpack</span><span class="p">(</span><span class="s1">&#39;foo.msg&#39;</span><span class="p">)</span>

<span class="gp">In [120]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_msgpack</span><span class="p">(</span><span class="s1">&#39;foo.msg&#39;</span><span class="p">)</span>
<span class="gr">Out[120]: </span>
<span class="go">          A         B</span>
<span class="go">0  0.251082  0.017357</span>
<span class="go">1  0.347915  0.929879</span>
<span class="go">2  0.546233  0.203368</span>
<span class="go">3  0.064942  0.031722</span>
<span class="go">4  0.355309  0.524575</span>

<span class="go">[5 rows x 2 columns]</span>

<span class="gp">In [121]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">index</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>

<span class="gp">In [122]: </span><span class="n">pd</span><span class="o">.</span><span class="n">to_msgpack</span><span class="p">(</span><span class="s1">&#39;foo.msg&#39;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>

<span class="gp">In [123]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_msgpack</span><span class="p">(</span><span class="s1">&#39;foo.msg&#39;</span><span class="p">)</span>
<span class="gr">Out[123]: </span>
<span class="go">[          A         B</span>
<span class="go"> 0  0.251082  0.017357</span>
<span class="go"> 1  0.347915  0.929879</span>
<span class="go"> 2  0.546233  0.203368</span>
<span class="go"> 3  0.064942  0.031722</span>
<span class="go"> 4  0.355309  0.524575</span>
<span class="go"> </span>
<span class="go"> [5 rows x 2 columns], 2013-01-01    0.022321</span>
<span class="go"> 2013-01-02    0.227025</span>
<span class="go"> 2013-01-03    0.383282</span>
<span class="go"> 2013-01-04    0.193225</span>
<span class="go"> 2013-01-05    0.110977</span>
<span class="go"> Freq: D, dtype: float64]</span>
</pre></div>
</div>
<p>You can pass <code class="docutils literal"><span class="pre">iterator=True</span></code> to iterator over the unpacked results</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [124]: </span><span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_msgpack</span><span class="p">(</span><span class="s1">&#39;foo.msg&#39;</span><span class="p">,</span><span class="n">iterator</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
<span class="gp">   .....:</span>    <span class="k">print</span> <span class="n">o</span>
<span class="gp">   .....:</span> 
<span class="go">          A         B</span>
<span class="go">0  0.251082  0.017357</span>
<span class="go">1  0.347915  0.929879</span>
<span class="go">2  0.546233  0.203368</span>
<span class="go">3  0.064942  0.031722</span>
<span class="go">4  0.355309  0.524575</span>

<span class="go">[5 rows x 2 columns]</span>
<span class="go">2013-01-01    0.022321</span>
<span class="go">2013-01-02    0.227025</span>
<span class="go">2013-01-03    0.383282</span>
<span class="go">2013-01-04    0.193225</span>
<span class="go">2013-01-05    0.110977</span>
<span class="go">Freq: D, dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pandas.io.gbq</span></code> provides a simple way to extract from, and load data into,
Google&#8217;s BigQuery Data Sets by way of pandas DataFrames. BigQuery is a high
performance SQL-like database service, useful for performing ad-hoc queries
against extremely large datasets. <a class="reference internal" href="io.html#io-bigquery"><span class="std std-ref">See the docs</span></a></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pandas.io</span> <span class="kn">import</span> <span class="n">gbq</span>

<span class="c1"># A query to select the average monthly temperatures in the</span>
<span class="c1"># in the year 2000 across the USA. The dataset,</span>
<span class="c1"># publicata:samples.gsod, is available on all BigQuery accounts,</span>
<span class="c1"># and is based on NOAA gsod data.</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;SELECT station_number as STATION,</span>
<span class="s2">month as MONTH, AVG(mean_temp) as MEAN_TEMP</span>
<span class="s2">FROM publicdata:samples.gsod</span>
<span class="s2">WHERE YEAR = 2000</span>
<span class="s2">GROUP BY STATION, MONTH</span>
<span class="s2">ORDER BY STATION, MONTH ASC&quot;&quot;&quot;</span>

<span class="c1"># Fetch the result set for this query</span>

<span class="c1"># Your Google BigQuery Project ID</span>
<span class="c1"># To find this, see your dashboard:</span>
<span class="c1"># https://console.developers.google.com/iam-admin/projects?authuser=0</span>
<span class="n">projectid</span> <span class="o">=</span> <span class="n">xxxxxxxxx</span><span class="p">;</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">gbq</span><span class="o">.</span><span class="n">read_gbq</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">project_id</span> <span class="o">=</span> <span class="n">projectid</span><span class="p">)</span>

<span class="c1"># Use pandas to process and reshape the dataset</span>

<span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;STATION&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;MONTH&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;MEAN_TEMP&#39;</span><span class="p">)</span>
<span class="n">df3</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df2</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">df2</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">df2</span><span class="o">.</span><span class="n">max</span><span class="p">()],</span>
                    <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">keys</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Min Tem&quot;</span><span class="p">,</span> <span class="s2">&quot;Mean Temp&quot;</span><span class="p">,</span> <span class="s2">&quot;Max Temp&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>The resulting DataFrame is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">df3</span>
            <span class="n">Min</span> <span class="n">Tem</span>  <span class="n">Mean</span> <span class="n">Temp</span>    <span class="n">Max</span> <span class="n">Temp</span>
 <span class="n">MONTH</span>
 <span class="mi">1</span>     <span class="o">-</span><span class="mf">53.336667</span>  <span class="mf">39.827892</span>   <span class="mf">89.770968</span>
 <span class="mi">2</span>     <span class="o">-</span><span class="mf">49.837500</span>  <span class="mf">43.685219</span>   <span class="mf">93.437932</span>
 <span class="mi">3</span>     <span class="o">-</span><span class="mf">77.926087</span>  <span class="mf">48.708355</span>   <span class="mf">96.099998</span>
 <span class="mi">4</span>     <span class="o">-</span><span class="mf">82.892858</span>  <span class="mf">55.070087</span>   <span class="mf">97.317240</span>
 <span class="mi">5</span>     <span class="o">-</span><span class="mf">92.378261</span>  <span class="mf">61.428117</span>  <span class="mf">102.042856</span>
 <span class="mi">6</span>     <span class="o">-</span><span class="mf">77.703334</span>  <span class="mf">65.858888</span>  <span class="mf">102.900000</span>
 <span class="mi">7</span>     <span class="o">-</span><span class="mf">87.821428</span>  <span class="mf">68.169663</span>  <span class="mf">106.510714</span>
 <span class="mi">8</span>     <span class="o">-</span><span class="mf">89.431999</span>  <span class="mf">68.614215</span>  <span class="mf">105.500000</span>
 <span class="mi">9</span>     <span class="o">-</span><span class="mf">86.611112</span>  <span class="mf">63.436935</span>  <span class="mf">107.142856</span>
 <span class="mi">10</span>    <span class="o">-</span><span class="mf">78.209677</span>  <span class="mf">56.880838</span>   <span class="mf">92.103333</span>
 <span class="mi">11</span>    <span class="o">-</span><span class="mf">50.125000</span>  <span class="mf">48.861228</span>   <span class="mf">94.996428</span>
 <span class="mi">12</span>    <span class="o">-</span><span class="mf">50.332258</span>  <span class="mf">42.286879</span>   <span class="mf">94.396774</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>To use this module, you will need a BigQuery account. See
&lt;<a class="reference external" href="https://cloud.google.com/products/big-query">https://cloud.google.com/products/big-query</a>&gt; for details.</p>
<p class="last">As of 10/10/13, there is a bug in Google&#8217;s API preventing result sets
from being larger than 100,000 rows. A patch is scheduled for the week of
10/14/13.</p>
</div>
</li>
</ul>
</div>
<div class="section" id="whatsnew-0130-refactoring">
<span id="id94"></span><h3>Internal Refactoring<a class="headerlink" href="#whatsnew-0130-refactoring" title="Permalink to this headline">¶</a></h3>
<p>In 0.13.0 there is a major refactor primarily to subclass <code class="docutils literal"><span class="pre">Series</span></code> from
<code class="docutils literal"><span class="pre">NDFrame</span></code>, which is the base class currently for <code class="docutils literal"><span class="pre">DataFrame</span></code> and <code class="docutils literal"><span class="pre">Panel</span></code>,
to unify methods and behaviors. Series formerly subclassed directly from
<code class="docutils literal"><span class="pre">ndarray</span></code>. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4080">GH4080</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3862">GH3862</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/816">GH816</a>)</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>There are two potential incompatibilities from &lt; 0.13.0</p>
<ul class="last">
<li><p class="first">Using certain numpy functions would previously return a <code class="docutils literal"><span class="pre">Series</span></code> if passed a <code class="docutils literal"><span class="pre">Series</span></code>
as an argument. This seems only to affect <code class="docutils literal"><span class="pre">np.ones_like</span></code>, <code class="docutils literal"><span class="pre">np.empty_like</span></code>,
<code class="docutils literal"><span class="pre">np.diff</span></code> and <code class="docutils literal"><span class="pre">np.where</span></code>. These now return <code class="docutils literal"><span class="pre">ndarrays</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [125]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<p>Numpy Usage</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [126]: </span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gr">Out[126]: </span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [127]: </span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gr">Out[127]: </span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [128]: </span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">s</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<span class="gr">Out[128]: </span><span class="n">array</span><span class="p">([</span> <span class="n">nan</span><span class="p">,</span>   <span class="mf">2.</span><span class="p">,</span>   <span class="mf">3.</span><span class="p">,</span>   <span class="mf">4.</span><span class="p">])</span>
</pre></div>
</div>
<p>Pandonic Usage</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [129]: </span><span class="n">Series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="gr">Out[129]: </span>
<span class="go">0    1</span>
<span class="go">1    1</span>
<span class="go">2    1</span>
<span class="go">3    1</span>
<span class="go">dtype: int64</span>

<span class="gp">In [130]: </span><span class="n">s</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
<span class="gr">Out[130]: </span>
<span class="go">0    NaN</span>
<span class="go">1    1.0</span>
<span class="go">2    1.0</span>
<span class="go">3    1.0</span>
<span class="go">dtype: float64</span>

<span class="gp">In [131]: </span><span class="n">s</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">s</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">)</span>
<span class="gr">Out[131]: </span>
<span class="go">0    NaN</span>
<span class="go">1    2.0</span>
<span class="go">2    3.0</span>
<span class="go">3    4.0</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first">Passing a <code class="docutils literal"><span class="pre">Series</span></code> directly to a cython function expecting an <code class="docutils literal"><span class="pre">ndarray</span></code> type will no
long work directly, you must pass <code class="docutils literal"><span class="pre">Series.values</span></code>, See <a class="reference internal" href="enhancingperf.html#enhancingperf-ndarray"><span class="std std-ref">Enhancing Performance</span></a></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series(0.5)</span></code> would previously return the scalar <code class="docutils literal"><span class="pre">0.5</span></code>, instead this will return a 1-element <code class="docutils literal"><span class="pre">Series</span></code></p>
</li>
<li><p class="first">This change breaks <code class="docutils literal"><span class="pre">rpy2&lt;=2.3.8</span></code>. an Issue has been opened against rpy2 and a workaround
is detailed in <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/5698">GH5698</a>. Thanks &#64;JanSchulz.</p>
</li>
</ul>
</div>
<ul>
<li><p class="first">Pickle compatibility is preserved for pickles created prior to 0.13. These must be unpickled with <code class="docutils literal"><span class="pre">pd.read_pickle</span></code>, see <a class="reference internal" href="io.html#io-pickle"><span class="std std-ref">Pickling</span></a>.</p>
</li>
<li><p class="first">Refactor of series.py/frame.py/panel.py to move common code to generic.py</p>
<ul class="simple">
<li>added <code class="docutils literal"><span class="pre">_setup_axes</span></code> to created generic NDFrame structures</li>
<li>moved methods<ul>
<li><code class="docutils literal"><span class="pre">from_axes,_wrap_array,axes,ix,loc,iloc,shape,empty,swapaxes,transpose,pop</span></code></li>
<li><code class="docutils literal"><span class="pre">__iter__,keys,__contains__,__len__,__neg__,__invert__</span></code></li>
<li><code class="docutils literal"><span class="pre">convert_objects,as_blocks,as_matrix,values</span></code></li>
<li><code class="docutils literal"><span class="pre">__getstate__,__setstate__</span></code> (compat remains in frame/panel)</li>
<li><code class="docutils literal"><span class="pre">__getattr__,__setattr__</span></code></li>
<li><code class="docutils literal"><span class="pre">_indexed_same,reindex_like,align,where,mask</span></code></li>
<li><code class="docutils literal"><span class="pre">fillna,replace</span></code> (<code class="docutils literal"><span class="pre">Series</span></code> replace is now consistent with <code class="docutils literal"><span class="pre">DataFrame</span></code>)</li>
<li><code class="docutils literal"><span class="pre">filter</span></code> (also added axis argument to selectively filter on a different axis)</li>
<li><code class="docutils literal"><span class="pre">reindex,reindex_axis,take</span></code></li>
<li><code class="docutils literal"><span class="pre">truncate</span></code> (moved to become part of <code class="docutils literal"><span class="pre">NDFrame</span></code>)</li>
</ul>
</li>
</ul>
</li>
<li><p class="first">These are API changes which make <code class="docutils literal"><span class="pre">Panel</span></code> more consistent with <code class="docutils literal"><span class="pre">DataFrame</span></code></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">swapaxes</span></code> on a <code class="docutils literal"><span class="pre">Panel</span></code> with the same axes specified now return a copy</li>
<li>support attribute access for setting</li>
<li>filter supports the same API as the original <code class="docutils literal"><span class="pre">DataFrame</span></code> filter</li>
</ul>
</li>
<li><p class="first">Reindex called with no arguments will now return a copy of the input object</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">TimeSeries</span></code> is now an alias for <code class="docutils literal"><span class="pre">Series</span></code>. the property <code class="docutils literal"><span class="pre">is_time_series</span></code>
can be used to distinguish (if desired)</p>
</li>
<li><p class="first">Refactor of Sparse objects to use BlockManager</p>
<ul class="simple">
<li>Created a new block type in internals, <code class="docutils literal"><span class="pre">SparseBlock</span></code>, which can hold multi-dtypes
and is non-consolidatable. <code class="docutils literal"><span class="pre">SparseSeries</span></code> and <code class="docutils literal"><span class="pre">SparseDataFrame</span></code> now inherit
more methods from there hierarchy (Series/DataFrame), and no longer inherit
from <code class="docutils literal"><span class="pre">SparseArray</span></code> (which instead is the object of the <code class="docutils literal"><span class="pre">SparseBlock</span></code>)</li>
<li>Sparse suite now supports integration with non-sparse data. Non-float sparse
data is supportable (partially implemented)</li>
<li>Operations on sparse structures within DataFrames should preserve sparseness,
merging type operations will convert to dense (and back to sparse), so might
be somewhat inefficient</li>
<li>enable setitem on <code class="docutils literal"><span class="pre">SparseSeries</span></code> for boolean/integer/slices</li>
<li><code class="docutils literal"><span class="pre">SparsePanels</span></code> implementation is unchanged (e.g. not using BlockManager, needs work)</li>
</ul>
</li>
<li><p class="first">added <code class="docutils literal"><span class="pre">ftypes</span></code> method to Series/DataFrame, similar to <code class="docutils literal"><span class="pre">dtypes</span></code>, but indicates
if the underlying is sparse/dense (as well as the dtype)</p>
</li>
<li><p class="first">All <code class="docutils literal"><span class="pre">NDFrame</span></code> objects can now use <code class="docutils literal"><span class="pre">__finalize__()</span></code> to specify various
values to propagate to new objects from an existing one (e.g. <code class="docutils literal"><span class="pre">name</span></code> in <code class="docutils literal"><span class="pre">Series</span></code> will
follow more automatically now)</p>
</li>
<li><p class="first">Internal type checking is now done via a suite of generated classes, allowing <code class="docutils literal"><span class="pre">isinstance(value,</span> <span class="pre">klass)</span></code>
without having to directly import the klass, courtesy of &#64;jtratner</p>
</li>
<li><p class="first">Bug in Series update where the parent frame is not updating its cache based on
changes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4080">GH4080</a>) or types (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3217">GH3217</a>), fillna (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3386">GH3386</a>)</p>
</li>
<li><p class="first">Indexing with dtype conversions fixed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4463">GH4463</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4204">GH4204</a>)</p>
</li>
<li><p class="first">Refactor <code class="docutils literal"><span class="pre">Series.reindex</span></code> to core/generic.py (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4604">GH4604</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4618">GH4618</a>), allow <code class="docutils literal"><span class="pre">method=</span></code> in reindexing
on a Series to work</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series.copy</span></code> no longer accepts the <code class="docutils literal"><span class="pre">order</span></code> parameter and is now consistent with <code class="docutils literal"><span class="pre">NDFrame</span></code> copy</p>
</li>
<li><p class="first">Refactor <code class="docutils literal"><span class="pre">rename</span></code> methods to core/generic.py; fixes <code class="docutils literal"><span class="pre">Series.rename</span></code> for (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4605">GH4605</a>), and adds <code class="docutils literal"><span class="pre">rename</span></code>
with the same signature for <code class="docutils literal"><span class="pre">Panel</span></code></p>
</li>
<li><p class="first">Refactor <code class="docutils literal"><span class="pre">clip</span></code> methods to core/generic.py (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4798">GH4798</a>)</p>
</li>
<li><p class="first">Refactor of <code class="docutils literal"><span class="pre">_get_numeric_data/_get_bool_data</span></code> to core/generic.py, allowing Series/Panel functionality</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series</span></code> (for index) / <code class="docutils literal"><span class="pre">Panel</span></code> (for items) now allow attribute access to its elements  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1903">GH1903</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [132]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">))</span>

<span class="gp">In [133]: </span><span class="n">s</span><span class="o">.</span><span class="n">b</span>
<span class="gr">Out[133]: </span><span class="mi">2</span>

<span class="gp">In [134]: </span><span class="n">s</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">5</span>

<span class="gp">In [135]: </span><span class="n">s</span>
<span class="gr">Out[135]: </span>
<span class="go">a    5</span>
<span class="go">b    2</span>
<span class="go">c    3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id95">
<h3>Bug Fixes<a class="headerlink" href="#id95" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="release.html#release-bug-fixes-0-13-0"><span class="std std-ref">V0.13.0 Bug Fixes</span></a> for an extensive list of bugs that have been fixed in 0.13.0.</p>
<p>See the <a class="reference internal" href="release.html#release"><span class="std std-ref">full release notes</span></a> or issue tracker
on GitHub for a complete list of all API changes, Enhancements and Bug Fixes.</p>
</div>
</div>
<div class="section" id="v0-12-0-july-24-2013">
<span id="whatsnew-0120"></span><h2>v0.12.0 (July 24, 2013)<a class="headerlink" href="#v0-12-0-july-24-2013" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.11.0 and includes several new features and
enhancements along with a large number of bug fixes.</p>
<p>Highlights include a consistent I/O API naming scheme, routines to read html,
write multi-indexes to csv files, read &amp; write STATA data files, read &amp; write JSON format
files, Python 3 support for <code class="docutils literal"><span class="pre">HDFStore</span></code>, filtering of groupby expressions via <code class="docutils literal"><span class="pre">filter</span></code>, and a
revamped <code class="docutils literal"><span class="pre">replace</span></code> routine that accepts regular expressions.</p>
<div class="section" id="id96">
<h3>API changes<a class="headerlink" href="#id96" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">The I/O API is now much more consistent with a set of top level <code class="docutils literal"><span class="pre">reader</span></code> functions
accessed like <code class="docutils literal"><span class="pre">pd.read_csv()</span></code> that generally return a <code class="docutils literal"><span class="pre">pandas</span></code> object.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">read_csv</span></code></li>
<li><code class="docutils literal"><span class="pre">read_excel</span></code></li>
<li><code class="docutils literal"><span class="pre">read_hdf</span></code></li>
<li><code class="docutils literal"><span class="pre">read_sql</span></code></li>
<li><code class="docutils literal"><span class="pre">read_json</span></code></li>
<li><code class="docutils literal"><span class="pre">read_html</span></code></li>
<li><code class="docutils literal"><span class="pre">read_stata</span></code></li>
<li><code class="docutils literal"><span class="pre">read_clipboard</span></code></li>
</ul>
<p>The corresponding <code class="docutils literal"><span class="pre">writer</span></code> functions are object methods that are accessed like <code class="docutils literal"><span class="pre">df.to_csv()</span></code></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">to_csv</span></code></li>
<li><code class="docutils literal"><span class="pre">to_excel</span></code></li>
<li><code class="docutils literal"><span class="pre">to_hdf</span></code></li>
<li><code class="docutils literal"><span class="pre">to_sql</span></code></li>
<li><code class="docutils literal"><span class="pre">to_json</span></code></li>
<li><code class="docutils literal"><span class="pre">to_html</span></code></li>
<li><code class="docutils literal"><span class="pre">to_stata</span></code></li>
<li><code class="docutils literal"><span class="pre">to_clipboard</span></code></li>
</ul>
</li>
<li><p class="first">Fix modulo and integer division on Series,DataFrames to act similary to <code class="docutils literal"><span class="pre">float</span></code> dtypes to return
<code class="docutils literal"><span class="pre">np.nan</span></code> or <code class="docutils literal"><span class="pre">np.inf</span></code> as appropriate (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3590">GH3590</a>). This correct a numpy bug that treats <code class="docutils literal"><span class="pre">integer</span></code>
and <code class="docutils literal"><span class="pre">float</span></code> dtypes differently.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span> <span class="s1">&#39;first&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="s1">&#39;second&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="p">})</span>

<span class="gp">In [2]: </span><span class="n">p</span> <span class="o">%</span> <span class="mi">0</span>
<span class="gr">Out[2]: </span>
<span class="go">   first  second</span>
<span class="go">0    NaN     NaN</span>
<span class="go">1    NaN     NaN</span>
<span class="go">2    NaN     NaN</span>

<span class="go">[3 rows x 2 columns]</span>

<span class="gp">In [3]: </span><span class="n">p</span> <span class="o">%</span> <span class="n">p</span>
<span class="gr">Out[3]: </span>
<span class="go">   first  second</span>
<span class="go">0    0.0     NaN</span>
<span class="go">1    0.0     NaN</span>
<span class="go">2    0.0     0.0</span>

<span class="go">[3 rows x 2 columns]</span>

<span class="gp">In [4]: </span><span class="n">p</span> <span class="o">/</span> <span class="n">p</span>
<span class="gr">Out[4]: </span>
<span class="go">   first  second</span>
<span class="go">0    1.0     NaN</span>
<span class="go">1    1.0     NaN</span>
<span class="go">2    1.0     1.0</span>

<span class="go">[3 rows x 2 columns]</span>

<span class="gp">In [5]: </span><span class="n">p</span> <span class="o">/</span> <span class="mi">0</span>
<span class="gr">Out[5]: </span>
<span class="go">   first  second</span>
<span class="go">0    inf     NaN</span>
<span class="go">1    inf     NaN</span>
<span class="go">2    inf     inf</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">Add <code class="docutils literal"><span class="pre">squeeze</span></code> keyword to <code class="docutils literal"><span class="pre">groupby</span></code> to allow reduction from
DataFrame -&gt; Series if groups are unique. This is a Regression from 0.10.1.
We are reverting back to the prior behavior. This means groupby will return the
same shaped objects whether the groups are unique or not. Revert this issue (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2893">GH2893</a>)
with (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3596">GH3596</a>).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">([{</span><span class="s2">&quot;val1&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;val2&quot;</span> <span class="p">:</span> <span class="mi">20</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;val1&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;val2&quot;</span><span class="p">:</span> <span class="mi">19</span><span class="p">},</span>
<span class="gp">   ...:</span>                  <span class="p">{</span><span class="s2">&quot;val1&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;val2&quot;</span><span class="p">:</span> <span class="mi">27</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;val1&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;val2&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">}])</span>
<span class="gp">   ...:</span> 

<span class="gp">In [7]: </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">dataf</span><span class="p">):</span>
<span class="gp">   ...:</span>     <span class="k">return</span> <span class="n">dataf</span><span class="p">[</span><span class="s2">&quot;val2&quot;</span><span class="p">]</span>  <span class="o">-</span> <span class="n">dataf</span><span class="p">[</span><span class="s2">&quot;val2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gp">   ...:</span> 

<span class="c"># squeezing the result frame to a series (because we have unique groups)</span>
<span class="gp">In [8]: </span><span class="n">df2</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;val1&quot;</span><span class="p">,</span> <span class="n">squeeze</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gr">Out[8]: </span>
<span class="go">0    0.5</span>
<span class="go">1   -0.5</span>
<span class="go">2    7.5</span>
<span class="go">3   -7.5</span>
<span class="go">Name: 1, dtype: float64</span>

<span class="c"># no squeezing (the default, and behavior in 0.10.1)</span>
<span class="gp">In [9]: </span><span class="n">df2</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;val1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gr">Out[9]: </span>
<span class="go">val2    0    1    2    3</span>
<span class="go">val1                    </span>
<span class="go">1     0.5 -0.5  7.5 -7.5</span>

<span class="go">[1 rows x 4 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">Raise on <code class="docutils literal"><span class="pre">iloc</span></code> when boolean indexing with a label based indexer mask
e.g. a boolean Series, even with integer labels, will raise. Since <code class="docutils literal"><span class="pre">iloc</span></code>
is purely positional based, the labels on the Series are not alignable (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3631">GH3631</a>)</p>
<p>This case is rarely used, and there are plently of alternatives. This preserves the
<code class="docutils literal"><span class="pre">iloc</span></code> API to be <em>purely</em> positional based.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [10]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">lrange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABCDE&#39;</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>

<span class="gp">In [11]: </span><span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">a</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>

<span class="gp">In [12]: </span><span class="n">mask</span>
<span class="gr">Out[12]: </span>
<span class="go">A     True</span>
<span class="go">B    False</span>
<span class="go">C     True</span>
<span class="go">D    False</span>
<span class="go">E     True</span>
<span class="go">Name: a, dtype: bool</span>

<span class="c"># this is what you should use</span>
<span class="gp">In [13]: </span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
<span class="gr">Out[13]: </span>
<span class="go">   a</span>
<span class="go">A  0</span>
<span class="go">C  2</span>
<span class="go">E  4</span>

<span class="go">[3 rows x 1 columns]</span>

<span class="c"># this will work as well</span>
<span class="gp">In [14]: </span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">mask</span><span class="o">.</span><span class="n">values</span><span class="p">]</span>
<span class="gr">Out[14]: </span>
<span class="go">   a</span>
<span class="go">A  0</span>
<span class="go">C  2</span>
<span class="go">E  4</span>

<span class="go">[3 rows x 1 columns]</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">df.iloc[mask]</span></code> will raise a <code class="docutils literal"><span class="pre">ValueError</span></code></p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">raise_on_error</span></code> argument to plotting functions is removed. Instead,
plotting functions raise a <code class="docutils literal"><span class="pre">TypeError</span></code> when the <code class="docutils literal"><span class="pre">dtype</span></code> of the object
is <code class="docutils literal"><span class="pre">object</span></code> to remind you to avoid <code class="docutils literal"><span class="pre">object</span></code> arrays whenever possible
and thus you should cast to an appropriate numeric dtype if you need to
plot something.</p>
</li>
<li><p class="first">Add <code class="docutils literal"><span class="pre">colormap</span></code> keyword to DataFrame plotting methods. Accepts either a
matplotlib colormap object (ie, matplotlib.cm.jet) or a string name of such
an object (ie, &#8216;jet&#8217;). The colormap is sampled to select the color for each
column. Please see <a class="reference internal" href="visualization.html#visualization-colormaps"><span class="std std-ref">Colormaps</span></a> for more information.
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3860">GH3860</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.interpolate()</span></code> is now deprecated. Please use
<code class="docutils literal"><span class="pre">DataFrame.fillna()</span></code> and <code class="docutils literal"><span class="pre">DataFrame.replace()</span></code> instead. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3582">GH3582</a>,
<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3675">GH3675</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3676">GH3676</a>)</p>
</li>
<li><p class="first">the <code class="docutils literal"><span class="pre">method</span></code> and <code class="docutils literal"><span class="pre">axis</span></code> arguments of <code class="docutils literal"><span class="pre">DataFrame.replace()</span></code> are
deprecated</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.replace</span></code> &#8216;s <code class="docutils literal"><span class="pre">infer_types</span></code> parameter is removed and now
performs conversion by default. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3907">GH3907</a>)</p>
</li>
<li><p class="first">Add the keyword <code class="docutils literal"><span class="pre">allow_duplicates</span></code> to <code class="docutils literal"><span class="pre">DataFrame.insert</span></code> to allow a duplicate column
to be inserted if <code class="docutils literal"><span class="pre">True</span></code>, default is <code class="docutils literal"><span class="pre">False</span></code> (same as prior to 0.12) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3679">GH3679</a>)</p>
</li>
<li><p class="first">Implement <code class="docutils literal"><span class="pre">__nonzero__</span></code> for <code class="docutils literal"><span class="pre">NDFrame</span></code> objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3691">GH3691</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3696">GH3696</a>)</p>
</li>
<li><p class="first">IO api</p>
<ul>
<li><p class="first">added top-level function <code class="docutils literal"><span class="pre">read_excel</span></code> to replace the following,
The original API is deprecated and will be removed in a future version</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pandas.io.parsers</span> <span class="kn">import</span> <span class="n">ExcelFile</span>
<span class="n">xls</span> <span class="o">=</span> <span class="n">ExcelFile</span><span class="p">(</span><span class="s1">&#39;path_to_file.xls&#39;</span><span class="p">)</span>
<span class="n">xls</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;Sheet1&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">na_values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;NA&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>With</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;path_to_file.xls&#39;</span><span class="p">,</span> <span class="s1">&#39;Sheet1&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">na_values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;NA&#39;</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p class="first">added top-level function <code class="docutils literal"><span class="pre">read_sql</span></code> that is equivalent to the following</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pandas.io.sql</span> <span class="kn">import</span> <span class="n">read_frame</span>
<span class="n">read_frame</span><span class="p">(</span><span class="o">....</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.to_html</span></code> and <code class="docutils literal"><span class="pre">DataFrame.to_latex</span></code> now accept a path for
their first argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3702">GH3702</a>)</p>
</li>
<li><p class="first">Do not allow astypes on <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> except to <code class="docutils literal"><span class="pre">object</span></code>, and
<code class="docutils literal"><span class="pre">timedelta64[ns]</span></code> to <code class="docutils literal"><span class="pre">object/int</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3425">GH3425</a>)</p>
</li>
<li><p class="first">The behavior of <code class="docutils literal"><span class="pre">datetime64</span></code> dtypes has changed with respect to certain
so-called reduction operations (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3726">GH3726</a>). The following operations now
raise a <code class="docutils literal"><span class="pre">TypeError</span></code> when perfomed on a <code class="docutils literal"><span class="pre">Series</span></code> and return an <em>empty</em>
<code class="docutils literal"><span class="pre">Series</span></code> when performed on a <code class="docutils literal"><span class="pre">DataFrame</span></code> similar to performing these
operations on, for example, a <code class="docutils literal"><span class="pre">DataFrame</span></code> of <code class="docutils literal"><span class="pre">slice</span></code> objects:</p>
<ul class="simple">
<li>sum, prod, mean, std, var, skew, kurt, corr, and cov</li>
</ul>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">read_html</span></code> now defaults to <code class="docutils literal"><span class="pre">None</span></code> when reading, and falls back on
<code class="docutils literal"><span class="pre">bs4</span></code> + <code class="docutils literal"><span class="pre">html5lib</span></code> when lxml fails to parse. a list of parsers to try
until success is also valid</p>
</li>
<li><p class="first">The internal <code class="docutils literal"><span class="pre">pandas</span></code> class hierarchy has changed (slightly). The
previous <code class="docutils literal"><span class="pre">PandasObject</span></code> now is called <code class="docutils literal"><span class="pre">PandasContainer</span></code> and a new
<code class="docutils literal"><span class="pre">PandasObject</span></code> has become the baseclass for <code class="docutils literal"><span class="pre">PandasContainer</span></code> as well
as <code class="docutils literal"><span class="pre">Index</span></code>, <code class="docutils literal"><span class="pre">Categorical</span></code>, <code class="docutils literal"><span class="pre">GroupBy</span></code>, <code class="docutils literal"><span class="pre">SparseList</span></code>, and
<code class="docutils literal"><span class="pre">SparseArray</span></code> (+ their base classes). Currently, <code class="docutils literal"><span class="pre">PandasObject</span></code>
provides string methods (from <code class="docutils literal"><span class="pre">StringMixin</span></code>). (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4090">GH4090</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4092">GH4092</a>)</p>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">StringMixin</span></code> that, given a <code class="docutils literal"><span class="pre">__unicode__</span></code> method, gets python 2 and
python 3 compatible string methods (<code class="docutils literal"><span class="pre">__str__</span></code>, <code class="docutils literal"><span class="pre">__bytes__</span></code>, and
<code class="docutils literal"><span class="pre">__repr__</span></code>). Plus string safety throughout. Now employed in many places
throughout the pandas library. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4090">GH4090</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4092">GH4092</a>)</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="i-o-enhancements">
<h3>I/O Enhancements<a class="headerlink" href="#i-o-enhancements" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.read_html()</span></code> can now parse HTML strings, files or urls and return
DataFrames, courtesy of &#64;cpcloud. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3477">GH3477</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3605">GH3605</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3606">GH3606</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3616">GH3616</a>).
It works with a <em>single</em> parser backend: BeautifulSoup4 + html5lib <a class="reference internal" href="io.html#io-html"><span class="std std-ref">See the docs</span></a></p>
<p>You can use <code class="docutils literal"><span class="pre">pd.read_html()</span></code> to read the output from <code class="docutils literal"><span class="pre">DataFrame.to_html()</span></code> like so</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">)})</span>

<span class="gp">In [16]: </span><span class="k">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="go">   a  b</span>
<span class="go">0  0  a</span>
<span class="go">1  1  b</span>
<span class="go">2  2  c</span>

<span class="go">[3 rows x 2 columns]</span>

<span class="gp">In [17]: </span><span class="n">html</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_html</span><span class="p">()</span>

<span class="gp">In [18]: </span><span class="n">alist</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="gp">In [19]: </span><span class="k">print</span><span class="p">(</span><span class="n">df</span> <span class="o">==</span> <span class="n">alist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">      a     b</span>
<span class="go">0  True  True</span>
<span class="go">1  True  True</span>
<span class="go">2  True  True</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal"><span class="pre">alist</span></code> here is a Python <code class="docutils literal"><span class="pre">list</span></code> so <code class="docutils literal"><span class="pre">pd.read_html()</span></code> and
<code class="docutils literal"><span class="pre">DataFrame.to_html()</span></code> are not inverses.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">pd.read_html()</span></code> no longer performs hard conversion of date strings
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3656">GH3656</a>).</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You may have to install an older version of BeautifulSoup4,
<a class="reference internal" href="install.html#install-optional-dependencies"><span class="std std-ref">See the installation docs</span></a></p>
</div>
</li>
<li><p class="first">Added module for reading and writing Stata files: <code class="docutils literal"><span class="pre">pandas.io.stata</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1512">GH1512</a>)
accessable via <code class="docutils literal"><span class="pre">read_stata</span></code> top-level function for reading,
and <code class="docutils literal"><span class="pre">to_stata</span></code> DataFrame method for writing, <a class="reference internal" href="io.html#io-stata"><span class="std std-ref">See the docs</span></a></p>
</li>
<li><p class="first">Added module for reading and writing json format files: <code class="docutils literal"><span class="pre">pandas.io.json</span></code>
accessable via <code class="docutils literal"><span class="pre">read_json</span></code> top-level function for reading,
and <code class="docutils literal"><span class="pre">to_json</span></code> DataFrame method for writing, <a class="reference internal" href="io.html#io-json"><span class="std std-ref">See the docs</span></a>
various issues (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1226">GH1226</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3804">GH3804</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3876">GH3876</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3867">GH3867</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1305">GH1305</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">MultiIndex</span></code> column support for reading and writing csv format files</p>
<ul>
<li><p class="first">The <code class="docutils literal"><span class="pre">header</span></code> option in <code class="docutils literal"><span class="pre">read_csv</span></code> now accepts a
list of the rows from which to read the index.</p>
</li>
<li><p class="first">The option, <code class="docutils literal"><span class="pre">tupleize_cols</span></code> can now be specified in both <code class="docutils literal"><span class="pre">to_csv</span></code> and
<code class="docutils literal"><span class="pre">read_csv</span></code>, to provide compatiblity for the pre 0.12 behavior of
writing and reading <code class="docutils literal"><span class="pre">MultIndex</span></code> columns via a list of tuples. The default in
0.12 is to write lists of tuples and <em>not</em> interpret list of tuples as a
<code class="docutils literal"><span class="pre">MultiIndex</span></code> column.</p>
<p>Note: The default behavior in 0.12 remains unchanged from prior versions, but starting with 0.13,
the default <em>to</em> write and read <code class="docutils literal"><span class="pre">MultiIndex</span></code> columns will be in the new
format. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3571">GH3571</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1651">GH1651</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3141">GH3141</a>)</p>
</li>
<li><p class="first">If an <code class="docutils literal"><span class="pre">index_col</span></code> is not specified (e.g. you don&#8217;t have an index, or wrote it
with <code class="docutils literal"><span class="pre">df.to_csv(...,</span> <span class="pre">index=False</span></code>), then any <code class="docutils literal"><span class="pre">names</span></code> on the columns index will
be <em>lost</em>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [20]: </span><span class="kn">from</span> <span class="nn">pandas.util.testing</span> <span class="kn">import</span> <span class="n">makeCustomDataframe</span> <span class="k">as</span> <span class="n">mkdf</span>

<span class="gp">In [21]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">mkdf</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">r_idx_nlevels</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">c_idx_nlevels</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="gp">In [22]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;mi.csv&#39;</span><span class="p">,</span><span class="n">tupleize_cols</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="gp">In [23]: </span><span class="k">print</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;mi.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="go">C0,,C_l0_g0,C_l0_g1,C_l0_g2</span>
<span class="go">C1,,C_l1_g0,C_l1_g1,C_l1_g2</span>
<span class="go">C2,,C_l2_g0,C_l2_g1,C_l2_g2</span>
<span class="go">C3,,C_l3_g0,C_l3_g1,C_l3_g2</span>
<span class="go">R0,R1,,,</span>
<span class="go">R_l0_g0,R_l1_g0,R0C0,R0C1,R0C2</span>
<span class="go">R_l0_g1,R_l1_g1,R1C0,R1C1,R1C2</span>
<span class="go">R_l0_g2,R_l1_g2,R2C0,R2C1,R2C2</span>
<span class="go">R_l0_g3,R_l1_g3,R3C0,R3C1,R3C2</span>
<span class="go">R_l0_g4,R_l1_g4,R4C0,R4C1,R4C2</span>


<span class="gp">In [24]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;mi.csv&#39;</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">index_col</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">tupleize_cols</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gr">Out[24]: </span>
<span class="go">C0              C_l0_g0 C_l0_g1 C_l0_g2</span>
<span class="go">C1              C_l1_g0 C_l1_g1 C_l1_g2</span>
<span class="go">C2              C_l2_g0 C_l2_g1 C_l2_g2</span>
<span class="go">C3              C_l3_g0 C_l3_g1 C_l3_g2</span>
<span class="go">R0      R1                             </span>
<span class="go">R_l0_g0 R_l1_g0    R0C0    R0C1    R0C2</span>
<span class="go">R_l0_g1 R_l1_g1    R1C0    R1C1    R1C2</span>
<span class="go">R_l0_g2 R_l1_g2    R2C0    R2C1    R2C2</span>
<span class="go">R_l0_g3 R_l1_g3    R3C0    R3C1    R3C2</span>
<span class="go">R_l0_g4 R_l1_g4    R4C0    R4C1    R4C2</span>

<span class="go">[5 rows x 3 columns]</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first">Support for <code class="docutils literal"><span class="pre">HDFStore</span></code> (via <code class="docutils literal"><span class="pre">PyTables</span> <span class="pre">3.0.0</span></code>) on Python3</p>
</li>
<li><p class="first">Iterator support via <code class="docutils literal"><span class="pre">read_hdf</span></code> that automatically opens and closes the
store when iteration is finished. This is only for <em>tables</em></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [25]: </span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;store_iterator.h5&#39;</span>

<span class="gp">In [26]: </span><span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">to_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s1">&#39;df&#39;</span><span class="p">,</span><span class="n">table</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="gp">In [27]: </span><span class="k">for</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">read_hdf</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s1">&#39;df&#39;</span><span class="p">,</span> <span class="n">chunksize</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
<span class="gp">   ....:</span>    <span class="k">print</span> <span class="n">df</span>
<span class="gp">   ....:</span>
<span class="go">          0         1</span>
<span class="go">0  0.713216 -0.778461</span>
<span class="go">1 -0.661062  0.862877</span>
<span class="go">2  0.344342  0.149565</span>
<span class="go">          0         1</span>
<span class="go">3 -0.626968 -0.875772</span>
<span class="go">4 -0.930687 -0.218983</span>
<span class="go">5  0.949965 -0.442354</span>
<span class="go">          0         1</span>
<span class="go">6 -0.402985  1.111358</span>
<span class="go">7 -0.241527 -0.670477</span>
<span class="go">8  0.049355  0.632633</span>
<span class="go">          0         1</span>
<span class="go">9 -1.502767 -1.225492</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">read_csv</span></code> will now throw a more informative error message when a file
contains no columns, e.g., all newline characters</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id97">
<h3>Other Enhancements<a class="headerlink" href="#id97" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.replace()</span></code> now allows regular expressions on contained
<code class="docutils literal"><span class="pre">Series</span></code> with object dtype. See the examples section in the regular docs
<a class="reference internal" href="missing_data.html#missing-data-replace-expression"><span class="std std-ref">Replacing via String Expression</span></a></p>
<p>For example you can do</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [25]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ab..&#39;</span><span class="p">),</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>

<span class="gp">In [26]: </span><span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">regex</span><span class="o">=</span><span class="s1">r&#39;\s*\.\s*&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<span class="gr">Out[26]: </span>
<span class="go">     a  b</span>
<span class="go">0    a  1</span>
<span class="go">1    b  2</span>
<span class="go">2  NaN  3</span>
<span class="go">3  NaN  4</span>

<span class="go">[4 rows x 2 columns]</span>
</pre></div>
</div>
<p>to replace all occurrences of the string <code class="docutils literal"><span class="pre">'.'</span></code> with zero or more
instances of surrounding whitespace with <code class="docutils literal"><span class="pre">NaN</span></code>.</p>
<p>Regular string replacement still works as expected. For example, you can do</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [27]: </span><span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<span class="gr">Out[27]: </span>
<span class="go">     a  b</span>
<span class="go">0    a  1</span>
<span class="go">1    b  2</span>
<span class="go">2  NaN  3</span>
<span class="go">3  NaN  4</span>

<span class="go">[4 rows x 2 columns]</span>
</pre></div>
</div>
<p>to replace all occurrences of the string <code class="docutils literal"><span class="pre">'.'</span></code> with <code class="docutils literal"><span class="pre">NaN</span></code>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.melt()</span></code> now accepts the optional parameters <code class="docutils literal"><span class="pre">var_name</span></code> and <code class="docutils literal"><span class="pre">value_name</span></code>
to specify custom column names of the returned DataFrame.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pd.set_option()</span></code> now allows N option, value pairs (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3667">GH3667</a>).</p>
<blockquote>
<div><p>Let&#8217;s say that we had an option <code class="docutils literal"><span class="pre">'a.b'</span></code> and another option <code class="docutils literal"><span class="pre">'b.c'</span></code>.
We can set them at the same time:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [28]: </span><span class="n">pd</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="s1">&#39;a.b&#39;</span><span class="p">)</span>
<span class="gr">Out[28]: </span><span class="mi">2</span>

<span class="gp">In [29]: </span><span class="n">pd</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="s1">&#39;b.c&#39;</span><span class="p">)</span>
<span class="gr">Out[29]: </span><span class="mi">3</span>

<span class="gp">In [30]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;a.b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b.c&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="gp">In [31]: </span><span class="n">pd</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="s1">&#39;a.b&#39;</span><span class="p">)</span>
<span class="gr">Out[31]: </span><span class="mi">1</span>

<span class="gp">In [32]: </span><span class="n">pd</span><span class="o">.</span><span class="n">get_option</span><span class="p">(</span><span class="s1">&#39;b.c&#39;</span><span class="p">)</span>
<span class="gr">Out[32]: </span><span class="mi">4</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">filter</span></code> method for group objects returns a subset of the original
object. Suppose we want to take only elements that belong to groups with a
group sum greater than 2.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [33]: </span><span class="n">sf</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

<span class="gp">In [34]: </span><span class="n">sf</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">sf</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span>
<span class="gr">Out[34]: </span>
<span class="go">3    3</span>
<span class="go">4    3</span>
<span class="go">5    3</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>The argument of <code class="docutils literal"><span class="pre">filter</span></code> must a function that, applied to the group as a
whole, returns <code class="docutils literal"><span class="pre">True</span></code> or <code class="docutils literal"><span class="pre">False</span></code>.</p>
<p>Another useful operation is filtering out elements that belong to groups
with only a couple members.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [35]: </span><span class="n">dff</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;aabbbbcc&#39;</span><span class="p">)})</span>

<span class="gp">In [36]: </span><span class="n">dff</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span>
<span class="gr">Out[36]: </span>
<span class="go">   A  B</span>
<span class="go">2  2  b</span>
<span class="go">3  3  b</span>
<span class="go">4  4  b</span>
<span class="go">5  5  b</span>

<span class="go">[4 rows x 2 columns]</span>
</pre></div>
</div>
<p>Alternatively, instead of dropping the offending groups, we can return a
like-indexed objects where the groups that do not pass the filter are
filled with NaNs.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [37]: </span><span class="n">dff</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gr">Out[37]: </span>
<span class="go">     A    B</span>
<span class="go">0  NaN  NaN</span>
<span class="go">1  NaN  NaN</span>
<span class="go">2  2.0    b</span>
<span class="go">3  3.0    b</span>
<span class="go">4  4.0    b</span>
<span class="go">5  5.0    b</span>
<span class="go">6  NaN  NaN</span>
<span class="go">7  NaN  NaN</span>

<span class="go">[8 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">Series and DataFrame hist methods now take a <code class="docutils literal"><span class="pre">figsize</span></code> argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3834">GH3834</a>)</p>
</li>
<li><p class="first">DatetimeIndexes no longer try to convert mixed-integer indexes during join
operations (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3877">GH3877</a>)</p>
</li>
<li><p class="first">Timestamp.min and Timestamp.max now represent valid Timestamp instances instead
of the default datetime.min and datetime.max (respectively), thanks &#64;SleepingPills</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">read_html</span></code> now raises when no tables are found and BeautifulSoup==4.2.0
is detected (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4214">GH4214</a>)</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="experimental-features">
<h3>Experimental Features<a class="headerlink" href="#experimental-features" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">Added experimental <code class="docutils literal"><span class="pre">CustomBusinessDay</span></code> class to support <code class="docutils literal"><span class="pre">DateOffsets</span></code>
with custom holiday calendars and custom weekmasks. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2301">GH2301</a>)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This uses the <code class="docutils literal"><span class="pre">numpy.busdaycalendar</span></code> API introduced in Numpy 1.7 and
therefore requires Numpy 1.7.0 or newer.</p>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [38]: </span><span class="kn">from</span> <span class="nn">pandas.tseries.offsets</span> <span class="kn">import</span> <span class="n">CustomBusinessDay</span>

<span class="gp">In [39]: </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="c"># As an interesting example, let&#39;s look at Egypt where</span>
<span class="c"># a Friday-Saturday weekend is observed.</span>
<span class="gp">In [40]: </span><span class="n">weekmask_egypt</span> <span class="o">=</span> <span class="s1">&#39;Sun Mon Tue Wed Thu&#39;</span>

<span class="c"># They also observe International Workers&#39; Day so let&#39;s</span>
<span class="c"># add that for a couple of years</span>
<span class="gp">In [41]: </span><span class="n">holidays</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;2012-05-01&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">datetime64</span><span class="p">(</span><span class="s1">&#39;2014-05-01&#39;</span><span class="p">)]</span>

<span class="gp">In [42]: </span><span class="n">bday_egypt</span> <span class="o">=</span> <span class="n">CustomBusinessDay</span><span class="p">(</span><span class="n">holidays</span><span class="o">=</span><span class="n">holidays</span><span class="p">,</span> <span class="n">weekmask</span><span class="o">=</span><span class="n">weekmask_egypt</span><span class="p">)</span>

<span class="gp">In [43]: </span><span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

<span class="gp">In [44]: </span><span class="k">print</span><span class="p">(</span><span class="n">dt</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">bday_egypt</span><span class="p">)</span>
<span class="go">2013-05-05 00:00:00</span>

<span class="gp">In [45]: </span><span class="n">dts</span> <span class="o">=</span> <span class="n">date_range</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="n">bday_egypt</span><span class="p">)</span>

<span class="gp">In [46]: </span><span class="k">print</span><span class="p">(</span><span class="n">Series</span><span class="p">(</span><span class="n">dts</span><span class="o">.</span><span class="n">weekday</span><span class="p">,</span> <span class="n">dts</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">Series</span><span class="p">(</span><span class="s1">&#39;Mon Tue Wed Thu Fri Sat Sun&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">())))</span>
<span class="go">2013-04-30    Tue</span>
<span class="go">2013-05-02    Thu</span>
<span class="go">2013-05-05    Sun</span>
<span class="go">2013-05-06    Mon</span>
<span class="go">2013-05-07    Tue</span>
<span class="go">Freq: C, dtype: object</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id98">
<h3>Bug Fixes<a class="headerlink" href="#id98" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">Plotting functions now raise a <code class="docutils literal"><span class="pre">TypeError</span></code> before trying to plot anything
if the associated objects have have a dtype of <code class="docutils literal"><span class="pre">object</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1818">GH1818</a>,
<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3572">GH3572</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3911">GH3911</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3912">GH3912</a>), but they will try to convert object arrays to
numeric arrays if possible so that you can still plot, for example, an
object array with floats. This happens before any drawing takes place which
elimnates any spurious plots from showing up.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">fillna</span></code> methods now raise a <code class="docutils literal"><span class="pre">TypeError</span></code> if the <code class="docutils literal"><span class="pre">value</span></code> parameter is
a list or tuple.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series.str</span></code> now supports iteration (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3638">GH3638</a>). You can iterate over the
individual elements of each string in the <code class="docutils literal"><span class="pre">Series</span></code>. Each iteration yields
yields a <code class="docutils literal"><span class="pre">Series</span></code> with either a single character at each index of the
original <code class="docutils literal"><span class="pre">Series</span></code> or <code class="docutils literal"><span class="pre">NaN</span></code>. For example,</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [47]: </span><span class="n">strs</span> <span class="o">=</span> <span class="s1">&#39;go&#39;</span><span class="p">,</span> <span class="s1">&#39;bow&#39;</span><span class="p">,</span> <span class="s1">&#39;joe&#39;</span><span class="p">,</span> <span class="s1">&#39;slow&#39;</span>

<span class="gp">In [48]: </span><span class="n">ds</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">strs</span><span class="p">)</span>

<span class="gp">In [49]: </span><span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">ds</span><span class="o">.</span><span class="n">str</span><span class="p">:</span>
<span class="gp">   ....:</span>     <span class="k">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="go">0    g</span>
<span class="go">1    b</span>
<span class="go">2    j</span>
<span class="go">3    s</span>
<span class="go">dtype: object</span>
<span class="go">0    o</span>
<span class="go">1    o</span>
<span class="go">2    o</span>
<span class="go">3    l</span>
<span class="go">dtype: object</span>
<span class="go">0    NaN</span>
<span class="go">1      w</span>
<span class="go">2      e</span>
<span class="go">3      o</span>
<span class="go">dtype: object</span>
<span class="go">0    NaN</span>
<span class="go">1    NaN</span>
<span class="go">2    NaN</span>
<span class="go">3      w</span>
<span class="go">dtype: object</span>

<span class="gp">In [50]: </span><span class="n">s</span>
<span class="gr">Out[50]: </span>
<span class="go">0    NaN</span>
<span class="go">1    NaN</span>
<span class="go">2    NaN</span>
<span class="go">3      w</span>
<span class="go">dtype: object</span>

<span class="gp">In [51]: </span><span class="n">s</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">item</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;w&#39;</span>
<span class="gr">Out[51]: </span><span class="bp">True</span>
</pre></div>
</div>
<p>The last element yielded by the iterator will be a <code class="docutils literal"><span class="pre">Series</span></code> containing
the last element of the longest string in the <code class="docutils literal"><span class="pre">Series</span></code> with all other
elements being <code class="docutils literal"><span class="pre">NaN</span></code>. Here since <code class="docutils literal"><span class="pre">'slow'</span></code> is the longest string
and there are no other strings with the same length <code class="docutils literal"><span class="pre">'w'</span></code> is the only
non-null string in the yielded <code class="docutils literal"><span class="pre">Series</span></code>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">HDFStore</span></code></p>
<ul class="simple">
<li>will retain index attributes (freq,tz,name) on recreation (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3499">GH3499</a>)</li>
<li>will warn with a <code class="docutils literal"><span class="pre">AttributeConflictWarning</span></code> if you are attempting to append
an index with a different frequency than the existing, or attempting
to append an index with a different name than the existing</li>
<li>support datelike columns with a timezone as data_columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2852">GH2852</a>)</li>
</ul>
</li>
<li><p class="first">Non-unique index support clarified (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3468">GH3468</a>).</p>
<ul class="simple">
<li>Fix assigning a new index to a duplicate index in a DataFrame would fail (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3468">GH3468</a>)</li>
<li>Fix construction of a DataFrame with a duplicate index</li>
<li>ref_locs support to allow duplicative indices across dtypes,
allows iget support to always find the index (even across dtypes) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2194">GH2194</a>)</li>
<li>applymap on a DataFrame with a non-unique index now works
(removed warning) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2786">GH2786</a>), and fix (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3230">GH3230</a>)</li>
<li>Fix to_csv to handle non-unique columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3495">GH3495</a>)</li>
<li>Duplicate indexes with getitem will return items in the correct order (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3455">GH3455</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3457">GH3457</a>)
and handle missing elements like unique indices (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3561">GH3561</a>)</li>
<li>Duplicate indexes with and empty DataFrame.from_records will return a correct frame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3562">GH3562</a>)</li>
<li>Concat to produce a non-unique columns when duplicates are across dtypes is fixed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3602">GH3602</a>)</li>
<li>Allow insert/delete to non-unique columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3679">GH3679</a>)</li>
<li>Non-unique indexing with a slice via <code class="docutils literal"><span class="pre">loc</span></code> and friends fixed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3659">GH3659</a>)</li>
<li>Allow insert/delete to non-unique columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3679">GH3679</a>)</li>
<li>Extend <code class="docutils literal"><span class="pre">reindex</span></code> to correctly deal with non-unique indices (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3679">GH3679</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.itertuples()</span></code> now works with frames with duplicate column
names (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3873">GH3873</a>)</li>
<li>Bug in non-unique indexing via <code class="docutils literal"><span class="pre">iloc</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4017">GH4017</a>); added <code class="docutils literal"><span class="pre">takeable</span></code> argument to
<code class="docutils literal"><span class="pre">reindex</span></code> for location-based taking</li>
<li>Allow non-unique indexing in series via <code class="docutils literal"><span class="pre">.ix/.loc</span></code> and <code class="docutils literal"><span class="pre">__getitem__</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4246">GH4246</a>)</li>
<li>Fixed non-unique indexing memory allocation issue with <code class="docutils literal"><span class="pre">.ix/.loc</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4280">GH4280</a>)</li>
</ul>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">DataFrame.from_records</span></code> did not accept empty recarrays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3682">GH3682</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">read_html</span></code> now correctly skips tests (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3741">GH3741</a>)</p>
</li>
<li><p class="first">Fixed a bug where <code class="docutils literal"><span class="pre">DataFrame.replace</span></code> with a compiled regular expression
in the <code class="docutils literal"><span class="pre">to_replace</span></code> argument wasn&#8217;t working (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3907">GH3907</a>)</p>
</li>
<li><p class="first">Improved <code class="docutils literal"><span class="pre">network</span></code> test decorator to catch <code class="docutils literal"><span class="pre">IOError</span></code> (and therefore
<code class="docutils literal"><span class="pre">URLError</span></code> as well). Added <code class="docutils literal"><span class="pre">with_connectivity_check</span></code> decorator to allow
explicitly checking a website as a proxy for seeing if there is network
connectivity. Plus, new <code class="docutils literal"><span class="pre">optional_args</span></code> decorator factory for decorators.
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3910">GH3910</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3914">GH3914</a>)</p>
</li>
<li><p class="first">Fixed testing issue where too many sockets where open thus leading to a
connection reset issue (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3982">GH3982</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3985">GH3985</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4028">GH4028</a>,
<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4054">GH4054</a>)</p>
</li>
<li><p class="first">Fixed failing tests in test_yahoo, test_google where symbols were not
retrieved but were being accessed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3982">GH3982</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3985">GH3985</a>,
<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4028">GH4028</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4054">GH4054</a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Series.hist</span></code> will now take the figure from the current environment if
one is not passed</p>
</li>
<li><p class="first">Fixed bug where a 1xN DataFrame would barf on a 1xN mask (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4071">GH4071</a>)</p>
</li>
<li><p class="first">Fixed running of <code class="docutils literal"><span class="pre">tox</span></code> under python3 where the pickle import was getting
rewritten in an incompatible way (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4062">GH4062</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4063">GH4063</a>)</p>
</li>
<li><p class="first">Fixed bug where sharex and sharey were not being passed to grouped_hist
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4089">GH4089</a>)</p>
</li>
<li><p class="first">Fixed bug in <code class="docutils literal"><span class="pre">DataFrame.replace</span></code> where a nested dict wasn&#8217;t being
iterated over when regex=False (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4115">GH4115</a>)</p>
</li>
<li><p class="first">Fixed bug in the parsing of microseconds when using the <code class="docutils literal"><span class="pre">format</span></code>
argument in <code class="docutils literal"><span class="pre">to_datetime</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4152">GH4152</a>)</p>
</li>
<li><p class="first">Fixed bug in <code class="docutils literal"><span class="pre">PandasAutoDateLocator</span></code> where <code class="docutils literal"><span class="pre">invert_xaxis</span></code> triggered
incorrectly <code class="docutils literal"><span class="pre">MilliSecondLocator</span></code>  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3990">GH3990</a>)</p>
</li>
<li><p class="first">Fixed bug in plotting that wasn&#8217;t raising on invalid colormap for
matplotlib 1.1.1 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4215">GH4215</a>)</p>
</li>
<li><p class="first">Fixed the legend displaying in <code class="docutils literal"><span class="pre">DataFrame.plot(kind='kde')</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4216">GH4216</a>)</p>
</li>
<li><p class="first">Fixed bug where Index slices weren&#8217;t carrying the name attribute
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4226">GH4226</a>)</p>
</li>
<li><p class="first">Fixed bug in initializing <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> with an array of strings
in a certain time zone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4229">GH4229</a>)</p>
</li>
<li><p class="first">Fixed bug where html5lib wasn&#8217;t being properly skipped (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4265">GH4265</a>)</p>
</li>
<li><p class="first">Fixed bug where get_data_famafrench wasn&#8217;t using the correct file edges
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/4281">GH4281</a>)</p>
</li>
</ul>
</div></blockquote>
<p>See the <a class="reference internal" href="release.html#release"><span class="std std-ref">full release notes</span></a> or issue tracker
on GitHub for a complete list.</p>
</div>
</div>
<div class="section" id="v0-11-0-april-22-2013">
<span id="whatsnew-0110"></span><h2>v0.11.0 (April 22, 2013)<a class="headerlink" href="#v0-11-0-april-22-2013" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.10.1 and includes many new features and
enhancements along with a large number of bug fixes. The methods of Selecting
Data have had quite a number of additions, and Dtype support is now full-fledged.
There are also a number of important API changes that long-time pandas users should
pay close attention to.</p>
<p>There is a new section in the documentation, <a class="reference internal" href="10min.html#min"><span class="std std-ref">10 Minutes to Pandas</span></a>,
primarily geared to new users.</p>
<p>There is a new section in the documentation, <a class="reference internal" href="cookbook.html#cookbook"><span class="std std-ref">Cookbook</span></a>, a collection
of useful recipes in pandas (and that we want contributions!).</p>
<p>There are several libraries that are now <a class="reference internal" href="install.html#install-recommended-dependencies"><span class="std std-ref">Recommended Dependencies</span></a></p>
<div class="section" id="selection-choices">
<h3>Selection Choices<a class="headerlink" href="#selection-choices" title="Permalink to this headline">¶</a></h3>
<p>Starting in 0.11.0, object selection has had a number of user-requested additions in
order to support more explicit location based indexing. Pandas now supports
three types of multi-axis indexing.</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">.loc</span></code> is strictly label based, will raise <code class="docutils literal"><span class="pre">KeyError</span></code> when the items are not found, allowed inputs are:</p>
<ul class="simple">
<li>A single label, e.g. <code class="docutils literal"><span class="pre">5</span></code> or <code class="docutils literal"><span class="pre">'a'</span></code>, (note that <code class="docutils literal"><span class="pre">5</span></code> is interpreted as a <em>label</em> of the index. This use is <strong>not</strong> an integer position along the index)</li>
<li>A list or array of labels <code class="docutils literal"><span class="pre">['a',</span> <span class="pre">'b',</span> <span class="pre">'c']</span></code></li>
<li>A slice object with labels <code class="docutils literal"><span class="pre">'a':'f'</span></code>, (note that contrary to usual python slices, <strong>both</strong> the start and the stop are included!)</li>
<li>A boolean array</li>
</ul>
<p>See more at <a class="reference internal" href="indexing.html#indexing-label"><span class="std std-ref">Selection by Label</span></a></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">.iloc</span></code> is strictly integer position based (from <code class="docutils literal"><span class="pre">0</span></code> to <code class="docutils literal"><span class="pre">length-1</span></code> of the axis), will raise <code class="docutils literal"><span class="pre">IndexError</span></code> when the requested indicies are out of bounds. Allowed inputs are:</p>
<ul class="simple">
<li>An integer e.g. <code class="docutils literal"><span class="pre">5</span></code></li>
<li>A list or array of integers <code class="docutils literal"><span class="pre">[4,</span> <span class="pre">3,</span> <span class="pre">0]</span></code></li>
<li>A slice object with ints <code class="docutils literal"><span class="pre">1:7</span></code></li>
<li>A boolean array</li>
</ul>
<p>See more at <a class="reference internal" href="indexing.html#indexing-integer"><span class="std std-ref">Selection by Position</span></a></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">.ix</span></code> supports mixed integer and label based access. It is primarily label based, but will fallback to integer positional access. <code class="docutils literal"><span class="pre">.ix</span></code> is the most general and will support
any of the inputs to <code class="docutils literal"><span class="pre">.loc</span></code> and <code class="docutils literal"><span class="pre">.iloc</span></code>, as well as support for floating point label schemes. <code class="docutils literal"><span class="pre">.ix</span></code> is especially useful when dealing with mixed positional and label
based hierarchial indexes.</p>
<p>As using integer slices with <code class="docutils literal"><span class="pre">.ix</span></code> have different behavior depending on whether the slice
is interpreted as position based or label based, it&#8217;s usually better to be
explicit and use <code class="docutils literal"><span class="pre">.iloc</span></code> or <code class="docutils literal"><span class="pre">.loc</span></code>.</p>
<p>See more at <a class="reference internal" href="advanced.html#advanced"><span class="std std-ref">Advanced Indexing</span></a> and <a class="reference internal" href="advanced.html#advanced-advanced-hierarchical"><span class="std std-ref">Advanced Hierarchical</span></a>.</p>
</li>
</ul>
</div>
<div class="section" id="selection-deprecations">
<h3>Selection Deprecations<a class="headerlink" href="#selection-deprecations" title="Permalink to this headline">¶</a></h3>
<p>Starting in version 0.11.0, these methods <em>may</em> be deprecated in future versions.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">irow</span></code></li>
<li><code class="docutils literal"><span class="pre">icol</span></code></li>
<li><code class="docutils literal"><span class="pre">iget_value</span></code></li>
</ul>
<p>See the section <a class="reference internal" href="indexing.html#indexing-integer"><span class="std std-ref">Selection by Position</span></a> for substitutes.</p>
</div>
<div class="section" id="dtypes">
<h3>Dtypes<a class="headerlink" href="#dtypes" title="Permalink to this headline">¶</a></h3>
<p>Numeric dtypes will propagate and can coexist in DataFrames. If a dtype is passed (either directly via the <code class="docutils literal"><span class="pre">dtype</span></code> keyword, a passed <code class="docutils literal"><span class="pre">ndarray</span></code>, or a passed <code class="docutils literal"><span class="pre">Series</span></code>, then it will be preserved in DataFrame operations. Furthermore, different numeric dtypes will <strong>NOT</strong> be combined. The following example will give you a taste.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df1</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="s1">&#39;float32&#39;</span><span class="p">)</span>

<span class="gp">In [2]: </span><span class="n">df1</span>
<span class="gr">Out[2]: </span>
<span class="go">          A</span>
<span class="go">0  1.392665</span>
<span class="go">1 -0.123497</span>
<span class="go">2 -0.402761</span>
<span class="go">3 -0.246604</span>
<span class="go">4 -0.288433</span>
<span class="go">5 -0.763434</span>
<span class="go">6  2.069526</span>
<span class="go">7 -1.203569</span>

<span class="go">[8 rows x 1 columns]</span>

<span class="gp">In [3]: </span><span class="n">df1</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[3]: </span>
<span class="go">A    float32</span>
<span class="go">dtype: object</span>

<span class="gp">In [4]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span> <span class="n">A</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float16&#39;</span><span class="p">),</span>
<span class="gp">   ...:</span>                       <span class="n">B</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">)),</span>
<span class="gp">   ...:</span>                       <span class="n">C</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;uint8&#39;</span><span class="p">)</span> <span class="p">))</span>
<span class="gp">   ...:</span> 

<span class="gp">In [5]: </span><span class="n">df2</span>
<span class="gr">Out[5]: </span>
<span class="go">          A         B    C</span>
<span class="go">0  0.591797 -0.038605    0</span>
<span class="go">1  0.841309 -0.460478    1</span>
<span class="go">2 -0.500977 -0.310458    0</span>
<span class="go">3 -0.816406  0.866493  254</span>
<span class="go">4 -0.207031  0.245972    0</span>
<span class="go">5 -0.664062  0.319442    1</span>
<span class="go">6  0.580566  1.378512    1</span>
<span class="go">7 -0.965820  0.292502  255</span>

<span class="go">[8 rows x 3 columns]</span>

<span class="gp">In [6]: </span><span class="n">df2</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[6]: </span>
<span class="go">A    float16</span>
<span class="go">B    float64</span>
<span class="go">C      uint8</span>
<span class="go">dtype: object</span>

<span class="c"># here you get some upcasting</span>
<span class="gp">In [7]: </span><span class="n">df3</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">reindex_like</span><span class="p">(</span><span class="n">df2</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span> <span class="o">+</span> <span class="n">df2</span>

<span class="gp">In [8]: </span><span class="n">df3</span>
<span class="gr">Out[8]: </span>
<span class="go">          A         B      C</span>
<span class="go">0  1.984462 -0.038605    0.0</span>
<span class="go">1  0.717812 -0.460478    1.0</span>
<span class="go">2 -0.903737 -0.310458    0.0</span>
<span class="go">3 -1.063011  0.866493  254.0</span>
<span class="go">4 -0.495465  0.245972    0.0</span>
<span class="go">5 -1.427497  0.319442    1.0</span>
<span class="go">6  2.650092  1.378512    1.0</span>
<span class="go">7 -2.169390  0.292502  255.0</span>

<span class="go">[8 rows x 3 columns]</span>

<span class="gp">In [9]: </span><span class="n">df3</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[9]: </span>
<span class="go">A    float32</span>
<span class="go">B    float64</span>
<span class="go">C    float64</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</div>
<div class="section" id="dtype-conversion">
<h3>Dtype Conversion<a class="headerlink" href="#dtype-conversion" title="Permalink to this headline">¶</a></h3>
<p>This is lower-common-denomicator upcasting, meaning you get the dtype which can accomodate all of the types</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [10]: </span><span class="n">df3</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[10]: </span><span class="n">dtype</span><span class="p">(</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Conversion</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">df3</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float32&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[11]: </span>
<span class="go">A    float32</span>
<span class="go">B    float32</span>
<span class="go">C    float32</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>Mixed Conversion</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="n">df3</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;1.&#39;</span>

<span class="gp">In [13]: </span><span class="n">df3</span><span class="p">[</span><span class="s1">&#39;E&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>

<span class="gp">In [14]: </span><span class="n">df3</span><span class="o">.</span><span class="n">convert_objects</span><span class="p">(</span><span class="n">convert_numeric</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[14]: </span>
<span class="go">A    float32</span>
<span class="go">B    float64</span>
<span class="go">C    float64</span>
<span class="go">D    float64</span>
<span class="go">E      int64</span>
<span class="go">dtype: object</span>

<span class="c"># same, but specific dtype conversion</span>
<span class="gp">In [15]: </span><span class="n">df3</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df3</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float16&#39;</span><span class="p">)</span>

<span class="gp">In [16]: </span><span class="n">df3</span><span class="p">[</span><span class="s1">&#39;E&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df3</span><span class="p">[</span><span class="s1">&#39;E&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span>

<span class="gp">In [17]: </span><span class="n">df3</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[17]: </span>
<span class="go">A    float32</span>
<span class="go">B    float64</span>
<span class="go">C    float64</span>
<span class="go">D    float16</span>
<span class="go">E      int32</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>Forcing Date coercion (and setting <code class="docutils literal"><span class="pre">NaT</span></code> when not datelike)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [18]: </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="gp">In [19]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">   ....:</span>             <span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;20010104&#39;</span><span class="p">),</span> <span class="s1">&#39;20010105&#39;</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;O&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 

<span class="gp">In [20]: </span><span class="n">s</span><span class="o">.</span><span class="n">convert_objects</span><span class="p">(</span><span class="n">convert_dates</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="gr">Out[20]: </span>
<span class="go">0   2001-01-01</span>
<span class="go">1          NaT</span>
<span class="go">2          NaT</span>
<span class="go">3          NaT</span>
<span class="go">4   2001-01-04</span>
<span class="go">5   2001-01-05</span>
<span class="go">dtype: datetime64[ns]</span>
</pre></div>
</div>
</div>
<div class="section" id="dtype-gotchas">
<h3>Dtype Gotchas<a class="headerlink" href="#dtype-gotchas" title="Permalink to this headline">¶</a></h3>
<p><strong>Platform Gotchas</strong></p>
<p>Starting in 0.11.0, construction of DataFrame/Series will use default dtypes of <code class="docutils literal"><span class="pre">int64</span></code> and <code class="docutils literal"><span class="pre">float64</span></code>,
<em>regardless of platform</em>. This is not an apparent change from earlier versions of pandas. If you specify
dtypes, they <em>WILL</em> be respected, however (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2837">GH2837</a>)</p>
<p>The following will all result in <code class="docutils literal"><span class="pre">int64</span></code> dtypes</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [21]: </span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[21]: </span>
<span class="go">a    int64</span>
<span class="go">dtype: object</span>

<span class="gp">In [22]: </span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span> <span class="p">})</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[22]: </span>
<span class="go">a    int64</span>
<span class="go">dtype: object</span>

<span class="gp">In [23]: </span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span> <span class="p">:</span> <span class="mi">1</span> <span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[23]: </span>
<span class="go">a    int64</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>Keep in mind that <code class="docutils literal"><span class="pre">DataFrame(np.array([1,2]))</span></code> <strong>WILL</strong> result in <code class="docutils literal"><span class="pre">int32</span></code> on 32-bit platforms!</p>
<p><strong>Upcasting Gotchas</strong></p>
<p>Performing indexing operations on integer type data can easily upcast the data.
The dtype of the input data will be preserved in cases where <code class="docutils literal"><span class="pre">nans</span></code> are not introduced.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [24]: </span><span class="n">dfi</span> <span class="o">=</span> <span class="n">df3</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span>

<span class="gp">In [25]: </span><span class="n">dfi</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dfi</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>

<span class="gp">In [26]: </span><span class="n">dfi</span>
<span class="gr">Out[26]: </span>
<span class="go">   A  B    C  D  E</span>
<span class="go">0  1  0    0  1  1</span>
<span class="go">1  0  0    1  1  1</span>
<span class="go">2  0  0    0  1  1</span>
<span class="go">3 -1  0  254  1  1</span>
<span class="go">4  0  0    0  1  1</span>
<span class="go">5 -1  0    1  1  1</span>
<span class="go">6  2  1    1  1  1</span>
<span class="go">7 -2  0  255  1  1</span>

<span class="go">[8 rows x 5 columns]</span>

<span class="gp">In [27]: </span><span class="n">dfi</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[27]: </span>
<span class="go">A    int32</span>
<span class="go">B    int32</span>
<span class="go">C    int32</span>
<span class="go">D    int64</span>
<span class="go">E    int32</span>
<span class="go">dtype: object</span>

<span class="gp">In [28]: </span><span class="n">casted</span> <span class="o">=</span> <span class="n">dfi</span><span class="p">[</span><span class="n">dfi</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>

<span class="gp">In [29]: </span><span class="n">casted</span>
<span class="gr">Out[29]: </span>
<span class="go">     A    B      C  D  E</span>
<span class="go">0  1.0  NaN    NaN  1  1</span>
<span class="go">1  NaN  NaN    1.0  1  1</span>
<span class="go">2  NaN  NaN    NaN  1  1</span>
<span class="go">3  NaN  NaN  254.0  1  1</span>
<span class="go">4  NaN  NaN    NaN  1  1</span>
<span class="go">5  NaN  NaN    1.0  1  1</span>
<span class="go">6  2.0  1.0    1.0  1  1</span>
<span class="go">7  NaN  NaN  255.0  1  1</span>

<span class="go">[8 rows x 5 columns]</span>

<span class="gp">In [30]: </span><span class="n">casted</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[30]: </span>
<span class="go">A    float64</span>
<span class="go">B    float64</span>
<span class="go">C    float64</span>
<span class="go">D      int64</span>
<span class="go">E      int32</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>While float dtypes are unchanged.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [31]: </span><span class="n">df4</span> <span class="o">=</span> <span class="n">df3</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="gp">In [32]: </span><span class="n">df4</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df4</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float32&#39;</span><span class="p">)</span>

<span class="gp">In [33]: </span><span class="n">df4</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[33]: </span>
<span class="go">A    float32</span>
<span class="go">B    float64</span>
<span class="go">C    float64</span>
<span class="go">D    float16</span>
<span class="go">E      int32</span>
<span class="go">dtype: object</span>

<span class="gp">In [34]: </span><span class="n">casted</span> <span class="o">=</span> <span class="n">df4</span><span class="p">[</span><span class="n">df4</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>

<span class="gp">In [35]: </span><span class="n">casted</span>
<span class="gr">Out[35]: </span>
<span class="go">          A         B      C    D  E</span>
<span class="go">0  1.984462       NaN    NaN  1.0  1</span>
<span class="go">1  0.717812       NaN    1.0  1.0  1</span>
<span class="go">2       NaN       NaN    NaN  1.0  1</span>
<span class="go">3       NaN  0.866493  254.0  1.0  1</span>
<span class="go">4       NaN  0.245972    NaN  1.0  1</span>
<span class="go">5       NaN  0.319442    1.0  1.0  1</span>
<span class="go">6  2.650092  1.378512    1.0  1.0  1</span>
<span class="go">7       NaN  0.292502  255.0  1.0  1</span>

<span class="go">[8 rows x 5 columns]</span>

<span class="gp">In [36]: </span><span class="n">casted</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gr">Out[36]: </span>
<span class="go">A    float32</span>
<span class="go">B    float64</span>
<span class="go">C    float64</span>
<span class="go">D    float16</span>
<span class="go">E      int32</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
</div>
<div class="section" id="datetimes-conversion">
<h3>Datetimes Conversion<a class="headerlink" href="#datetimes-conversion" title="Permalink to this headline">¶</a></h3>
<p>Datetime64[ns] columns in a DataFrame (or a Series) allow the use of <code class="docutils literal"><span class="pre">np.nan</span></code> to indicate a nan value,
in addition to the traditional <code class="docutils literal"><span class="pre">NaT</span></code>, or not-a-time. This allows convenient nan setting in a generic way.
Furthermore <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> columns are created by default, when passed datetimelike objects (<em>this change was introduced in 0.10.1</em>)
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2809">GH2809</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2810">GH2810</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [37]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20010102&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">6</span><span class="p">),</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">])</span>

<span class="gp">In [38]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;timestamp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;20010103&#39;</span><span class="p">)</span>

<span class="gp">In [39]: </span><span class="n">df</span>
<span class="gr">Out[39]: </span>
<span class="go">                   A         B  timestamp</span>
<span class="go">2001-01-02  1.023958  0.660103 2001-01-03</span>
<span class="go">2001-01-03  1.236475 -2.170629 2001-01-03</span>
<span class="go">2001-01-04 -0.270630 -1.685677 2001-01-03</span>
<span class="go">2001-01-05 -0.440747 -0.115070 2001-01-03</span>
<span class="go">2001-01-06 -0.632102 -0.585977 2001-01-03</span>
<span class="go">2001-01-07 -1.444787 -0.201135 2001-01-03</span>

<span class="go">[6 rows x 3 columns]</span>

<span class="c"># datetime64[ns] out of the box</span>
<span class="gp">In [40]: </span><span class="n">df</span><span class="o">.</span><span class="n">get_dtype_counts</span><span class="p">()</span>
<span class="gr">Out[40]: </span>
<span class="go">datetime64[ns]    1</span>
<span class="go">float64           2</span>
<span class="go">dtype: int64</span>

<span class="c"># use the traditional nan, which is mapped to NaT internally</span>
<span class="gp">In [41]: </span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">,[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;timestamp&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [42]: </span><span class="n">df</span>
<span class="gr">Out[42]: </span>
<span class="go">                   A         B  timestamp</span>
<span class="go">2001-01-02  1.023958  0.660103 2001-01-03</span>
<span class="go">2001-01-03  1.236475 -2.170629 2001-01-03</span>
<span class="go">2001-01-04       NaN -1.685677        NaT</span>
<span class="go">2001-01-05       NaN -0.115070        NaT</span>
<span class="go">2001-01-06 -0.632102 -0.585977 2001-01-03</span>
<span class="go">2001-01-07 -1.444787 -0.201135 2001-01-03</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
<p>Astype conversion on <code class="docutils literal"><span class="pre">datetime64[ns]</span></code> to <code class="docutils literal"><span class="pre">object</span></code>, implicity converts <code class="docutils literal"><span class="pre">NaT</span></code> to <code class="docutils literal"><span class="pre">np.nan</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [43]: </span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="gp">In [44]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)])</span>

<span class="gp">In [45]: </span><span class="n">s</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[45]: </span><span class="n">dtype</span><span class="p">(</span><span class="s1">&#39;&lt;M8[ns]&#39;</span><span class="p">)</span>

<span class="gp">In [46]: </span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [47]: </span><span class="n">s</span>
<span class="gr">Out[47]: </span>
<span class="go">0   2001-01-02</span>
<span class="go">1          NaT</span>
<span class="go">2   2001-01-02</span>
<span class="go">dtype: datetime64[ns]</span>

<span class="gp">In [48]: </span><span class="n">s</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[48]: </span><span class="n">dtype</span><span class="p">(</span><span class="s1">&#39;&lt;M8[ns]&#39;</span><span class="p">)</span>

<span class="gp">In [49]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;O&#39;</span><span class="p">)</span>

<span class="gp">In [50]: </span><span class="n">s</span>
<span class="gr">Out[50]: </span>
<span class="go">0    2001-01-02 00:00:00</span>
<span class="go">1                    NaT</span>
<span class="go">2    2001-01-02 00:00:00</span>
<span class="go">dtype: object</span>

<span class="gp">In [51]: </span><span class="n">s</span><span class="o">.</span><span class="n">dtype</span>
<span class="gr">Out[51]: </span><span class="n">dtype</span><span class="p">(</span><span class="s1">&#39;O&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id99">
<h3>API changes<a class="headerlink" href="#id99" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Added to_series() method to indicies, to facilitate the creation of indexers
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3275">GH3275</a>)</li>
<li><code class="docutils literal"><span class="pre">HDFStore</span></code><ul>
<li>added the method <code class="docutils literal"><span class="pre">select_column</span></code> to select a single column from a table as a Series.</li>
<li>deprecated the <code class="docutils literal"><span class="pre">unique</span></code> method, can be replicated by <code class="docutils literal"><span class="pre">select_column(key,column).unique()</span></code></li>
<li><code class="docutils literal"><span class="pre">min_itemsize</span></code> parameter to <code class="docutils literal"><span class="pre">append</span></code> will now automatically create data_columns for passed keys</li>
</ul>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id100">
<h3>Enhancements<a class="headerlink" href="#id100" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">Improved performance of df.to_csv() by up to 10x in some cases. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3059">GH3059</a>)</p>
</li>
<li><p class="first">Numexpr is now a <a class="reference internal" href="install.html#install-recommended-dependencies"><span class="std std-ref">Recommended Dependencies</span></a>, to accelerate certain
types of numerical and boolean operations</p>
</li>
<li><p class="first">Bottleneck is now a <a class="reference internal" href="install.html#install-recommended-dependencies"><span class="std std-ref">Recommended Dependencies</span></a>, to accelerate certain
types of <code class="docutils literal"><span class="pre">nan</span></code> operations</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">HDFStore</span></code></p>
<ul>
<li><p class="first">support <code class="docutils literal"><span class="pre">read_hdf/to_hdf</span></code> API similar to <code class="docutils literal"><span class="pre">read_csv/to_csv</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [52]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">A</span><span class="o">=</span><span class="n">lrange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">B</span><span class="o">=</span><span class="n">lrange</span><span class="p">(</span><span class="mi">5</span><span class="p">)))</span>

<span class="gp">In [53]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_hdf</span><span class="p">(</span><span class="s1">&#39;store.h5&#39;</span><span class="p">,</span><span class="s1">&#39;table&#39;</span><span class="p">,</span><span class="n">append</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="gp">In [54]: </span><span class="n">read_hdf</span><span class="p">(</span><span class="s1">&#39;store.h5&#39;</span><span class="p">,</span> <span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">where</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;index&gt;2&#39;</span><span class="p">])</span>
<span class="gr">Out[54]: </span>
<span class="go">   A  B</span>
<span class="go">3  3  3</span>
<span class="go">4  4  4</span>

<span class="go">[2 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">provide dotted attribute access to <code class="docutils literal"><span class="pre">get</span></code> from stores, e.g. <code class="docutils literal"><span class="pre">store.df</span> <span class="pre">==</span> <span class="pre">store['df']</span></code></p>
</li>
<li><p class="first">new keywords <code class="docutils literal"><span class="pre">iterator=boolean</span></code>, and <code class="docutils literal"><span class="pre">chunksize=number_in_a_chunk</span></code> are
provided to support iteration on <code class="docutils literal"><span class="pre">select</span></code> and <code class="docutils literal"><span class="pre">select_as_multiple</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3076">GH3076</a>)</p>
</li>
</ul>
</li>
<li><p class="first">You can now select timestamps from an <em>unordered</em> timeseries similarly to an <em>ordered</em> timeseries (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2437">GH2437</a>)</p>
</li>
<li><p class="first">You can now select with a string from a DataFrame with a datelike index, in a similar way to a Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3070">GH3070</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [55]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">date_range</span><span class="p">(</span><span class="s2">&quot;2001-10-1&quot;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">)</span>

<span class="gp">In [56]: </span><span class="n">ts</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">idx</span><span class="p">)),</span><span class="n">index</span><span class="o">=</span><span class="n">idx</span><span class="p">)</span>

<span class="gp">In [57]: </span><span class="n">ts</span><span class="p">[</span><span class="s1">&#39;2001&#39;</span><span class="p">]</span>
<span class="gr">Out[57]: </span>
<span class="go">2001-10-31    0.663256</span>
<span class="go">2001-11-30    0.079126</span>
<span class="go">2001-12-31    0.587699</span>
<span class="go">Freq: M, dtype: float64</span>

<span class="gp">In [58]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">A</span> <span class="o">=</span> <span class="n">ts</span><span class="p">))</span>

<span class="gp">In [59]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;2001&#39;</span><span class="p">]</span>
<span class="gr">Out[59]: </span>
<span class="go">                   A</span>
<span class="go">2001-10-31  0.663256</span>
<span class="go">2001-11-30  0.079126</span>
<span class="go">2001-12-31  0.587699</span>

<span class="go">[3 rows x 1 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Squeeze</span></code> to possibly remove length 1 dimensions from an object.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [60]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">Panel</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ItemA&#39;</span><span class="p">,</span><span class="s1">&#39;ItemB&#39;</span><span class="p">,</span><span class="s1">&#39;ItemC&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>                    <span class="n">major_axis</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20010102&#39;</span><span class="p">,</span><span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....:</span>                    <span class="n">minor_axis</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [61]: </span><span class="n">p</span>
<span class="gr">Out[61]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 3 (items) x 4 (major_axis) x 4 (minor_axis)</span>
<span class="go">Items axis: ItemA to ItemC</span>
<span class="go">Major_axis axis: 2001-01-02 00:00:00 to 2001-01-05 00:00:00</span>
<span class="go">Minor_axis axis: A to D</span>

<span class="gp">In [62]: </span><span class="n">p</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ItemA&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
<span class="gr">Out[62]: </span>
<span class="go">                   A         B         C         D</span>
<span class="go">2001-01-02 -1.203403  0.425882 -0.436045 -0.982462</span>
<span class="go">2001-01-03  0.348090 -0.969649  0.121731  0.202798</span>
<span class="go">2001-01-04  1.215695 -0.218549 -0.631381 -0.337116</span>
<span class="go">2001-01-05  0.404238  0.907213 -0.865657  0.483186</span>

<span class="go">[4 rows x 4 columns]</span>

<span class="gp">In [63]: </span><span class="n">p</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ItemA&#39;</span><span class="p">],</span><span class="n">minor</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
<span class="gr">Out[63]: </span>
<span class="go">2001-01-02    0.425882</span>
<span class="go">2001-01-03   -0.969649</span>
<span class="go">2001-01-04   -0.218549</span>
<span class="go">2001-01-05    0.907213</span>
<span class="go">Freq: D, Name: B, dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first">In <code class="docutils literal"><span class="pre">pd.io.data.Options</span></code>,</p>
<ul class="simple">
<li>Fix bug when trying to fetch data for the current month when already
past expiry.</li>
<li>Now using lxml to scrape html instead of BeautifulSoup (lxml was faster).</li>
<li>New instance variables for calls and puts are automatically created
when a method that creates them is called. This works for current month
where the instance variables are simply <code class="docutils literal"><span class="pre">calls</span></code> and <code class="docutils literal"><span class="pre">puts</span></code>. Also
works for future expiry months and save the instance variable as
<code class="docutils literal"><span class="pre">callsMMYY</span></code> or <code class="docutils literal"><span class="pre">putsMMYY</span></code>, where <code class="docutils literal"><span class="pre">MMYY</span></code> are, respectively, the
month and year of the option&#8217;s expiry.</li>
<li><code class="docutils literal"><span class="pre">Options.get_near_stock_price</span></code> now allows the user to specify the
month for which to get relevant options data.</li>
<li><code class="docutils literal"><span class="pre">Options.get_forward_data</span></code> now has optional kwargs <code class="docutils literal"><span class="pre">near</span></code> and
<code class="docutils literal"><span class="pre">above_below</span></code>. This allows the user to specify if they would like to
only return forward looking data for options near the current stock
price. This just obtains the data from Options.get_near_stock_price
instead of Options.get_xxx_data() (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2758">GH2758</a>).</li>
</ul>
</li>
<li><p class="first">Cursor coordinate information is now displayed in time-series plots.</p>
</li>
<li><p class="first">added option <cite>display.max_seq_items</cite> to control the number of
elements printed per sequence pprinting it.  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2979">GH2979</a>)</p>
</li>
<li><p class="first">added option <cite>display.chop_threshold</cite> to control display of small numerical
values. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2739">GH2739</a>)</p>
</li>
<li><p class="first">added option <cite>display.max_info_rows</cite> to prevent verbose_info from being
calculated for frames above 1M rows (configurable). (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2807">GH2807</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2918">GH2918</a>)</p>
</li>
<li><p class="first">value_counts() now accepts a &#8220;normalize&#8221; argument, for normalized
histograms. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2710">GH2710</a>).</p>
</li>
<li><p class="first">DataFrame.from_records now accepts not only dicts but any instance of
the collections.Mapping ABC.</p>
</li>
<li><p class="first">added option <cite>display.mpl_style</cite> providing a sleeker visual style
for plots. Based on <a class="reference external" href="https://gist.github.com/huyng/816622">https://gist.github.com/huyng/816622</a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/3075">GH3075</a>).</p>
</li>
<li><p class="first">Treat boolean values as integers (values 1 and 0) for numeric
operations. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2641">GH2641</a>)</p>
</li>
<li><p class="first">to_html() now accepts an optional &#8220;escape&#8221; argument to control reserved
HTML character escaping (enabled by default) and escapes <code class="docutils literal"><span class="pre">&amp;</span></code>, in addition
to <code class="docutils literal"><span class="pre">&lt;</span></code> and <code class="docutils literal"><span class="pre">&gt;</span></code>.  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2919">GH2919</a>)</p>
</li>
</ul>
</div></blockquote>
<p>See the <a class="reference internal" href="release.html#release"><span class="std std-ref">full release notes</span></a> or issue tracker
on GitHub for a complete list.</p>
</div>
</div>
<div class="section" id="v0-10-1-january-22-2013">
<span id="whatsnew-0101"></span><h2>v0.10.1 (January 22, 2013)<a class="headerlink" href="#v0-10-1-january-22-2013" title="Permalink to this headline">¶</a></h2>
<p>This is a minor release from 0.10.0 and includes new features, enhancements,
and bug fixes. In particular, there is substantial new HDFStore functionality
contributed by Jeff Reback.</p>
<p>An undesired API breakage with functions taking the <code class="docutils literal"><span class="pre">inplace</span></code> option has been
reverted and deprecation warnings added.</p>
<div class="section" id="id101">
<h3>API changes<a class="headerlink" href="#id101" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Functions taking an <code class="docutils literal"><span class="pre">inplace</span></code> option return the calling object as before. A
deprecation message has been added</li>
<li>Groupby aggregations Max/Min no longer exclude non-numeric data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2700">GH2700</a>)</li>
<li>Resampling an empty DataFrame now returns an empty DataFrame instead of
raising an exception (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2640">GH2640</a>)</li>
<li>The file reader will now raise an exception when NA values are found in an
explicitly specified integer column instead of converting the column to float
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2631">GH2631</a>)</li>
<li>DatetimeIndex.unique now returns a DatetimeIndex with the same name and</li>
<li>timezone instead of an array (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2563">GH2563</a>)</li>
</ul>
</div>
<div class="section" id="id102">
<h3>New features<a class="headerlink" href="#id102" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>MySQL support for database (contribution from Dan Allan)</li>
</ul>
</div>
<div class="section" id="hdfstore">
<h3>HDFStore<a class="headerlink" href="#hdfstore" title="Permalink to this headline">¶</a></h3>
<p>You may need to upgrade your existing data files. Please visit the
<strong>compatibility</strong> section in the main docs.</p>
<p>You can designate (and index) certain columns that you want to be able to
perform queries on a table, by passing a list to <code class="docutils literal"><span class="pre">data_columns</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">store</span> <span class="o">=</span> <span class="n">HDFStore</span><span class="p">(</span><span class="s1">&#39;store.h5&#39;</span><span class="p">)</span>

<span class="gp">In [2]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">8</span><span class="p">),</span>
<span class="gp">   ...:</span>            <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">])</span>
<span class="gp">   ...:</span> 

<span class="gp">In [3]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;string&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>

<span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="s1">&#39;string&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [5]: </span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">7</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="s1">&#39;string&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>

<span class="gp">In [6]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;string2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;cool&#39;</span>

<span class="gp">In [7]: </span><span class="n">df</span>
<span class="gr">Out[7]: </span>
<span class="go">                   A         B         C string string2</span>
<span class="go">2000-01-01  1.885136 -0.183873  2.550850    foo    cool</span>
<span class="go">2000-01-02  0.180759 -1.117089  0.061462    foo    cool</span>
<span class="go">2000-01-03 -0.294467 -0.591411 -0.876691    foo    cool</span>
<span class="go">2000-01-04  3.127110  1.451130  0.045152    foo    cool</span>
<span class="go">2000-01-05 -0.242846  1.195819  1.533294    NaN    cool</span>
<span class="go">2000-01-06  0.820521 -0.281201  1.651561    NaN    cool</span>
<span class="go">2000-01-07 -0.034086  0.252394 -0.498772    foo    cool</span>
<span class="go">2000-01-08 -2.290958 -1.601262 -0.256718    bar    cool</span>

<span class="go">[8 rows x 5 columns]</span>

<span class="c"># on-disk operations</span>
<span class="gp">In [8]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;df&#39;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">data_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="s1">&#39;string2&#39;</span><span class="p">])</span>

<span class="gp">In [9]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;df&#39;</span><span class="p">,[</span> <span class="s1">&#39;B &gt; 0&#39;</span><span class="p">,</span> <span class="s1">&#39;string == foo&#39;</span> <span class="p">])</span>
<span class="gr">Out[9]: </span>
<span class="go">Empty DataFrame</span>
<span class="go">Columns: [A, B, C, string, string2]</span>
<span class="go">Index: []</span>

<span class="go">[0 rows x 5 columns]</span>

<span class="c"># this is in-memory version of this type of selection</span>
<span class="gp">In [10]: </span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">B</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">string</span> <span class="o">==</span> <span class="s1">&#39;foo&#39;</span><span class="p">)]</span>
<span class="gr">Out[10]: </span>
<span class="go">                   A         B         C string string2</span>
<span class="go">2000-01-04  3.127110  1.451130  0.045152    foo    cool</span>
<span class="go">2000-01-07 -0.034086  0.252394 -0.498772    foo    cool</span>

<span class="go">[2 rows x 5 columns]</span>
</pre></div>
</div>
<p>Retrieving unique values in an indexable or data column.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># note that this is deprecated as of 0.14.0</span>
<span class="c1"># can be replicated by: store.select_column(&#39;df&#39;,&#39;index&#39;).unique()</span>
<span class="n">store</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="s1">&#39;df&#39;</span><span class="p">,</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>
<span class="n">store</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="s1">&#39;df&#39;</span><span class="p">,</span><span class="s1">&#39;string&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can now store <code class="docutils literal"><span class="pre">datetime64</span></code> in data columns</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">df_mixed</span>               <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="gp">In [12]: </span><span class="n">df_mixed</span><span class="p">[</span><span class="s1">&#39;datetime64&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;20010102&#39;</span><span class="p">)</span>

<span class="gp">In [13]: </span><span class="n">df_mixed</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">,[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [14]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;df_mixed&#39;</span><span class="p">,</span> <span class="n">df_mixed</span><span class="p">)</span>

<span class="gp">In [15]: </span><span class="n">df_mixed1</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;df_mixed&#39;</span><span class="p">)</span>

<span class="gp">In [16]: </span><span class="n">df_mixed1</span>
<span class="gr">Out[16]: </span>
<span class="go">                   A         B         C string string2 datetime64</span>
<span class="go">2000-01-01  1.885136 -0.183873  2.550850    foo    cool 2001-01-02</span>
<span class="go">2000-01-02  0.180759 -1.117089  0.061462    foo    cool 2001-01-02</span>
<span class="go">2000-01-03 -0.294467 -0.591411 -0.876691    foo    cool 2001-01-02</span>
<span class="go">2000-01-04       NaN       NaN  0.045152    foo    cool 2001-01-02</span>
<span class="go">2000-01-05 -0.242846  1.195819  1.533294    NaN    cool 2001-01-02</span>
<span class="go">2000-01-06  0.820521 -0.281201  1.651561    NaN    cool 2001-01-02</span>
<span class="go">2000-01-07 -0.034086  0.252394 -0.498772    foo    cool 2001-01-02</span>
<span class="go">2000-01-08 -2.290958 -1.601262 -0.256718    bar    cool 2001-01-02</span>

<span class="go">[8 rows x 6 columns]</span>

<span class="gp">In [17]: </span><span class="n">df_mixed1</span><span class="o">.</span><span class="n">get_dtype_counts</span><span class="p">()</span>
<span class="gr">Out[17]: </span>
<span class="go">datetime64[ns]    1</span>
<span class="go">float64           3</span>
<span class="go">object            2</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>You can pass <code class="docutils literal"><span class="pre">columns</span></code> keyword to select to filter a list of the return
columns, this is equivalent to passing a
<code class="docutils literal"><span class="pre">Term('columns',list_of_columns_to_filter)</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [18]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;df&#39;</span><span class="p">,</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">])</span>
<span class="gr">Out[18]: </span>
<span class="go">                   A         B</span>
<span class="go">2000-01-01  1.885136 -0.183873</span>
<span class="go">2000-01-02  0.180759 -1.117089</span>
<span class="go">2000-01-03 -0.294467 -0.591411</span>
<span class="go">2000-01-04  3.127110  1.451130</span>
<span class="go">2000-01-05 -0.242846  1.195819</span>
<span class="go">2000-01-06  0.820521 -0.281201</span>
<span class="go">2000-01-07 -0.034086  0.252394</span>
<span class="go">2000-01-08 -2.290958 -1.601262</span>

<span class="go">[8 rows x 2 columns]</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">HDFStore</span></code> now serializes multi-index dataframes when appending tables.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">index</span> <span class="o">=</span> <span class="n">MultiIndex</span><span class="p">(</span><span class="n">levels</span><span class="o">=</span><span class="p">[[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span><span class="p">,</span> <span class="s1">&#39;qux&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>                            <span class="p">[</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span><span class="p">]],</span>
<span class="gp">   ....:</span>                    <span class="n">labels</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">   ....:</span>                            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span>
<span class="gp">   ....:</span>                    <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [20]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span>
<span class="gp">   ....:</span>                <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [21]: </span><span class="n">df</span>
<span class="gr">Out[21]: </span>
<span class="go">                  A         B         C</span>
<span class="go">foo bar                                </span>
<span class="go">foo one    0.239369  0.174122 -1.131794</span>
<span class="go">    two   -1.948006  0.980347 -0.674429</span>
<span class="go">    three -0.361633 -0.761218  1.768215</span>
<span class="go">bar one    0.152288 -0.862613 -0.210968</span>
<span class="go">    two   -0.859278  1.498195  0.462413</span>
<span class="go">baz two   -0.647604  1.511487 -0.727189</span>
<span class="go">    three -0.342928 -0.007364  1.427674</span>
<span class="go">qux one    0.104020  2.052171 -1.230963</span>
<span class="go">    two   -0.019240 -1.713238  0.838912</span>
<span class="go">    three -0.637855  0.215109 -1.515362</span>

<span class="go">[10 rows x 3 columns]</span>

<span class="gp">In [22]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;mi&#39;</span><span class="p">,</span><span class="n">df</span><span class="p">)</span>

<span class="gp">In [23]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;mi&#39;</span><span class="p">)</span>
<span class="gr">Out[23]: </span>
<span class="go">                  A         B         C</span>
<span class="go">foo bar                                </span>
<span class="go">foo one    0.239369  0.174122 -1.131794</span>
<span class="go">    two   -1.948006  0.980347 -0.674429</span>
<span class="go">    three -0.361633 -0.761218  1.768215</span>
<span class="go">bar one    0.152288 -0.862613 -0.210968</span>
<span class="go">    two   -0.859278  1.498195  0.462413</span>
<span class="go">baz two   -0.647604  1.511487 -0.727189</span>
<span class="go">    three -0.342928 -0.007364  1.427674</span>
<span class="go">qux one    0.104020  2.052171 -1.230963</span>
<span class="go">    two   -0.019240 -1.713238  0.838912</span>
<span class="go">    three -0.637855  0.215109 -1.515362</span>

<span class="go">[10 rows x 3 columns]</span>

<span class="c"># the levels are automatically included as data columns</span>
<span class="gp">In [24]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;mi&#39;</span><span class="p">,</span> <span class="n">Term</span><span class="p">(</span><span class="s1">&#39;foo=bar&#39;</span><span class="p">))</span>
<span class="gr">Out[24]: </span>
<span class="go">Empty DataFrame</span>
<span class="go">Columns: [A, B, C]</span>
<span class="go">Index: []</span>

<span class="go">[0 rows x 3 columns]</span>
</pre></div>
</div>
<p>Multi-table creation via <code class="docutils literal"><span class="pre">append_to_multiple</span></code> and selection via
<code class="docutils literal"><span class="pre">select_as_multiple</span></code> can create/select from multiple tables and return a
combined result, by using <code class="docutils literal"><span class="pre">where</span></code> on a selector table.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [25]: </span><span class="n">df_mt</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">8</span><span class="p">),</span>
<span class="gp">   ....:</span>                                <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [26]: </span><span class="n">df_mt</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>

<span class="c"># you can also create the tables individually</span>
<span class="gp">In [27]: </span><span class="n">store</span><span class="o">.</span><span class="n">append_to_multiple</span><span class="p">({</span> <span class="s1">&#39;df1_mt&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">],</span> <span class="s1">&#39;df2_mt&#39;</span> <span class="p">:</span> <span class="bp">None</span> <span class="p">},</span> <span class="n">df_mt</span><span class="p">,</span> <span class="n">selector</span> <span class="o">=</span> <span class="s1">&#39;df1_mt&#39;</span><span class="p">)</span>

<span class="gp">In [28]: </span><span class="n">store</span>
<span class="gr">Out[28]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: store.h5</span>
<span class="go">/df                  frame_table  (typ-&gt;appendable,nrows-&gt;8,ncols-&gt;5,indexers-&gt;[index],dc-&gt;[B,C,string,string2])</span>
<span class="go">/df1_mt              frame_table  (typ-&gt;appendable,nrows-&gt;8,ncols-&gt;2,indexers-&gt;[index],dc-&gt;[A,B])               </span>
<span class="go">/df2_mt              frame_table  (typ-&gt;appendable,nrows-&gt;8,ncols-&gt;5,indexers-&gt;[index])                         </span>
<span class="go">/df_mixed            frame_table  (typ-&gt;appendable,nrows-&gt;8,ncols-&gt;6,indexers-&gt;[index])                         </span>
<span class="go">/mi                  frame_table  (typ-&gt;appendable_multi,nrows-&gt;10,ncols-&gt;5,indexers-&gt;[index],dc-&gt;[bar,foo])    </span>

<span class="c"># indiviual tables were created</span>
<span class="gp">In [29]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;df1_mt&#39;</span><span class="p">)</span>
<span class="gr">Out[29]: </span>
<span class="go">                   A         B</span>
<span class="go">2000-01-01  1.586924 -0.447974</span>
<span class="go">2000-01-02 -0.102206  0.870302</span>
<span class="go">2000-01-03  1.249874  1.458210</span>
<span class="go">2000-01-04 -0.616293  0.150468</span>
<span class="go">2000-01-05 -0.431163  0.016640</span>
<span class="go">2000-01-06  0.800353 -0.451572</span>
<span class="go">2000-01-07  1.239198  0.185437</span>
<span class="go">2000-01-08 -0.040863  0.290110</span>

<span class="go">[8 rows x 2 columns]</span>

<span class="gp">In [30]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;df2_mt&#39;</span><span class="p">)</span>
<span class="gr">Out[30]: </span>
<span class="go">                   C         D         E         F  foo</span>
<span class="go">2000-01-01 -1.573998  0.630925 -0.071659 -1.277640  bar</span>
<span class="go">2000-01-02  1.275280 -1.199212  1.060780  1.673018  bar</span>
<span class="go">2000-01-03 -0.710542  0.825392  1.557329  1.993441  bar</span>
<span class="go">2000-01-04  0.132104  0.580923 -0.128750  1.445964  bar</span>
<span class="go">2000-01-05  0.904578 -1.645852 -0.688741  0.228006  bar</span>
<span class="go">2000-01-06  0.831767  0.228760  0.932498 -2.200069  bar</span>
<span class="go">2000-01-07 -0.540770 -0.370038  1.298390  1.662964  bar</span>
<span class="go">2000-01-08 -0.096145  1.717830 -0.462446 -0.112019  bar</span>

<span class="go">[8 rows x 5 columns]</span>

<span class="c"># as a multiple</span>
<span class="gp">In [31]: </span><span class="n">store</span><span class="o">.</span><span class="n">select_as_multiple</span><span class="p">([</span><span class="s1">&#39;df1_mt&#39;</span><span class="p">,</span><span class="s1">&#39;df2_mt&#39;</span><span class="p">],</span> <span class="n">where</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;A&gt;0&#39;</span><span class="p">,</span><span class="s1">&#39;B&gt;0&#39;</span> <span class="p">],</span> <span class="n">selector</span> <span class="o">=</span> <span class="s1">&#39;df1_mt&#39;</span><span class="p">)</span>
<span class="gr">Out[31]: </span>
<span class="go">                   A         B         C         D         E         F  foo</span>
<span class="go">2000-01-03  1.249874  1.458210 -0.710542  0.825392  1.557329  1.993441  bar</span>
<span class="go">2000-01-07  1.239198  0.185437 -0.540770 -0.370038  1.298390  1.662964  bar</span>

<span class="go">[2 rows x 7 columns]</span>
</pre></div>
</div>
<p><strong>Enhancements</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">HDFStore</span></code> now can read native PyTables table format tables</li>
<li>You can pass <code class="docutils literal"><span class="pre">nan_rep</span> <span class="pre">=</span> <span class="pre">'my_nan_rep'</span></code> to append, to change the default nan
representation on disk (which converts to/from <cite>np.nan</cite>), this defaults to
<cite>nan</cite>.</li>
<li>You can pass <code class="docutils literal"><span class="pre">index</span></code> to <code class="docutils literal"><span class="pre">append</span></code>. This defaults to <code class="docutils literal"><span class="pre">True</span></code>. This will
automagically create indicies on the <em>indexables</em> and <em>data columns</em> of the
table</li>
<li>You can pass <code class="docutils literal"><span class="pre">chunksize=an</span> <span class="pre">integer</span></code> to <code class="docutils literal"><span class="pre">append</span></code>, to change the writing
chunksize (default is 50000). This will signficantly lower your memory usage
on writing.</li>
<li>You can pass <code class="docutils literal"><span class="pre">expectedrows=an</span> <span class="pre">integer</span></code> to the first <code class="docutils literal"><span class="pre">append</span></code>, to set the
TOTAL number of expectedrows that <code class="docutils literal"><span class="pre">PyTables</span></code> will expected. This will
optimize read/write performance.</li>
<li><code class="docutils literal"><span class="pre">Select</span></code> now supports passing <code class="docutils literal"><span class="pre">start</span></code> and <code class="docutils literal"><span class="pre">stop</span></code> to provide selection
space limiting in selection.</li>
<li>Greatly improved ISO8601 (e.g., yyyy-mm-dd) date parsing for file parsers (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2698">GH2698</a>)</li>
<li>Allow <code class="docutils literal"><span class="pre">DataFrame.merge</span></code> to handle combinatorial sizes too large for 64-bit
integer (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2690">GH2690</a>)</li>
<li>Series now has unary negation (-series) and inversion (~series) operators (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2686">GH2686</a>)</li>
<li>DataFrame.plot now includes a <code class="docutils literal"><span class="pre">logx</span></code> parameter to change the x-axis to log scale (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2327">GH2327</a>)</li>
<li>Series arithmetic operators can now handle constant and ndarray input (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2574">GH2574</a>)</li>
<li>ExcelFile now takes a <code class="docutils literal"><span class="pre">kind</span></code> argument to specify the file type (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2613">GH2613</a>)</li>
<li>A faster implementation for Series.str methods (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2602">GH2602</a>)</li>
</ul>
<p><strong>Bug Fixes</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">HDFStore</span></code> tables can now store <code class="docutils literal"><span class="pre">float32</span></code> types correctly (cannot be
mixed with <code class="docutils literal"><span class="pre">float64</span></code> however)</li>
<li>Fixed Google Analytics prefix when specifying request segment (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2713">GH2713</a>).</li>
<li>Function to reset Google Analytics token store so users can recover from
improperly setup client secrets (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2687">GH2687</a>).</li>
<li>Fixed groupby bug resulting in segfault when passing in MultiIndex (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2706">GH2706</a>)</li>
<li>Fixed bug where passing a Series with datetime64 values into <cite>to_datetime</cite>
results in bogus output values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2699">GH2699</a>)</li>
<li>Fixed bug in <code class="docutils literal"><span class="pre">pattern</span> <span class="pre">in</span> <span class="pre">HDFStore</span></code> expressions when pattern is not a valid
regex (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2694">GH2694</a>)</li>
<li>Fixed performance issues while aggregating boolean data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2692">GH2692</a>)</li>
<li>When given a boolean mask key and a Series of new values, Series __setitem__
will now align the incoming values with the original Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2686">GH2686</a>)</li>
<li>Fixed MemoryError caused by performing counting sort on sorting MultiIndex
levels with a very large number of combinatorial values (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2684">GH2684</a>)</li>
<li>Fixed bug that causes plotting to fail when the index is a DatetimeIndex with
a fixed-offset timezone (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2683">GH2683</a>)</li>
<li>Corrected businessday subtraction logic when the offset is more than 5 bdays
and the starting date is on a weekend (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2680">GH2680</a>)</li>
<li>Fixed C file parser behavior when the file has more columns than data
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2668">GH2668</a>)</li>
<li>Fixed file reader bug that misaligned columns with data in the presence of an
implicit column and a specified <cite>usecols</cite> value</li>
<li>DataFrames with numerical or datetime indices are now sorted prior to
plotting (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2609">GH2609</a>)</li>
<li>Fixed DataFrame.from_records error when passed columns, index, but empty
records (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2633">GH2633</a>)</li>
<li>Several bug fixed for Series operations when dtype is datetime64 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2689">GH2689</a>,
<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2629">GH2629</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2626">GH2626</a>)</li>
</ul>
<p>See the <a class="reference internal" href="release.html#release"><span class="std std-ref">full release notes</span></a> or issue tracker
on GitHub for a complete list.</p>
</div>
</div>
<div class="section" id="v0-10-0-december-17-2012">
<span id="whatsnew-0100"></span><h2>v0.10.0 (December 17, 2012)<a class="headerlink" href="#v0-10-0-december-17-2012" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.9.1 and includes many new features and
enhancements along with a large number of bug fixes. There are also a number of
important API changes that long-time pandas users should pay close attention
to.</p>
<div class="section" id="file-parsing-new-features">
<h3>File parsing new features<a class="headerlink" href="#file-parsing-new-features" title="Permalink to this headline">¶</a></h3>
<p>The delimited file parsing engine (the guts of <code class="docutils literal"><span class="pre">read_csv</span></code> and <code class="docutils literal"><span class="pre">read_table</span></code>)
has been rewritten from the ground up and now uses a fraction the amount of
memory while parsing, while being 40% or more faster in most use cases (in some
cases much faster).</p>
<p>There are also many new features:</p>
<ul class="simple">
<li>Much-improved Unicode handling via the <code class="docutils literal"><span class="pre">encoding</span></code> option.</li>
<li>Column filtering (<code class="docutils literal"><span class="pre">usecols</span></code>)</li>
<li>Dtype specification (<code class="docutils literal"><span class="pre">dtype</span></code> argument)</li>
<li>Ability to specify strings to be recognized as True/False</li>
<li>Ability to yield NumPy record arrays (<code class="docutils literal"><span class="pre">as_recarray</span></code>)</li>
<li>High performance <code class="docutils literal"><span class="pre">delim_whitespace</span></code> option</li>
<li>Decimal format (e.g. European format) specification</li>
<li>Easier CSV dialect options: <code class="docutils literal"><span class="pre">escapechar</span></code>, <code class="docutils literal"><span class="pre">lineterminator</span></code>,
<code class="docutils literal"><span class="pre">quotechar</span></code>, etc.</li>
<li>More robust handling of many exceptional kinds of files observed in the wild</li>
</ul>
</div>
<div class="section" id="id103">
<h3>API changes<a class="headerlink" href="#id103" title="Permalink to this headline">¶</a></h3>
<p><strong>Deprecated DataFrame BINOP TimeSeries special case behavior</strong></p>
<p>The default behavior of binary operations between a DataFrame and a Series has
always been to align on the DataFrame&#8217;s columns and broadcast down the rows,
<strong>except</strong> in the special case that the DataFrame contains time series. Since
there are now method for each binary operator enabling you to specify how you
want to broadcast, we are phasing out this special case (Zen of Python:
<em>Special cases aren&#8217;t special enough to break the rules</em>). Here&#8217;s what I&#8217;m
talking about:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>

<span class="gp">In [2]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">   ...:</span>                   <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">   ...:</span> 

<span class="gp">In [3]: </span><span class="n">df</span>
<span class="gr">Out[3]: </span>
<span class="go">                   0         1         2         3</span>
<span class="go">2000-01-01 -0.134024 -0.205969  1.348944 -1.198246</span>
<span class="go">2000-01-02 -1.626124  0.982041  0.059493 -0.460111</span>
<span class="go">2000-01-03 -1.565401 -0.025706  0.942864  2.502156</span>
<span class="go">2000-01-04 -0.302741  0.261551 -0.066342  0.897097</span>
<span class="go">2000-01-05  0.268766 -1.225092  0.582752 -1.490764</span>
<span class="go">2000-01-06 -0.639757 -0.952750 -0.892402  0.505987</span>

<span class="go">[6 rows x 4 columns]</span>

<span class="c"># deprecated now</span>
<span class="gp">In [4]: </span><span class="n">df</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gr">Out[4]: </span>
<span class="go">            2000-01-01 00:00:00  2000-01-02 00:00:00  2000-01-03 00:00:00  \</span>
<span class="go">2000-01-01                  NaN                  NaN                  NaN   </span>
<span class="go">2000-01-02                  NaN                  NaN                  NaN   </span>
<span class="go">2000-01-03                  NaN                  NaN                  NaN   </span>
<span class="go">2000-01-04                  NaN                  NaN                  NaN   </span>
<span class="go">2000-01-05                  NaN                  NaN                  NaN   </span>
<span class="go">2000-01-06                  NaN                  NaN                  NaN   </span>

<span class="go">            2000-01-04 00:00:00  2000-01-05 00:00:00  2000-01-06 00:00:00   0  \</span>
<span class="go">2000-01-01                  NaN                  NaN                  NaN NaN   </span>
<span class="go">2000-01-02                  NaN                  NaN                  NaN NaN   </span>
<span class="go">2000-01-03                  NaN                  NaN                  NaN NaN   </span>
<span class="go">2000-01-04                  NaN                  NaN                  NaN NaN   </span>
<span class="go">2000-01-05                  NaN                  NaN                  NaN NaN   </span>
<span class="go">2000-01-06                  NaN                  NaN                  NaN NaN   </span>

<span class="go">             1   2   3  </span>
<span class="go">2000-01-01 NaN NaN NaN  </span>
<span class="go">2000-01-02 NaN NaN NaN  </span>
<span class="go">2000-01-03 NaN NaN NaN  </span>
<span class="go">2000-01-04 NaN NaN NaN  </span>
<span class="go">2000-01-05 NaN NaN NaN  </span>
<span class="go">2000-01-06 NaN NaN NaN  </span>

<span class="go">[6 rows x 10 columns]</span>

<span class="c"># Change your code to</span>
<span class="gp">In [5]: </span><span class="n">df</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># align on axis 0 (rows)</span>
<span class="gr">Out[5]: </span>
<span class="go">              0         1         2         3</span>
<span class="go">2000-01-01  0.0 -0.071946  1.482967 -1.064223</span>
<span class="go">2000-01-02  0.0  2.608165  1.685618  1.166013</span>
<span class="go">2000-01-03  0.0  1.539695  2.508265  4.067556</span>
<span class="go">2000-01-04  0.0  0.564293  0.236399  1.199839</span>
<span class="go">2000-01-05  0.0 -1.493857  0.313986 -1.759530</span>
<span class="go">2000-01-06  0.0 -0.312993 -0.252645  1.145744</span>

<span class="go">[6 rows x 4 columns]</span>
</pre></div>
</div>
<p>You will get a deprecation warning in the 0.10.x series, and the deprecated
functionality will be removed in 0.11 or later.</p>
<p><strong>Altered resample default behavior</strong></p>
<p>The default time series <code class="docutils literal"><span class="pre">resample</span></code> binning behavior of daily <code class="docutils literal"><span class="pre">D</span></code> and
<em>higher</em> frequencies has been changed to <code class="docutils literal"><span class="pre">closed='left',</span> <span class="pre">label='left'</span></code>. Lower
nfrequencies are unaffected. The prior defaults were causing a great deal of
confusion for users, especially resampling data to daily frequency (which
labeled the aggregated group with the end of the interval: the next day).</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">dates</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="s1">&#39;1/5/2000&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;4h&#39;</span><span class="p">)</span>

<span class="gp">In [2]: </span><span class="n">series</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dates</span><span class="p">)),</span> <span class="n">index</span><span class="o">=</span><span class="n">dates</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">series</span>
<span class="go">Out[3]:</span>
<span class="go">2000-01-01 00:00:00     0</span>
<span class="go">2000-01-01 04:00:00     1</span>
<span class="go">2000-01-01 08:00:00     2</span>
<span class="go">2000-01-01 12:00:00     3</span>
<span class="go">2000-01-01 16:00:00     4</span>
<span class="go">2000-01-01 20:00:00     5</span>
<span class="go">2000-01-02 00:00:00     6</span>
<span class="go">2000-01-02 04:00:00     7</span>
<span class="go">2000-01-02 08:00:00     8</span>
<span class="go">2000-01-02 12:00:00     9</span>
<span class="go">2000-01-02 16:00:00    10</span>
<span class="go">2000-01-02 20:00:00    11</span>
<span class="go">2000-01-03 00:00:00    12</span>
<span class="go">2000-01-03 04:00:00    13</span>
<span class="go">2000-01-03 08:00:00    14</span>
<span class="go">2000-01-03 12:00:00    15</span>
<span class="go">2000-01-03 16:00:00    16</span>
<span class="go">2000-01-03 20:00:00    17</span>
<span class="go">2000-01-04 00:00:00    18</span>
<span class="go">2000-01-04 04:00:00    19</span>
<span class="go">2000-01-04 08:00:00    20</span>
<span class="go">2000-01-04 12:00:00    21</span>
<span class="go">2000-01-04 16:00:00    22</span>
<span class="go">2000-01-04 20:00:00    23</span>
<span class="go">2000-01-05 00:00:00    24</span>
<span class="go">Freq: 4H, dtype: int64</span>

<span class="gp">In [4]: </span><span class="n">series</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>
<span class="go">Out[4]:</span>
<span class="go">2000-01-01     15</span>
<span class="go">2000-01-02     51</span>
<span class="go">2000-01-03     87</span>
<span class="go">2000-01-04    123</span>
<span class="go">2000-01-05     24</span>
<span class="go">Freq: D, dtype: int64</span>

<span class="gp">In [5]: </span><span class="c1"># old behavior</span>
<span class="gp">In [6]: </span><span class="n">series</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="n">closed</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
<span class="go">Out[6]:</span>
<span class="go">2000-01-01      0</span>
<span class="go">2000-01-02     21</span>
<span class="go">2000-01-03     57</span>
<span class="go">2000-01-04     93</span>
<span class="go">2000-01-05    129</span>
<span class="go">Freq: D, dtype: int64</span>
</pre></div>
</div>
<ul class="simple">
<li>Infinity and negative infinity are no longer treated as NA by <code class="docutils literal"><span class="pre">isnull</span></code> and
<code class="docutils literal"><span class="pre">notnull</span></code>. That they ever were was a relic of early pandas. This behavior
can be re-enabled globally by the <code class="docutils literal"><span class="pre">mode.use_inf_as_null</span></code> option:</li>
</ul>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">])</span>

<span class="gp">In [7]: </span><span class="n">pd</span><span class="o">.</span><span class="n">isnull</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gr">Out[7]: </span>
<span class="go">0    False</span>
<span class="go">1    False</span>
<span class="go">2    False</span>
<span class="go">3    False</span>
<span class="go">dtype: bool</span>

<span class="gp">In [8]: </span><span class="n">s</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[8]: </span>
<span class="go">0    1.500000</span>
<span class="go">1         inf</span>
<span class="go">2    3.400000</span>
<span class="go">3        -inf</span>
<span class="go">dtype: float64</span>

<span class="gp">In [9]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;use_inf_as_null&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">pd</span><span class="o">.</span><span class="n">isnull</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gr">Out[10]: </span>
<span class="go">0    False</span>
<span class="go">1     True</span>
<span class="go">2    False</span>
<span class="go">3     True</span>
<span class="go">dtype: bool</span>

<span class="gp">In [11]: </span><span class="n">s</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[11]: </span>
<span class="go">0    1.5</span>
<span class="go">1    0.0</span>
<span class="go">2    3.4</span>
<span class="go">3    0.0</span>
<span class="go">dtype: float64</span>

<span class="gp">In [12]: </span><span class="n">pd</span><span class="o">.</span><span class="n">reset_option</span><span class="p">(</span><span class="s1">&#39;use_inf_as_null&#39;</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>Methods with the <code class="docutils literal"><span class="pre">inplace</span></code> option now all return <code class="docutils literal"><span class="pre">None</span></code> instead of the
calling object. E.g. code written like <code class="docutils literal"><span class="pre">df</span> <span class="pre">=</span> <span class="pre">df.fillna(0,</span> <span class="pre">inplace=True)</span></code>
may stop working. To fix, simply delete the unnecessary variable assignment.</li>
<li><code class="docutils literal"><span class="pre">pandas.merge</span></code> no longer sorts the group keys (<code class="docutils literal"><span class="pre">sort=False</span></code>) by
default. This was done for performance reasons: the group-key sorting is
often one of the more expensive parts of the computation and is often
unnecessary.</li>
<li>The default column names for a file with no header have been changed to the
integers <code class="docutils literal"><span class="pre">0</span></code> through <code class="docutils literal"><span class="pre">N</span> <span class="pre">-</span> <span class="pre">1</span></code>. This is to create consistency with the
DataFrame constructor with no columns specified. The v0.9.0 behavior (names
<code class="docutils literal"><span class="pre">X0</span></code>, <code class="docutils literal"><span class="pre">X1</span></code>, ...) can be reproduced by specifying <code class="docutils literal"><span class="pre">prefix='X'</span></code>:</li>
</ul>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="n">data</span><span class="o">=</span> <span class="s1">&#39;a,b,c</span><span class="se">\n</span><span class="s1">1,Yes,2</span><span class="se">\n</span><span class="s1">3,No,4&#39;</span>

<span class="gp">In [14]: </span><span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="go">a,b,c</span>
<span class="go">1,Yes,2</span>
<span class="go">3,No,4</span>

<span class="gp">In [15]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">header</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="gr">Out[15]: </span>
<span class="go">   0    1  2</span>
<span class="go">0  a    b  c</span>
<span class="go">1  1  Yes  2</span>
<span class="go">2  3   No  4</span>

<span class="go">[3 rows x 3 columns]</span>

<span class="gp">In [16]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">header</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="gr">Out[16]: </span>
<span class="go">  X0   X1 X2</span>
<span class="go">0  a    b  c</span>
<span class="go">1  1  Yes  2</span>
<span class="go">2  3   No  4</span>

<span class="go">[3 rows x 3 columns]</span>
</pre></div>
</div>
<ul class="simple">
<li>Values like <code class="docutils literal"><span class="pre">'Yes'</span></code> and <code class="docutils literal"><span class="pre">'No'</span></code> are not interpreted as boolean by default,
though this can be controlled by new <code class="docutils literal"><span class="pre">true_values</span></code> and <code class="docutils literal"><span class="pre">false_values</span></code>
arguments:</li>
</ul>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="go">a,b,c</span>
<span class="go">1,Yes,2</span>
<span class="go">3,No,4</span>

<span class="gp">In [18]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="gr">Out[18]: </span>
<span class="go">   a    b  c</span>
<span class="go">0  1  Yes  2</span>
<span class="go">1  3   No  4</span>

<span class="go">[2 rows x 3 columns]</span>

<span class="gp">In [19]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">true_values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Yes&#39;</span><span class="p">],</span> <span class="n">false_values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;No&#39;</span><span class="p">])</span>
<span class="gr">Out[19]: </span>
<span class="go">   a      b  c</span>
<span class="go">0  1   True  2</span>
<span class="go">1  3  False  4</span>

<span class="go">[2 rows x 3 columns]</span>
</pre></div>
</div>
<ul class="simple">
<li>The file parsers will not recognize non-string values arising from a
converter function as NA if passed in the <code class="docutils literal"><span class="pre">na_values</span></code> argument. It&#8217;s better
to do post-processing using the <code class="docutils literal"><span class="pre">replace</span></code> function instead.</li>
<li>Calling <code class="docutils literal"><span class="pre">fillna</span></code> on Series or DataFrame with no arguments is no longer
valid code. You must either specify a fill value or an interpolation method:</li>
</ul>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [20]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>

<span class="gp">In [21]: </span><span class="n">s</span>
<span class="gr">Out[21]: </span>
<span class="go">0    NaN</span>
<span class="go">1    1.0</span>
<span class="go">2    2.0</span>
<span class="go">3    NaN</span>
<span class="go">4    4.0</span>
<span class="go">dtype: float64</span>

<span class="gp">In [22]: </span><span class="n">s</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[22]: </span>
<span class="go">0    0.0</span>
<span class="go">1    1.0</span>
<span class="go">2    2.0</span>
<span class="go">3    0.0</span>
<span class="go">4    4.0</span>
<span class="go">dtype: float64</span>

<span class="gp">In [23]: </span><span class="n">s</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;pad&#39;</span><span class="p">)</span>
<span class="gr">Out[23]: </span>
<span class="go">0    NaN</span>
<span class="go">1    1.0</span>
<span class="go">2    2.0</span>
<span class="go">3    2.0</span>
<span class="go">4    4.0</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>Convenience methods <code class="docutils literal"><span class="pre">ffill</span></code> and  <code class="docutils literal"><span class="pre">bfill</span></code> have been added:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [24]: </span><span class="n">s</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span>
<span class="gr">Out[24]: </span>
<span class="go">0    NaN</span>
<span class="go">1    1.0</span>
<span class="go">2    2.0</span>
<span class="go">3    2.0</span>
<span class="go">4    4.0</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">Series.apply</span></code> will now operate on a returned value from the applied
function, that is itself a series, and possibly upcast the result to a
DataFrame</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [25]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">   ....:</span>     <span class="k">return</span> <span class="n">Series</span><span class="p">([</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="p">],</span> <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x^2&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [26]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

<span class="gp">In [27]: </span><span class="n">s</span>
<span class="gr">Out[27]: </span>
<span class="go">0    0.717478</span>
<span class="go">1    0.815199</span>
<span class="go">2    0.452478</span>
<span class="go">3    0.848385</span>
<span class="go">4    0.235477</span>
<span class="go">dtype: float64</span>

<span class="gp">In [28]: </span><span class="n">s</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gr">Out[28]: </span>
<span class="go">          x       x^2</span>
<span class="go">0  0.717478  0.514775</span>
<span class="go">1  0.815199  0.664550</span>
<span class="go">2  0.452478  0.204737</span>
<span class="go">3  0.848385  0.719757</span>
<span class="go">4  0.235477  0.055449</span>

<span class="go">[5 rows x 2 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">New API functions for working with pandas options (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2097">GH2097</a>):</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">get_option</span></code> / <code class="docutils literal"><span class="pre">set_option</span></code> - get/set the value of an option. Partial
names are accepted.  - <code class="docutils literal"><span class="pre">reset_option</span></code> - reset one or more options to
their default value. Partial names are accepted.  - <code class="docutils literal"><span class="pre">describe_option</span></code> -
print a description of one or more options. When called with no
arguments. print all registered options.</li>
</ul>
<p>Note: <code class="docutils literal"><span class="pre">set_printoptions</span></code>/ <code class="docutils literal"><span class="pre">reset_printoptions</span></code> are now deprecated (but
functioning), the print options now live under &#8220;display.XYZ&#8221;. For example:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [29]: </span><span class="n">get_option</span><span class="p">(</span><span class="s2">&quot;display.max_rows&quot;</span><span class="p">)</span>
<span class="gr">Out[29]: </span><span class="mi">15</span>
</pre></div>
</div>
</li>
<li><p class="first">to_string() methods now always return unicode strings  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2224">GH2224</a>).</p>
</li>
</ul>
</div>
<div class="section" id="id104">
<h3>New features<a class="headerlink" href="#id104" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="wide-dataframe-printing">
<h3>Wide DataFrame Printing<a class="headerlink" href="#wide-dataframe-printing" title="Permalink to this headline">¶</a></h3>
<p>Instead of printing the summary information, pandas now splits the string
representation across multiple rows by default:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [30]: </span><span class="n">wide_frame</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>

<span class="gp">In [31]: </span><span class="n">wide_frame</span>
<span class="gr">Out[31]: </span>
<span class="go">         0         1         2         3         4         5         6   \</span>
<span class="go">0 -0.681624  0.191356  1.180274 -0.834179  0.703043  0.166568 -0.583599   </span>
<span class="go">1  0.441522 -0.316864 -0.017062  1.570114 -0.360875 -0.880096  0.235532   </span>
<span class="go">2 -0.412451 -0.462580  0.422194  0.288403 -0.487393 -0.777639  0.055865   </span>
<span class="go">3 -0.277255  1.331263  0.585174 -0.568825 -0.719412  1.191340 -0.456362   </span>
<span class="go">4 -1.642511  0.432560  1.218080 -0.564705 -0.581790  0.286071  0.048725   </span>

<span class="go">         7         8         9         10        11        12        13  \</span>
<span class="go">0 -1.201796 -1.422811 -0.882554  1.209871 -0.941235  0.863067 -0.336232   </span>
<span class="go">1  0.207232 -1.983857 -1.702547 -1.621234 -0.906840  1.014601 -0.475108   </span>
<span class="go">2  1.383381  0.085638  0.246392  0.965887  0.246354 -0.727728 -0.094414   </span>
<span class="go">3  0.089931  0.776079  0.752889 -1.195795 -1.425911 -0.548829  0.774225   </span>
<span class="go">4  1.002440  1.276582  0.054399  0.241963 -0.471786  0.314510 -0.059986   </span>

<span class="go">         14        15  </span>
<span class="go">0 -0.976847  0.033862  </span>
<span class="go">1 -0.358944  1.262942  </span>
<span class="go">2 -0.276854  0.158399  </span>
<span class="go">3  0.740501  1.510263  </span>
<span class="go">4 -2.069319 -1.115104  </span>

<span class="go">[5 rows x 16 columns]</span>
</pre></div>
</div>
<p>The old behavior of printing out summary information can be achieved via the
&#8216;expand_frame_repr&#8217; print option:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [32]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;expand_frame_repr&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="gp">In [33]: </span><span class="n">wide_frame</span>
<span class="gr">Out[33]: </span>
<span class="go">         0         1         2         3         4         5         6         7         8         9         10        11        12        13        14        15</span>
<span class="go">0 -0.681624  0.191356  1.180274 -0.834179  0.703043  0.166568 -0.583599 -1.201796 -1.422811 -0.882554  1.209871 -0.941235  0.863067 -0.336232 -0.976847  0.033862</span>
<span class="go">1  0.441522 -0.316864 -0.017062  1.570114 -0.360875 -0.880096  0.235532  0.207232 -1.983857 -1.702547 -1.621234 -0.906840  1.014601 -0.475108 -0.358944  1.262942</span>
<span class="go">2 -0.412451 -0.462580  0.422194  0.288403 -0.487393 -0.777639  0.055865  1.383381  0.085638  0.246392  0.965887  0.246354 -0.727728 -0.094414 -0.276854  0.158399</span>
<span class="go">3 -0.277255  1.331263  0.585174 -0.568825 -0.719412  1.191340 -0.456362  0.089931  0.776079  0.752889 -1.195795 -1.425911 -0.548829  0.774225  0.740501  1.510263</span>
<span class="go">4 -1.642511  0.432560  1.218080 -0.564705 -0.581790  0.286071  0.048725  1.002440  1.276582  0.054399  0.241963 -0.471786  0.314510 -0.059986 -2.069319 -1.115104</span>

<span class="go">[5 rows x 16 columns]</span>
</pre></div>
</div>
<p>The width of each line can be changed via &#8216;line_width&#8217; (80 by default):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [34]: </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;line_width&#39;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="go">line_width has been deprecated, use display.width instead (currently both are</span>
<span class="go">identical)</span>


<span class="gp">In [35]: </span><span class="n">wide_frame</span>
<span class="gr">Out[35]: </span>
<span class="go">         0         1         2   \</span>
<span class="go">0 -0.681624  0.191356  1.180274   </span>
<span class="go">1  0.441522 -0.316864 -0.017062   </span>
<span class="go">2 -0.412451 -0.462580  0.422194   </span>
<span class="go">3 -0.277255  1.331263  0.585174   </span>
<span class="go">4 -1.642511  0.432560  1.218080   </span>

<span class="go">         3         4         5   \</span>
<span class="go">0 -0.834179  0.703043  0.166568   </span>
<span class="go">1  1.570114 -0.360875 -0.880096   </span>
<span class="go">2  0.288403 -0.487393 -0.777639   </span>
<span class="go">3 -0.568825 -0.719412  1.191340   </span>
<span class="go">4 -0.564705 -0.581790  0.286071   </span>

<span class="go">         6         7         8   \</span>
<span class="go">0 -0.583599 -1.201796 -1.422811   </span>
<span class="go">1  0.235532  0.207232 -1.983857   </span>
<span class="go">2  0.055865  1.383381  0.085638   </span>
<span class="go">3 -0.456362  0.089931  0.776079   </span>
<span class="go">4  0.048725  1.002440  1.276582   </span>

<span class="go">         9         10        11  \</span>
<span class="go">0 -0.882554  1.209871 -0.941235   </span>
<span class="go">1 -1.702547 -1.621234 -0.906840   </span>
<span class="go">2  0.246392  0.965887  0.246354   </span>
<span class="go">3  0.752889 -1.195795 -1.425911   </span>
<span class="go">4  0.054399  0.241963 -0.471786   </span>

<span class="go">         12        13        14  \</span>
<span class="go">0  0.863067 -0.336232 -0.976847   </span>
<span class="go">1  1.014601 -0.475108 -0.358944   </span>
<span class="go">2 -0.727728 -0.094414 -0.276854   </span>
<span class="go">3 -0.548829  0.774225  0.740501   </span>
<span class="go">4  0.314510 -0.059986 -2.069319   </span>

<span class="go">         15  </span>
<span class="go">0  0.033862  </span>
<span class="go">1  1.262942  </span>
<span class="go">2  0.158399  </span>
<span class="go">3  1.510263  </span>
<span class="go">4 -1.115104  </span>

<span class="go">[5 rows x 16 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="updated-pytables-support">
<h3>Updated PyTables Support<a class="headerlink" href="#updated-pytables-support" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="io.html#io-hdf5"><span class="std std-ref">Docs</span></a> for PyTables <code class="docutils literal"><span class="pre">Table</span></code> format &amp; several enhancements to the api. Here is a taste of what to expect.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [36]: </span><span class="n">store</span> <span class="o">=</span> <span class="n">HDFStore</span><span class="p">(</span><span class="s1">&#39;store.h5&#39;</span><span class="p">)</span>

<span class="gp">In [37]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">8</span><span class="p">),</span>
<span class="gp">   ....:</span>            <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [38]: </span><span class="n">df</span>
<span class="gr">Out[38]: </span>
<span class="go">                   A         B         C</span>
<span class="go">2000-01-01 -0.369325 -1.502617 -0.376280</span>
<span class="go">2000-01-02  0.511936 -0.116412 -0.625256</span>
<span class="go">2000-01-03 -0.550627  1.261433 -0.552429</span>
<span class="go">2000-01-04  1.695803 -1.025917 -0.910942</span>
<span class="go">2000-01-05  0.426805 -0.131749  0.432600</span>
<span class="go">2000-01-06  0.044671 -0.341265  1.844536</span>
<span class="go">2000-01-07 -2.036047  0.000830 -0.955697</span>
<span class="go">2000-01-08 -0.898872 -0.725411  0.059904</span>

<span class="go">[8 rows x 3 columns]</span>

<span class="c"># appending data frames</span>
<span class="gp">In [39]: </span><span class="n">df1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>

<span class="gp">In [40]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span>

<span class="gp">In [41]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;df&#39;</span><span class="p">,</span> <span class="n">df1</span><span class="p">)</span>

<span class="gp">In [42]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;df&#39;</span><span class="p">,</span> <span class="n">df2</span><span class="p">)</span>

<span class="gp">In [43]: </span><span class="n">store</span>
<span class="gr">Out[43]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: store.h5</span>
<span class="go">/df            frame_table  (typ-&gt;appendable,nrows-&gt;8,ncols-&gt;3,indexers-&gt;[index])</span>

<span class="c"># selecting the entire store</span>
<span class="gp">In [44]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;df&#39;</span><span class="p">)</span>
<span class="gr">Out[44]: </span>
<span class="go">                   A         B         C</span>
<span class="go">2000-01-01 -0.369325 -1.502617 -0.376280</span>
<span class="go">2000-01-02  0.511936 -0.116412 -0.625256</span>
<span class="go">2000-01-03 -0.550627  1.261433 -0.552429</span>
<span class="go">2000-01-04  1.695803 -1.025917 -0.910942</span>
<span class="go">2000-01-05  0.426805 -0.131749  0.432600</span>
<span class="go">2000-01-06  0.044671 -0.341265  1.844536</span>
<span class="go">2000-01-07 -2.036047  0.000830 -0.955697</span>
<span class="go">2000-01-08 -0.898872 -0.725411  0.059904</span>

<span class="go">[8 rows x 3 columns]</span>
</pre></div>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [45]: </span><span class="n">wp</span> <span class="o">=</span> <span class="n">Panel</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Item1&#39;</span><span class="p">,</span> <span class="s1">&#39;Item2&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>        <span class="n">major_axis</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">   ....:</span>        <span class="n">minor_axis</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [46]: </span><span class="n">wp</span>
<span class="gr">Out[46]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 2 (items) x 5 (major_axis) x 4 (minor_axis)</span>
<span class="go">Items axis: Item1 to Item2</span>
<span class="go">Major_axis axis: 2000-01-01 00:00:00 to 2000-01-05 00:00:00</span>
<span class="go">Minor_axis axis: A to D</span>

<span class="c"># storing a panel</span>
<span class="gp">In [47]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;wp&#39;</span><span class="p">,</span><span class="n">wp</span><span class="p">)</span>

<span class="c"># selecting via A QUERY</span>
<span class="gp">In [48]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;wp&#39;</span><span class="p">,</span>
<span class="gp">   ....:</span>   <span class="p">[</span> <span class="n">Term</span><span class="p">(</span><span class="s1">&#39;major_axis&gt;20000102&#39;</span><span class="p">),</span> <span class="n">Term</span><span class="p">(</span><span class="s1">&#39;minor_axis&#39;</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">])</span> <span class="p">])</span>
<span class="gp">   ....:</span> 
<span class="gr">Out[48]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 2 (items) x 3 (major_axis) x 2 (minor_axis)</span>
<span class="go">Items axis: Item1 to Item2</span>
<span class="go">Major_axis axis: 2000-01-03 00:00:00 to 2000-01-05 00:00:00</span>
<span class="go">Minor_axis axis: A to B</span>

<span class="c"># removing data from tables</span>
<span class="gp">In [49]: </span><span class="n">store</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;wp&#39;</span><span class="p">,</span> <span class="n">Term</span><span class="p">(</span><span class="s1">&#39;major_axis&gt;20000103&#39;</span><span class="p">))</span>
<span class="gr">Out[49]: </span><span class="mi">8</span>

<span class="gp">In [50]: </span><span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;wp&#39;</span><span class="p">)</span>
<span class="gr">Out[50]: </span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 2 (items) x 3 (major_axis) x 4 (minor_axis)</span>
<span class="go">Items axis: Item1 to Item2</span>
<span class="go">Major_axis axis: 2000-01-01 00:00:00 to 2000-01-03 00:00:00</span>
<span class="go">Minor_axis axis: A to D</span>

<span class="c"># deleting a store</span>
<span class="gp">In [51]: </span><span class="k">del</span> <span class="n">store</span><span class="p">[</span><span class="s1">&#39;df&#39;</span><span class="p">]</span>

<span class="gp">In [52]: </span><span class="n">store</span>
<span class="gr">Out[52]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: store.h5</span>
<span class="go">/wp            wide_table   (typ-&gt;appendable,nrows-&gt;12,ncols-&gt;2,indexers-&gt;[major_axis,minor_axis])</span>
</pre></div>
</div>
<p><strong>Enhancements</strong></p>
<ul>
<li><p class="first">added ability to hierarchical keys</p>
<blockquote>
<div><div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [53]: </span><span class="n">store</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;foo/bar/bah&#39;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>

<span class="gp">In [54]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;food/orange&#39;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>

<span class="gp">In [55]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;food/apple&#39;</span><span class="p">,</span>  <span class="n">df</span><span class="p">)</span>

<span class="gp">In [56]: </span><span class="n">store</span>
<span class="gr">Out[56]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: store.h5</span>
<span class="go">/foo/bar/bah            frame        (shape-&gt;[8,3])                                                        </span>
<span class="go">/food/apple             frame_table  (typ-&gt;appendable,nrows-&gt;8,ncols-&gt;3,indexers-&gt;[index])                 </span>
<span class="go">/food/orange            frame_table  (typ-&gt;appendable,nrows-&gt;8,ncols-&gt;3,indexers-&gt;[index])                 </span>
<span class="go">/wp                     wide_table   (typ-&gt;appendable,nrows-&gt;12,ncols-&gt;2,indexers-&gt;[major_axis,minor_axis])</span>

<span class="c"># remove all nodes under this level</span>
<span class="gp">In [57]: </span><span class="n">store</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;food&#39;</span><span class="p">)</span>

<span class="gp">In [58]: </span><span class="n">store</span>
<span class="gr">Out[58]: </span>
<span class="go">&lt;class &#39;pandas.io.pytables.HDFStore&#39;&gt;</span>
<span class="go">File path: store.h5</span>
<span class="go">/foo/bar/bah            frame        (shape-&gt;[8,3])                                                        </span>
<span class="go">/wp                     wide_table   (typ-&gt;appendable,nrows-&gt;12,ncols-&gt;2,indexers-&gt;[major_axis,minor_axis])</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">added mixed-dtype support!</p>
<blockquote>
<div><div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [59]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;string&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span>

<span class="gp">In [60]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;int&#39;</span><span class="p">]</span>    <span class="o">=</span> <span class="mi">1</span>

<span class="gp">In [61]: </span><span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;df&#39;</span><span class="p">,</span><span class="n">df</span><span class="p">)</span>

<span class="gp">In [62]: </span><span class="n">df1</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;df&#39;</span><span class="p">)</span>

<span class="gp">In [63]: </span><span class="n">df1</span>
<span class="gr">Out[63]: </span>
<span class="go">                   A         B         C  string  int</span>
<span class="go">2000-01-01 -0.369325 -1.502617 -0.376280  string    1</span>
<span class="go">2000-01-02  0.511936 -0.116412 -0.625256  string    1</span>
<span class="go">2000-01-03 -0.550627  1.261433 -0.552429  string    1</span>
<span class="go">2000-01-04  1.695803 -1.025917 -0.910942  string    1</span>
<span class="go">2000-01-05  0.426805 -0.131749  0.432600  string    1</span>
<span class="go">2000-01-06  0.044671 -0.341265  1.844536  string    1</span>
<span class="go">2000-01-07 -2.036047  0.000830 -0.955697  string    1</span>
<span class="go">2000-01-08 -0.898872 -0.725411  0.059904  string    1</span>

<span class="go">[8 rows x 5 columns]</span>

<span class="gp">In [64]: </span><span class="n">df1</span><span class="o">.</span><span class="n">get_dtype_counts</span><span class="p">()</span>
<span class="gr">Out[64]: </span>
<span class="go">float64    3</span>
<span class="go">int64      1</span>
<span class="go">object     1</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">performance improvments on table writing</p>
</li>
<li><p class="first">support for arbitrarily indexed dimensions</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">SparseSeries</span></code> now has a <code class="docutils literal"><span class="pre">density</span></code> property (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2384">GH2384</a>)</p>
</li>
<li><p class="first">enable <code class="docutils literal"><span class="pre">Series.str.strip/lstrip/rstrip</span></code> methods to take an input argument
to strip arbitrary characters (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2411">GH2411</a>)</p>
</li>
<li><p class="first">implement <code class="docutils literal"><span class="pre">value_vars</span></code> in <code class="docutils literal"><span class="pre">melt</span></code> to limit values to certain columns
and add <code class="docutils literal"><span class="pre">melt</span></code> to pandas namespace (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2412">GH2412</a>)</p>
</li>
</ul>
<p><strong>Bug Fixes</strong></p>
<ul class="simple">
<li>added <code class="docutils literal"><span class="pre">Term</span></code> method of specifying where conditions (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1996">GH1996</a>).</li>
<li><code class="docutils literal"><span class="pre">del</span> <span class="pre">store['df']</span></code> now call <code class="docutils literal"><span class="pre">store.remove('df')</span></code> for store deletion</li>
<li>deleting of consecutive rows is much faster than before</li>
<li><code class="docutils literal"><span class="pre">min_itemsize</span></code> parameter can be specified in table creation to force a
minimum size for indexing columns (the previous implementation would set the
column size based on the first append)</li>
<li>indexing support via <code class="docutils literal"><span class="pre">create_table_index</span></code> (requires PyTables &gt;= 2.3)
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/698">GH698</a>).</li>
<li>appending on a store would fail if the table was not first created via <code class="docutils literal"><span class="pre">put</span></code></li>
<li>fixed issue with missing attributes after loading a pickled dataframe (GH2431)</li>
<li>minor change to select and remove: require a table ONLY if where is also
provided (and not None)</li>
</ul>
<p><strong>Compatibility</strong></p>
<p>0.10 of <code class="docutils literal"><span class="pre">HDFStore</span></code> is backwards compatible for reading tables created in a prior version of pandas,
however, query terms using the prior (undocumented) methodology are unsupported. You must read in the entire
file and write it out using the new format to take advantage of the updates.</p>
</div>
<div class="section" id="n-dimensional-panels-experimental">
<h3>N Dimensional Panels (Experimental)<a class="headerlink" href="#n-dimensional-panels-experimental" title="Permalink to this headline">¶</a></h3>
<p>Adding experimental support for Panel4D and factory functions to create n-dimensional named panels.
<a class="reference internal" href="dsintro.html#dsintro-panel4d"><span class="std std-ref">Docs</span></a> for NDim. Here is a taste of what to expect.</p>
<blockquote>
<div><div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [65]: </span><span class="n">p4d</span> <span class="o">=</span> <span class="n">Panel4D</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....:</span>       <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Label1&#39;</span><span class="p">,</span><span class="s1">&#39;Label2&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>       <span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Item1&#39;</span><span class="p">,</span> <span class="s1">&#39;Item2&#39;</span><span class="p">],</span>
<span class="gp">   ....:</span>       <span class="n">major_axis</span><span class="o">=</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">   ....:</span>       <span class="n">minor_axis</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">])</span>
<span class="gp">   ....:</span> 

<span class="gp">In [66]: </span><span class="n">p4d</span>
<span class="gr">Out[66]: </span>
<span class="go">&lt;class &#39;pandas.core.panelnd.Panel4D&#39;&gt;</span>
<span class="go">Dimensions: 2 (labels) x 2 (items) x 5 (major_axis) x 4 (minor_axis)</span>
<span class="go">Labels axis: Label1 to Label2</span>
<span class="go">Items axis: Item1 to Item2</span>
<span class="go">Major_axis axis: 2000-01-01 00:00:00 to 2000-01-05 00:00:00</span>
<span class="go">Minor_axis axis: A to D</span>
</pre></div>
</div>
</div></blockquote>
<p>See the <a class="reference internal" href="release.html#release"><span class="std std-ref">full release notes</span></a> or issue tracker
on GitHub for a complete list.</p>
</div>
</div>
<div class="section" id="v0-9-1-november-14-2012">
<span id="whatsnew-0901"></span><h2>v0.9.1 (November 14, 2012)<a class="headerlink" href="#v0-9-1-november-14-2012" title="Permalink to this headline">¶</a></h2>
<p>This is a bugfix release from 0.9.0 and includes several new features and
enhancements along with a large number of bug fixes. The new features include
by-column sort order for DataFrame and Series, improved NA handling for the rank
method, masking functions for DataFrame, and intraday time-series filtering for
DataFrame.</p>
<div class="section" id="id105">
<h3>New features<a class="headerlink" href="#id105" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first"><cite>Series.sort</cite>, <cite>DataFrame.sort</cite>, and <cite>DataFrame.sort_index</cite> can now be
specified in a per-column manner to support multiple sort orders (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/928">GH928</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">])</span>

<span class="gp">In [2]: </span><span class="n">df</span><span class="o">.</span><span class="n">sort</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gr">Out[2]: </span>
<span class="go">   A  B  C</span>
<span class="go">0  0  1  0</span>
<span class="go">2  0  0  1</span>
<span class="go">1  1  1  1</span>
<span class="go">5  1  1  0</span>
<span class="go">3  1  0  0</span>
<span class="go">4  1  0  1</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first"><cite>DataFrame.rank</cite> now supports additional argument values for the
<cite>na_option</cite> parameter so missing values can be assigned either the largest
or the smallest rank (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1508">GH1508</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2159">GH2159</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">])</span>

<span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="gp">In [5]: </span><span class="n">df</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="gr">Out[5]: </span>
<span class="go">     A    B    C</span>
<span class="go">0  3.0  2.0  1.0</span>
<span class="go">1  1.0  3.0  3.0</span>
<span class="go">2  NaN  NaN  NaN</span>
<span class="go">3  NaN  NaN  NaN</span>
<span class="go">4  NaN  NaN  NaN</span>
<span class="go">5  2.0  1.0  2.0</span>

<span class="go">[6 rows x 3 columns]</span>

<span class="gp">In [6]: </span><span class="n">df</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">na_option</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="gr">Out[6]: </span>
<span class="go">     A    B    C</span>
<span class="go">0  6.0  5.0  4.0</span>
<span class="go">1  4.0  6.0  6.0</span>
<span class="go">2  2.0  2.0  2.0</span>
<span class="go">3  2.0  2.0  2.0</span>
<span class="go">4  2.0  2.0  2.0</span>
<span class="go">5  5.0  4.0  5.0</span>

<span class="go">[6 rows x 3 columns]</span>

<span class="gp">In [7]: </span><span class="n">df</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">na_option</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>
<span class="gr">Out[7]: </span>
<span class="go">     A    B    C</span>
<span class="go">0  3.0  2.0  1.0</span>
<span class="go">1  1.0  3.0  3.0</span>
<span class="go">2  5.0  5.0  5.0</span>
<span class="go">3  5.0  5.0  5.0</span>
<span class="go">4  5.0  5.0  5.0</span>
<span class="go">5  2.0  1.0  2.0</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
</li>
<li><p class="first">DataFrame has new <cite>where</cite> and <cite>mask</cite> methods to select values according to a
given boolean mask (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2109">GH2109</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2151">GH2151</a>)</p>
<blockquote>
<div><p>DataFrame currently supports slicing via a boolean vector the same length as the DataFrame (inside the <cite>[]</cite>).
The returned DataFrame has the same number of columns as the original, but is sliced on its index.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">])</span>

<span class="gp">In [9]: </span><span class="n">df</span>
<span class="gr">Out[9]: </span>
<span class="go">          A         B         C</span>
<span class="go">0 -0.187239 -1.703664  0.613136</span>
<span class="go">1 -0.948528  0.505346  0.017228</span>
<span class="go">2 -2.391256  1.207381  0.853174</span>
<span class="go">3  0.124213 -0.625597 -1.211224</span>
<span class="go">4 -0.476548  0.649425  0.004610</span>

<span class="go">[5 rows x 3 columns]</span>

<span class="gp">In [10]: </span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
<span class="gr">Out[10]: </span>
<span class="go">          A         B         C</span>
<span class="go">3  0.124213 -0.625597 -1.211224</span>

<span class="go">[1 rows x 3 columns]</span>
</pre></div>
</div>
<p>If a DataFrame is sliced with a DataFrame based boolean condition (with the same size as the original DataFrame),
then a DataFrame the same size (index and columns) as the original is returned, with
elements that do not meet the boolean condition as <cite>NaN</cite>. This is accomplished via
the new method <cite>DataFrame.where</cite>. In addition, <cite>where</cite> takes an optional <cite>other</cite> argument for replacement.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>
<span class="gr">Out[11]: </span>
<span class="go">          A         B         C</span>
<span class="go">0       NaN       NaN  0.613136</span>
<span class="go">1       NaN  0.505346  0.017228</span>
<span class="go">2       NaN  1.207381  0.853174</span>
<span class="go">3  0.124213       NaN       NaN</span>
<span class="go">4       NaN  0.649425  0.004610</span>

<span class="go">[5 rows x 3 columns]</span>

<span class="gp">In [12]: </span><span class="n">df</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[12]: </span>
<span class="go">          A         B         C</span>
<span class="go">0       NaN       NaN  0.613136</span>
<span class="go">1       NaN  0.505346  0.017228</span>
<span class="go">2       NaN  1.207381  0.853174</span>
<span class="go">3  0.124213       NaN       NaN</span>
<span class="go">4       NaN  0.649425  0.004610</span>

<span class="go">[5 rows x 3 columns]</span>

<span class="gp">In [13]: </span><span class="n">df</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="n">df</span><span class="p">)</span>
<span class="gr">Out[13]: </span>
<span class="go">          A         B         C</span>
<span class="go">0  0.187239  1.703664  0.613136</span>
<span class="go">1  0.948528  0.505346  0.017228</span>
<span class="go">2  2.391256  1.207381  0.853174</span>
<span class="go">3  0.124213  0.625597  1.211224</span>
<span class="go">4  0.476548  0.649425  0.004610</span>

<span class="go">[5 rows x 3 columns]</span>
</pre></div>
</div>
<p>Furthermore, <cite>where</cite> now aligns the input boolean condition (ndarray or DataFrame), such that partial selection
with setting is possible. This is analagous to partial setting via <cite>.ix</cite> (but on the contents rather than the axis labels)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [14]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="gp">In [15]: </span><span class="n">df2</span><span class="p">[</span> <span class="n">df2</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>

<span class="gp">In [16]: </span><span class="n">df2</span>
<span class="gr">Out[16]: </span>
<span class="go">          A         B         C</span>
<span class="go">0 -0.187239 -1.703664  0.613136</span>
<span class="go">1 -0.948528  3.000000  3.000000</span>
<span class="go">2 -2.391256  3.000000  3.000000</span>
<span class="go">3  3.000000 -0.625597 -1.211224</span>
<span class="go">4 -0.476548  0.649425  0.004610</span>

<span class="go">[5 rows x 3 columns]</span>
</pre></div>
</div>
<p><cite>DataFrame.mask</cite> is the inverse boolean operation of <cite>where</cite>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="n">df</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">df</span><span class="o">&lt;=</span><span class="mi">0</span><span class="p">)</span>
<span class="gr">Out[17]: </span>
<span class="go">          A         B         C</span>
<span class="go">0       NaN       NaN  0.613136</span>
<span class="go">1       NaN  0.505346  0.017228</span>
<span class="go">2       NaN  1.207381  0.853174</span>
<span class="go">3  0.124213       NaN       NaN</span>
<span class="go">4       NaN  0.649425  0.004610</span>

<span class="go">[5 rows x 3 columns]</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Enable referencing of Excel columns by their column names (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1936">GH1936</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [18]: </span><span class="n">xl</span> <span class="o">=</span> <span class="n">ExcelFile</span><span class="p">(</span><span class="s1">&#39;data/test.xls&#39;</span><span class="p">)</span>

<span class="gp">In [19]: </span><span class="n">xl</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;Sheet1&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="gp">   ....:</span>          <span class="n">parse_cols</span><span class="o">=</span><span class="s1">&#39;A:D&#39;</span><span class="p">)</span>
<span class="gp">   ....:</span> 
<span class="go">---------------------------------------------------------------------------</span>
<span class="go">NotImplementedError                       Traceback (most recent call last)</span>
<span class="go">&lt;ipython-input-19-7ac41df80d31&gt; in &lt;module&gt;()</span>
<span class="go">      1 xl.parse(&#39;Sheet1&#39;, index_col=0, parse_dates=True,</span>
<span class="go">----&gt; 2          parse_cols=&#39;A:D&#39;)</span>

<span class="go">/home/joris/scipy/pandas/pandas/io/excel.pyc in parse(self, sheetname, header, skiprows, skip_footer, names, index_col, parse_cols, parse_dates, date_parser, na_values, thousands, convert_float, has_index_names, converters, true_values, false_values, squeeze, **kwds)</span>
<span class="go">    279                                  false_values=false_values,</span>
<span class="go">    280                                  squeeze=squeeze,</span>
<span class="go">--&gt; 281                                  **kwds)</span>
<span class="go">    282 </span>
<span class="go">    283     def _should_parse(self, i, parse_cols):</span>

<span class="go">/home/joris/scipy/pandas/pandas/io/excel.pyc in _parse_excel(self, sheetname, header, skiprows, names, skip_footer, index_col, has_index_names, parse_cols, parse_dates, date_parser, na_values, thousands, convert_float, true_values, false_values, verbose, squeeze, **kwds)</span>
<span class="go">    337                                       &quot;is not implemented&quot;)</span>
<span class="go">    338         if parse_dates:</span>
<span class="go">--&gt; 339             raise NotImplementedError(&quot;parse_dates keyword of read_excel &quot;</span>
<span class="go">    340                                       &quot;is not implemented&quot;)</span>
<span class="go">    341 </span>

<span class="go">NotImplementedError: parse_dates keyword of read_excel is not implemented</span>
</pre></div>
</div>
</li>
<li><p class="first">Added option to disable pandas-style tick locators and formatters
using <cite>series.plot(x_compat=True)</cite> or <cite>pandas.plot_params[&#8216;x_compat&#8217;] =
True</cite> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2205">GH2205</a>)</p>
</li>
<li><p class="first">Existing TimeSeries methods <cite>at_time</cite> and <cite>between_time</cite> were added to
DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2149">GH2149</a>)</p>
</li>
<li><p class="first">DataFrame.dot can now accept ndarrays (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2042">GH2042</a>)</p>
</li>
<li><p class="first">DataFrame.drop now supports non-unique indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2101">GH2101</a>)</p>
</li>
<li><p class="first">Panel.shift now supports negative periods (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2164">GH2164</a>)</p>
</li>
<li><p class="first">DataFrame now support unary ~ operator (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2110">GH2110</a>)</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id106">
<h3>API changes<a class="headerlink" href="#id106" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">Upsampling data with a PeriodIndex will result in a higher frequency
TimeSeries that spans the original time window</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">prng</span> <span class="o">=</span> <span class="n">period_range</span><span class="p">(</span><span class="s1">&#39;2012Q1&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;Q&#39;</span><span class="p">)</span>

<span class="gp">In [2]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">prng</span><span class="p">)),</span> <span class="n">prng</span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">s</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">)</span>
<span class="go">Out[4]:</span>
<span class="go">2012-01   -1.471992</span>
<span class="go">2012-02         NaN</span>
<span class="go">2012-03         NaN</span>
<span class="go">2012-04   -0.493593</span>
<span class="go">2012-05         NaN</span>
<span class="go">2012-06         NaN</span>
<span class="go">Freq: M, dtype: float64</span>
</pre></div>
</div>
</li>
<li><p class="first">Period.end_time now returns the last nanosecond in the time interval
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2124">GH2124</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2125">GH2125</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1764">GH1764</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [20]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">Period</span><span class="p">(</span><span class="s1">&#39;2012&#39;</span><span class="p">)</span>

<span class="gp">In [21]: </span><span class="n">p</span><span class="o">.</span><span class="n">end_time</span>
<span class="gr">Out[21]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2012-12-31 23:59:59.999999999&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">File parsers no longer coerce to float or bool for columns that have custom
converters specified (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/2184">GH2184</a>)</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [22]: </span><span class="n">data</span> <span class="o">=</span> <span class="s1">&#39;A,B,C</span><span class="se">\n</span><span class="s1">00001,001,5</span><span class="se">\n</span><span class="s1">00002,002,6&#39;</span>

<span class="gp">In [23]: </span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">converters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;A&#39;</span> <span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()})</span>
<span class="gr">Out[23]: </span>
<span class="go">       A  B  C</span>
<span class="go">0  00001  1  5</span>
<span class="go">1  00002  2  6</span>

<span class="go">[2 rows x 3 columns]</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
<p>See the <a class="reference internal" href="release.html#release"><span class="std std-ref">full release notes</span></a> or issue tracker
on GitHub for a complete list.</p>
</div>
</div>
<div class="section" id="v0-9-0-october-7-2012">
<span id="whatsnew-0900"></span><h2>v0.9.0 (October 7, 2012)<a class="headerlink" href="#v0-9-0-october-7-2012" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.8.1 and includes several new features and
enhancements along with a large number of bug fixes. New features include
vectorized unicode encoding/decoding for <cite>Series.str</cite>, <cite>to_latex</cite> method to
DataFrame, more flexible parsing of boolean values, and enabling the download of
options data from Yahoo! Finance.</p>
<div class="section" id="id107">
<h3>New features<a class="headerlink" href="#id107" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Add <code class="docutils literal"><span class="pre">encode</span></code> and <code class="docutils literal"><span class="pre">decode</span></code> for unicode handling to <a class="reference internal" href="text.html#text-string-methods"><span class="std std-ref">vectorized
string processing methods</span></a> in Series.str  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1706">GH1706</a>)</li>
<li>Add <code class="docutils literal"><span class="pre">DataFrame.to_latex</span></code> method (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1735">GH1735</a>)</li>
<li>Add convenient expanding window equivalents of all rolling_* ops (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1785">GH1785</a>)</li>
<li>Add Options class to pandas.io.data for fetching options data from Yahoo!
Finance (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1748">GH1748</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1739">GH1739</a>)</li>
<li>More flexible parsing of boolean values (Yes, No, TRUE, FALSE, etc)
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1691">GH1691</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1295">GH1295</a>)</li>
<li>Add <code class="docutils literal"><span class="pre">level</span></code> parameter to <code class="docutils literal"><span class="pre">Series.reset_index</span></code></li>
<li><code class="docutils literal"><span class="pre">TimeSeries.between_time</span></code> can now select times across midnight (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1871">GH1871</a>)</li>
<li>Series constructor can now handle generator as input (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1679">GH1679</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.dropna</span></code> can now take multiple axes (tuple/list) as input
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/924">GH924</a>)</li>
<li>Enable <code class="docutils literal"><span class="pre">skip_footer</span></code> parameter in <code class="docutils literal"><span class="pre">ExcelFile.parse</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1843">GH1843</a>)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id108">
<h3>API changes<a class="headerlink" href="#id108" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>The default column names when <code class="docutils literal"><span class="pre">header=None</span></code> and no columns names passed to
functions like <code class="docutils literal"><span class="pre">read_csv</span></code> has changed to be more Pythonic and amenable to
attribute access:</li>
</ul>
</div></blockquote>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">data</span> <span class="o">=</span> <span class="s1">&#39;0,0,1</span><span class="se">\n</span><span class="s1">1,1,0</span><span class="se">\n</span><span class="s1">0,1,0&#39;</span>

<span class="gp">In [2]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">header</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">df</span>
<span class="gr">Out[3]: </span>
<span class="go">   0  1  2</span>
<span class="go">0  0  0  1</span>
<span class="go">1  1  1  0</span>
<span class="go">2  0  1  0</span>

<span class="go">[3 rows x 3 columns]</span>
</pre></div>
</div>
<ul class="simple">
<li>Creating a Series from another Series, passing an index, will cause reindexing
to happen inside rather than treating the Series like an ndarray. Technically
improper usages like <code class="docutils literal"><span class="pre">Series(df[col1],</span> <span class="pre">index=df[col2])</span></code> that worked before
&#8220;by accident&#8221; (this was never intended) will lead to all NA Series in some
cases. To be perfectly clear:</li>
</ul>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">s1</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

<span class="gp">In [5]: </span><span class="n">s1</span>
<span class="gr">Out[5]: </span>
<span class="go">0    1</span>
<span class="go">1    2</span>
<span class="go">2    3</span>
<span class="go">dtype: int64</span>

<span class="gp">In [6]: </span><span class="n">s2</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span><span class="p">])</span>

<span class="gp">In [7]: </span><span class="n">s2</span>
<span class="gr">Out[7]: </span>
<span class="go">foo   NaN</span>
<span class="go">bar   NaN</span>
<span class="go">baz   NaN</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<ul class="simple">
<li>Deprecated <code class="docutils literal"><span class="pre">day_of_year</span></code> API removed from PeriodIndex, use <code class="docutils literal"><span class="pre">dayofyear</span></code>
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1723">GH1723</a>)</li>
<li>Don&#8217;t modify NumPy suppress printoption to True at import time</li>
<li>The internal HDF5 data arrangement for DataFrames has been transposed.  Legacy
files will still be readable by HDFStore (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1834">GH1834</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1824">GH1824</a>)</li>
<li>Legacy cruft removed: pandas.stats.misc.quantileTS</li>
<li>Use ISO8601 format for Period repr: monthly, daily, and on down (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1776">GH1776</a>)</li>
<li>Empty DataFrame columns are now created as object dtype. This will prevent a
class of TypeErrors that was occurring in code where the dtype of a column
would depend on the presence of data or not (e.g. a SQL query having results)
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1783">GH1783</a>)</li>
<li>Setting parts of DataFrame/Panel using ix now aligns input Series/DataFrame
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1630">GH1630</a>)</li>
<li><code class="docutils literal"><span class="pre">first</span></code> and <code class="docutils literal"><span class="pre">last</span></code> methods in <code class="docutils literal"><span class="pre">GroupBy</span></code> no longer drop non-numeric
columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1809">GH1809</a>)</li>
<li>Resolved inconsistencies in specifying custom NA values in text parser.
<code class="docutils literal"><span class="pre">na_values</span></code> of type dict no longer override default NAs unless
<code class="docutils literal"><span class="pre">keep_default_na</span></code> is set to false explicitly (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1657">GH1657</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.dot</span></code> will not do data alignment, and also work with Series
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1915">GH1915</a>)</li>
</ul>
<p>See the <a class="reference internal" href="release.html#release"><span class="std std-ref">full release notes</span></a> or issue tracker
on GitHub for a complete list.</p>
</div>
</div>
<div class="section" id="v0-8-1-july-22-2012">
<span id="whatsnew-0801"></span><h2>v0.8.1 (July 22, 2012)<a class="headerlink" href="#v0-8-1-july-22-2012" title="Permalink to this headline">¶</a></h2>
<p>This release includes a few new features, performance enhancements, and over 30
bug fixes from 0.8.0.  New features include notably NA friendly string
processing functionality and a series of new plot types and options.</p>
<div class="section" id="id109">
<h3>New features<a class="headerlink" href="#id109" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Add <a class="reference internal" href="text.html#text-string-methods"><span class="std std-ref">vectorized string processing methods</span></a>
accessible via Series.str (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/620">GH620</a>)</li>
<li>Add option to disable adjustment in EWMA (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1584">GH1584</a>)</li>
<li><a class="reference internal" href="visualization.html#visualization-radviz"><span class="std std-ref">Radviz plot</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1566">GH1566</a>)</li>
<li><a class="reference internal" href="visualization.html#visualization-parallel-coordinates"><span class="std std-ref">Parallel coordinates plot</span></a></li>
<li><a class="reference internal" href="visualization.html#visualization-bootstrap"><span class="std std-ref">Bootstrap plot</span></a></li>
<li>Per column styles and secondary y-axis plotting (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1559">GH1559</a>)</li>
<li>New datetime converters millisecond plotting  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1599">GH1599</a>)</li>
<li>Add option to disable &#8220;sparse&#8221; display of hierarchical indexes (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1538">GH1538</a>)</li>
<li>Series/DataFrame&#8217;s <code class="docutils literal"><span class="pre">set_index</span></code> method can <a class="reference internal" href="indexing.html#indexing-set-index"><span class="std std-ref">append levels</span></a> to an existing Index/MultiIndex (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1569">GH1569</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1577">GH1577</a>)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id110">
<h3>Performance improvements<a class="headerlink" href="#id110" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Improved implementation of rolling min and max (thanks to <a class="reference external" href="http://berkeleyanalytics.com/bottleneck/">Bottleneck</a> !)</li>
<li>Add accelerated <code class="docutils literal"><span class="pre">'median'</span></code> GroupBy option (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1358">GH1358</a>)</li>
<li>Significantly improve the performance of parsing ISO8601-format date
strings with <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> or <code class="docutils literal"><span class="pre">to_datetime</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/1571">GH1571</a>)</li>
<li>Improve the performance of GroupBy on single-key aggregations and use with
Categorical types</li>
<li>Significant datetime parsing performance improvments</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="v0-8-0-june-29-2012">
<span id="whatsnew-080"></span><h2>v0.8.0 (June 29, 2012)<a class="headerlink" href="#v0-8-0-june-29-2012" title="Permalink to this headline">¶</a></h2>
<p>This is a major release from 0.7.3 and includes extensive work on the time
series handling and processing infrastructure as well as a great deal of new
functionality throughout the library. It includes over 700 commits from more
than 20 distinct authors. Most pandas 0.7.3 and earlier users should not
experience any issues upgrading, but due to the migration to the NumPy
datetime64 dtype, there may be a number of bugs and incompatibilities
lurking. Lingering incompatibilities will be fixed ASAP in a 0.8.1 release if
necessary. See the <a class="reference internal" href="release.html#release"><span class="std std-ref">full release notes</span></a> or issue tracker
on GitHub for a complete list.</p>
<div class="section" id="support-for-non-unique-indexes">
<h3>Support for non-unique indexes<a class="headerlink" href="#support-for-non-unique-indexes" title="Permalink to this headline">¶</a></h3>
<p>All objects can now work with non-unique indexes. Data alignment / join
operations work according to SQL join semantics (including, if application,
index duplication in many-to-many joins)</p>
</div>
<div class="section" id="numpy-datetime64-dtype-and-1-6-dependency">
<h3>NumPy datetime64 dtype and 1.6 dependency<a class="headerlink" href="#numpy-datetime64-dtype-and-1-6-dependency" title="Permalink to this headline">¶</a></h3>
<p>Time series data are now represented using NumPy&#8217;s datetime64 dtype; thus,
pandas 0.8.0 now requires at least NumPy 1.6. It has been tested and verified
to work with the development version (1.7+) of NumPy as well which includes
some significant user-facing API changes. NumPy 1.6 also has a number of bugs
having to do with nanosecond resolution data, so I recommend that you steer
clear of NumPy 1.6&#8217;s datetime64 API functions (though limited as they are) and
only interact with this data using the interface that pandas provides.</p>
<p>See the end of the 0.8.0 section for a &#8220;porting&#8221; guide listing potential issues
for users migrating legacy codebases from pandas 0.7 or earlier to 0.8.0.</p>
<p>Bug fixes to the 0.7.x series for legacy NumPy &lt; 1.6 users will be provided as
they arise. There will be no more further development in 0.7.x beyond bug
fixes.</p>
</div>
<div class="section" id="time-series-changes-and-improvements">
<h3>Time series changes and improvements<a class="headerlink" href="#time-series-changes-and-improvements" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">With this release, legacy scikits.timeseries users should be able to port
their code to use pandas.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">See <a class="reference internal" href="timeseries.html#timeseries"><span class="std std-ref">documentation</span></a> for overview of pandas timeseries API.</p>
</div>
<ul class="simple">
<li>New datetime64 representation <strong>speeds up join operations and data
alignment</strong>, <strong>reduces memory usage</strong>, and improve serialization /
deserialization performance significantly over datetime.datetime</li>
<li>High performance and flexible <strong>resample</strong> method for converting from
high-to-low and low-to-high frequency. Supports interpolation, user-defined
aggregation functions, and control over how the intervals and result labeling
are defined. A suite of high performance Cython/C-based resampling functions
(including Open-High-Low-Close) have also been implemented.</li>
<li>Revamp of <a class="reference internal" href="timeseries.html#timeseries-offset-aliases"><span class="std std-ref">frequency aliases</span></a> and support for
<strong>frequency shortcuts</strong> like &#8216;15min&#8217;, or &#8216;1h30min&#8217;</li>
<li>New <a class="reference internal" href="timeseries.html#timeseries-datetimeindex"><span class="std std-ref">DatetimeIndex class</span></a> supports both fixed
frequency and irregular time
series. Replaces now deprecated DateRange class</li>
<li>New <code class="docutils literal"><span class="pre">PeriodIndex</span></code> and <code class="docutils literal"><span class="pre">Period</span></code> classes for representing
<a class="reference internal" href="timeseries.html#timeseries-periods"><span class="std std-ref">time spans</span></a> and performing <strong>calendar logic</strong>,
including the <cite>12 fiscal quarterly frequencies &lt;timeseries.quarterly&gt;</cite>.
This is a partial port of, and a substantial enhancement to,
elements of the scikits.timeseries codebase. Support for conversion between
PeriodIndex and DatetimeIndex</li>
<li>New Timestamp data type subclasses <cite>datetime.datetime</cite>, providing the same
interface while enabling working with nanosecond-resolution data. Also
provides <a class="reference internal" href="timeseries.html#timeseries-timezone"><span class="std std-ref">easy time zone conversions</span></a>.</li>
<li>Enhanced support for <a class="reference internal" href="timeseries.html#timeseries-timezone"><span class="std std-ref">time zones</span></a>. Add
<cite>tz_convert</cite> and <code class="docutils literal"><span class="pre">tz_lcoalize</span></code> methods to TimeSeries and DataFrame. All
timestamps are stored as UTC; Timestamps from DatetimeIndex objects with time
zone set will be localized to localtime. Time zone conversions are therefore
essentially free. User needs to know very little about pytz library now; only
time zone names as as strings are required. Time zone-aware timestamps are
equal if and only if their UTC timestamps match. Operations between time
zone-aware time series with different time zones will result in a UTC-indexed
time series.</li>
<li>Time series <strong>string indexing conveniences</strong> / shortcuts: slice years, year
and month, and index values with strings</li>
<li>Enhanced time series <strong>plotting</strong>; adaptation of scikits.timeseries
matplotlib-based plotting code</li>
<li>New <code class="docutils literal"><span class="pre">date_range</span></code>, <code class="docutils literal"><span class="pre">bdate_range</span></code>, and <code class="docutils literal"><span class="pre">period_range</span></code> <a class="reference internal" href="timeseries.html#timeseries-daterange"><span class="std std-ref">factory
functions</span></a></li>
<li>Robust <strong>frequency inference</strong> function <cite>infer_freq</cite> and <code class="docutils literal"><span class="pre">inferred_freq</span></code>
property of DatetimeIndex, with option to infer frequency on construction of
DatetimeIndex</li>
<li>to_datetime function efficiently <strong>parses array of strings</strong> to
DatetimeIndex. DatetimeIndex will parse array or list of strings to
datetime64</li>
<li><strong>Optimized</strong> support for datetime64-dtype data in Series and DataFrame
columns</li>
<li>New NaT (Not-a-Time) type to represent <strong>NA</strong> in timestamp arrays</li>
<li>Optimize Series.asof for looking up <strong>&#8220;as of&#8221; values</strong> for arrays of
timestamps</li>
<li>Milli, Micro, Nano date offset objects</li>
<li>Can index time series with datetime.time objects to select all data at
particular <strong>time of day</strong> (<code class="docutils literal"><span class="pre">TimeSeries.at_time</span></code>) or <strong>between two times</strong>
(<code class="docutils literal"><span class="pre">TimeSeries.between_time</span></code>)</li>
<li>Add <a class="reference internal" href="timeseries.html#timeseries-advanced-datetime"><span class="std std-ref">tshift</span></a> method for leading/lagging
using the frequency (if any) of the index, as opposed to a naive lead/lag
using shift</li>
</ul>
</div>
<div class="section" id="other-new-features">
<h3>Other new features<a class="headerlink" href="#other-new-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>New <a class="reference internal" href="reshaping.html#reshaping-tile-cut"><span class="std std-ref">cut</span></a> and <code class="docutils literal"><span class="pre">qcut</span></code> functions (like R&#8217;s cut
function) for computing a categorical variable from a continuous variable by
binning values either into value-based (<code class="docutils literal"><span class="pre">cut</span></code>) or quantile-based (<code class="docutils literal"><span class="pre">qcut</span></code>)
bins</li>
<li>Rename <code class="docutils literal"><span class="pre">Factor</span></code> to <code class="docutils literal"><span class="pre">Categorical</span></code> and add a number of usability features</li>
<li>Add <a class="reference internal" href="missing_data.html#missing-data-fillna-limit"><span class="std std-ref">limit</span></a> argument to fillna/reindex</li>
<li>More flexible multiple function application in GroupBy, and can pass list
(name, function) tuples to get result in particular order with given names</li>
<li>Add flexible <a class="reference internal" href="missing_data.html#missing-data-replace"><span class="std std-ref">replace</span></a> method for efficiently
substituting values</li>
<li>Enhanced <a class="reference internal" href="io.html#io-parse-dates"><span class="std std-ref">read_csv/read_table</span></a> for reading time series
data and converting multiple columns to dates</li>
<li>Add <a class="reference internal" href="io.html#io-comments"><span class="std std-ref">comments</span></a> option to parser functions: read_csv, etc.</li>
<li>Add :ref`dayfirst &lt;io.dayfirst&gt;` option to parser functions for parsing
international DD/MM/YYYY dates</li>
<li>Allow the user to specify the CSV reader <a class="reference internal" href="io.html#io-dialect"><span class="std std-ref">dialect</span></a> to
control quoting etc.</li>
<li>Handling <a class="reference internal" href="io.html#io-thousands"><span class="std std-ref">thousands</span></a> separators in read_csv to improve
integer parsing.</li>
<li>Enable unstacking of multiple levels in one shot. Alleviate <code class="docutils literal"><span class="pre">pivot_table</span></code>
bugs (empty columns being introduced)</li>
<li>Move to klib-based hash tables for indexing; better performance and less
memory usage than Python&#8217;s dict</li>
<li>Add first, last, min, max, and prod optimized GroupBy functions</li>
<li>New <a class="reference internal" href="merging.html#merging-merge-ordered"><span class="std std-ref">ordered_merge</span></a> function</li>
<li>Add flexible <a class="reference internal" href="basics.html#basics-binop"><span class="std std-ref">comparison</span></a> instance methods eq, ne, lt,
gt, etc. to DataFrame, Series</li>
<li>Improve <a class="reference internal" href="visualization.html#visualization-scatter-matrix"><span class="std std-ref">scatter_matrix</span></a> plotting
function and add histogram or kernel density estimates to diagonal</li>
<li>Add <a class="reference internal" href="visualization.html#visualization-kde"><span class="std std-ref">&#8216;kde&#8217;</span></a> plot option for density plots</li>
<li>Support for converting DataFrame to R data.frame through rpy2</li>
<li>Improved support for complex numbers in Series and DataFrame</li>
<li>Add <a class="reference internal" href="computation.html#computation-pct-change"><span class="std std-ref">pct_change</span></a> method to all data structures</li>
<li>Add max_colwidth configuration option for DataFrame console output</li>
<li><a class="reference internal" href="missing_data.html#missing-data-interpolate"><span class="std std-ref">Interpolate</span></a> Series values using index values</li>
<li>Can select multiple columns from GroupBy</li>
<li>Add <a class="reference internal" href="merging.html#merging-combine-first-update"><span class="std std-ref">update</span></a> methods to Series/DataFrame
for updating values in place</li>
<li>Add <code class="docutils literal"><span class="pre">any</span></code> and <code class="docutils literal"><span class="pre">all</span></code> method to DataFrame</li>
</ul>
</div>
<div class="section" id="new-plotting-methods">
<h3>New plotting methods<a class="headerlink" href="#new-plotting-methods" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">Series.plot</span></code> now supports a <code class="docutils literal"><span class="pre">secondary_y</span></code> option:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="gr">Out[1]: </span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">Figure</span> <span class="n">at</span> <span class="mh">0x7ff270444610</span><span class="o">&gt;</span>

<span class="gp">In [2]: </span><span class="n">fx</span><span class="p">[</span><span class="s1">&#39;FR&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>
<span class="gr">Out[2]: </span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x7ff26e597550</span><span class="o">&gt;</span>

<span class="gp">In [3]: </span><span class="n">fx</span><span class="p">[</span><span class="s1">&#39;IT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;k--&#39;</span><span class="p">,</span> <span class="n">secondary_y</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gr">Out[3]: </span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x7ff26c23ffd0</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../_static/whatsnew_secondary_y.png" src="../_static/whatsnew_secondary_y.png" />
<p>Vytautas Jancauskas, the 2012 GSOC participant, has added many new plot
types. For example, <code class="docutils literal"><span class="pre">'kde'</span></code> is a new option:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span>
<span class="gp">   ...:</span>                            <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.5</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)))</span>
<span class="gp">   ...:</span> 

<span class="gp">In [5]: </span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="gr">Out[5]: </span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">Figure</span> <span class="n">at</span> <span class="mh">0x7ff271e01610</span><span class="o">&gt;</span>

<span class="gp">In [6]: </span><span class="n">s</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">normed</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="gr">Out[6]: </span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x7ff26e143d10</span><span class="o">&gt;</span>

<span class="gp">In [7]: </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;kde&#39;</span><span class="p">)</span>
<span class="gr">Out[7]: </span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x7ff26e143d10</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../_static/whatsnew_kde.png" src="../_static/whatsnew_kde.png" />
<p>See <a class="reference internal" href="visualization.html#visualization-other"><span class="std std-ref">the plotting page</span></a> for much more.</p>
</div>
<div class="section" id="id111">
<h3>Other API changes<a class="headerlink" href="#id111" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Deprecation of <code class="docutils literal"><span class="pre">offset</span></code>, <code class="docutils literal"><span class="pre">time_rule</span></code>, and <code class="docutils literal"><span class="pre">timeRule</span></code> arguments names in
time series functions. Warnings will be printed until pandas 0.9 or 1.0.</li>
</ul>
</div>
<div class="section" id="potential-porting-issues-for-pandas-0-7-3-users">
<h3>Potential porting issues for pandas &lt;= 0.7.3 users<a class="headerlink" href="#potential-porting-issues-for-pandas-0-7-3-users" title="Permalink to this headline">¶</a></h3>
<p>The major change that may affect you in pandas 0.8.0 is that time series
indexes use NumPy&#8217;s <code class="docutils literal"><span class="pre">datetime64</span></code> data type instead of <code class="docutils literal"><span class="pre">dtype=object</span></code> arrays
of Python&#8217;s built-in <code class="docutils literal"><span class="pre">datetime.datetime</span></code> objects. <code class="docutils literal"><span class="pre">DateRange</span></code> has been
replaced by <code class="docutils literal"><span class="pre">DatetimeIndex</span></code> but otherwise behaved identically. But, if you
have code that converts <code class="docutils literal"><span class="pre">DateRange</span></code> or <code class="docutils literal"><span class="pre">Index</span></code> objects that used to contain
<code class="docutils literal"><span class="pre">datetime.datetime</span></code> values to plain NumPy arrays, you may have bugs lurking
with code using scalar values because you are handing control over to NumPy:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="gp">In [9]: </span><span class="n">rng</span> <span class="o">=</span> <span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">rng</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gr">Out[10]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2000-01-06 00:00:00&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>

<span class="gp">In [11]: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">rng</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">)</span>
<span class="gr">Out[11]: </span><span class="bp">True</span>

<span class="gp">In [12]: </span><span class="n">rng_asarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">rng</span><span class="p">)</span>

<span class="gp">In [13]: </span><span class="n">scalar_val</span> <span class="o">=</span> <span class="n">rng_asarray</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>

<span class="gp">In [14]: </span><span class="nb">type</span><span class="p">(</span><span class="n">scalar_val</span><span class="p">)</span>
<span class="gr">Out[14]: </span><span class="n">numpy</span><span class="o">.</span><span class="n">datetime64</span>
</pre></div>
</div>
<p>pandas&#8217;s <code class="docutils literal"><span class="pre">Timestamp</span></code> object is a subclass of <code class="docutils literal"><span class="pre">datetime.datetime</span></code> that has
nanosecond support (the <code class="docutils literal"><span class="pre">nanosecond</span></code> field store the nanosecond value between
0 and 999). It should substitute directly into any code that used
<code class="docutils literal"><span class="pre">datetime.datetime</span></code> values before. Thus, I recommend not casting
<code class="docutils literal"><span class="pre">DatetimeIndex</span></code> to regular NumPy arrays.</p>
<p>If you have code that requires an array of <code class="docutils literal"><span class="pre">datetime.datetime</span></code> objects, you
have a couple of options. First, the <code class="docutils literal"><span class="pre">asobject</span></code> property of <code class="docutils literal"><span class="pre">DatetimeIndex</span></code>
produces an array of <code class="docutils literal"><span class="pre">Timestamp</span></code> objects:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="n">stamp_array</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">asobject</span>

<span class="gp">In [16]: </span><span class="n">stamp_array</span>
<span class="gr">Out[16]: </span>
<span class="go">Index([2000-01-01 00:00:00, 2000-01-02 00:00:00, 2000-01-03 00:00:00,</span>
<span class="go">       2000-01-04 00:00:00, 2000-01-05 00:00:00, 2000-01-06 00:00:00,</span>
<span class="go">       2000-01-07 00:00:00, 2000-01-08 00:00:00, 2000-01-09 00:00:00,</span>
<span class="go">       2000-01-10 00:00:00],</span>
<span class="go">      dtype=&#39;object&#39;)</span>

<span class="gp">In [17]: </span><span class="n">stamp_array</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gr">Out[17]: </span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2000-01-06 00:00:00&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To get an array of proper <code class="docutils literal"><span class="pre">datetime.datetime</span></code> objects, use the
<code class="docutils literal"><span class="pre">to_pydatetime</span></code> method:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [18]: </span><span class="n">dt_array</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">to_pydatetime</span><span class="p">()</span>

<span class="gp">In [19]: </span><span class="n">dt_array</span>
<span class="gr">Out[19]: </span>
<span class="go">array([datetime.datetime(2000, 1, 1, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 2, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 3, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 4, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 5, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 6, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 7, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 8, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 9, 0, 0),</span>
<span class="go">       datetime.datetime(2000, 1, 10, 0, 0)], dtype=object)</span>

<span class="gp">In [20]: </span><span class="n">dt_array</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gr">Out[20]: </span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>matplotlib knows how to handle <code class="docutils literal"><span class="pre">datetime.datetime</span></code> but not Timestamp
objects. While I recommend that you plot time series using <code class="docutils literal"><span class="pre">TimeSeries.plot</span></code>,
you can either use <code class="docutils literal"><span class="pre">to_pydatetime</span></code> or register a converter for the Timestamp
type. See <a class="reference external" href="http://matplotlib.org/api/units_api.html">matplotlib documentation</a> for more on this.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>There are bugs in the user-facing API with the nanosecond datetime64 unit
in NumPy 1.6. In particular, the string version of the array shows garbage
values, and conversion to <code class="docutils literal"><span class="pre">dtype=object</span></code> is similarly broken.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [21]: </span><span class="n">rng</span> <span class="o">=</span> <span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="gp">In [22]: </span><span class="n">rng</span>
<span class="gr">Out[22]: </span>
<span class="go">DatetimeIndex([&#39;2000-01-01&#39;, &#39;2000-01-02&#39;, &#39;2000-01-03&#39;, &#39;2000-01-04&#39;,</span>
<span class="go">               &#39;2000-01-05&#39;, &#39;2000-01-06&#39;, &#39;2000-01-07&#39;, &#39;2000-01-08&#39;,</span>
<span class="go">               &#39;2000-01-09&#39;, &#39;2000-01-10&#39;],</span>
<span class="go">              dtype=&#39;datetime64[ns]&#39;, freq=&#39;D&#39;)</span>

<span class="gp">In [23]: </span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">rng</span><span class="p">)</span>
<span class="gr">Out[23]: </span>
<span class="go">array([&#39;2000-01-01T00:00:00.000000000&#39;, &#39;2000-01-02T00:00:00.000000000&#39;,</span>
<span class="go">       &#39;2000-01-03T00:00:00.000000000&#39;, &#39;2000-01-04T00:00:00.000000000&#39;,</span>
<span class="go">       &#39;2000-01-05T00:00:00.000000000&#39;, &#39;2000-01-06T00:00:00.000000000&#39;,</span>
<span class="go">       &#39;2000-01-07T00:00:00.000000000&#39;, &#39;2000-01-08T00:00:00.000000000&#39;,</span>
<span class="go">       &#39;2000-01-09T00:00:00.000000000&#39;, &#39;2000-01-10T00:00:00.000000000&#39;], dtype=&#39;datetime64[ns]&#39;)</span>

<span class="gp">In [24]: </span><span class="n">converted</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">rng</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>

<span class="gp">In [25]: </span><span class="n">converted</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gr">Out[25]: </span><span class="il">947116800000000000L</span>
</pre></div>
</div>
<p class="last"><strong>Trust me: don&#8217;t panic</strong>. If you are using NumPy 1.6 and restrict your
interaction with <code class="docutils literal"><span class="pre">datetime64</span></code> values to pandas&#8217;s API you will be just
fine. There is nothing wrong with the data-type (a 64-bit integer
internally); all of the important data processing happens in pandas and is
heavily tested. I strongly recommend that you <strong>do not work directly with
datetime64 arrays in NumPy 1.6</strong> and only use the pandas API.</p>
</div>
<p><strong>Support for non-unique indexes</strong>: In the latter case, you may have code
inside a <code class="docutils literal"><span class="pre">try:...</span> <span class="pre">catch:</span></code> block that failed due to the index not being
unique. In many cases it will no longer fail (some method like <code class="docutils literal"><span class="pre">append</span></code> still
check for uniqueness unless disabled). However, all is not lost: you can
inspect <code class="docutils literal"><span class="pre">index.is_unique</span></code> and raise an exception explicitly if it is
<code class="docutils literal"><span class="pre">False</span></code> or go to a different code branch.</p>
</div>
</div>
<div class="section" id="v-0-7-3-april-12-2012">
<span id="whatsnew-0703"></span><h2>v.0.7.3 (April 12, 2012)<a class="headerlink" href="#v-0-7-3-april-12-2012" title="Permalink to this headline">¶</a></h2>
<p>This is a minor release from 0.7.2 and fixes many minor bugs and adds a number
of nice new features. There are also a couple of API changes to note; these
should not affect very many users, and we are inclined to call them &#8220;bug fixes&#8221;
even though they do constitute a change in behavior. See the <a class="reference internal" href="release.html#release"><span class="std std-ref">full release
notes</span></a> or issue
tracker on GitHub for a complete list.</p>
<div class="section" id="id112">
<h3>New features<a class="headerlink" href="#id112" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>New <a class="reference internal" href="io.html#io-fwf"><span class="std std-ref">fixed width file reader</span></a>, <code class="docutils literal"><span class="pre">read_fwf</span></code></li>
<li>New <a class="reference internal" href="visualization.html#visualization-scatter-matrix"><span class="std std-ref">scatter_matrix</span></a> function for making
a scatter plot matrix</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pandas.tools.plotting</span> <span class="kn">import</span> <span class="n">scatter_matrix</span>
<span class="n">scatter_matrix</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/scatter_matrix_kde.png"><img alt="_images/scatter_matrix_kde.png" src="_images/scatter_matrix_kde.png" style="width: 5in;" /></a>
<ul class="simple">
<li>Add <code class="docutils literal"><span class="pre">stacked</span></code> argument to Series and DataFrame&#8217;s <code class="docutils literal"><span class="pre">plot</span></code> method for
<a class="reference internal" href="visualization.html#visualization-barplot"><span class="std std-ref">stacked bar plots</span></a>.</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/bar_plot_stacked_ex.png"><img alt="_images/bar_plot_stacked_ex.png" src="_images/bar_plot_stacked_ex.png" style="width: 4in;" /></a>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/barh_plot_stacked_ex.png"><img alt="_images/barh_plot_stacked_ex.png" src="_images/barh_plot_stacked_ex.png" style="width: 4in;" /></a>
<ul class="simple">
<li>Add log x and y <a class="reference internal" href="visualization.html#visualization-basic"><span class="std std-ref">scaling options</span></a> to
<code class="docutils literal"><span class="pre">DataFrame.plot</span></code> and <code class="docutils literal"><span class="pre">Series.plot</span></code></li>
<li>Add <code class="docutils literal"><span class="pre">kurt</span></code> methods to Series and DataFrame for computing kurtosis</li>
</ul>
</div>
<div class="section" id="na-boolean-comparison-api-change">
<h3>NA Boolean Comparison API Change<a class="headerlink" href="#na-boolean-comparison-api-change" title="Permalink to this headline">¶</a></h3>
<p>Reverted some changes to how NA values (represented typically as <code class="docutils literal"><span class="pre">NaN</span></code> or
<code class="docutils literal"><span class="pre">None</span></code>) are handled in non-numeric Series:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">series</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="s1">&#39;Steve&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="s1">&#39;Joe&#39;</span><span class="p">])</span>

<span class="gp">In [2]: </span><span class="n">series</span> <span class="o">==</span> <span class="s1">&#39;Steve&#39;</span>
<span class="gr">Out[2]: </span>
<span class="go">0     True</span>
<span class="go">1    False</span>
<span class="go">2    False</span>
<span class="go">dtype: bool</span>

<span class="gp">In [3]: </span><span class="n">series</span> <span class="o">!=</span> <span class="s1">&#39;Steve&#39;</span>
<span class="gr">Out[3]: </span>
<span class="go">0    False</span>
<span class="go">1     True</span>
<span class="go">2     True</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
<p>In comparisons, NA / NaN will always come through as <code class="docutils literal"><span class="pre">False</span></code> except with
<code class="docutils literal"><span class="pre">!=</span></code> which is <code class="docutils literal"><span class="pre">True</span></code>. <em>Be very careful</em> with boolean arithmetic, especially
negation, in the presence of NA data. You may wish to add an explicit NA
filter into boolean array operations if you are worried about this:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">mask</span> <span class="o">=</span> <span class="n">series</span> <span class="o">==</span> <span class="s1">&#39;Steve&#39;</span>

<span class="gp">In [5]: </span><span class="n">series</span><span class="p">[</span><span class="n">mask</span> <span class="o">&amp;</span> <span class="n">series</span><span class="o">.</span><span class="n">notnull</span><span class="p">()]</span>
<span class="gr">Out[5]: </span>
<span class="go">0    Steve</span>
<span class="go">dtype: object</span>
</pre></div>
</div>
<p>While propagating NA in comparisons may seem like the right behavior to some
users (and you could argue on purely technical grounds that this is the right
thing to do), the evaluation was made that propagating NA everywhere, including
in numerical arrays, would cause a large amount of problems for users. Thus, a
&#8220;practicality beats purity&#8221; approach was taken. This issue may be revisited at
some point in the future.</p>
</div>
<div class="section" id="id113">
<h3>Other API Changes<a class="headerlink" href="#id113" title="Permalink to this headline">¶</a></h3>
<p>When calling <code class="docutils literal"><span class="pre">apply</span></code> on a grouped Series, the return value will also be a
Series, to be more consistent with the <code class="docutils literal"><span class="pre">groupby</span></code> behavior with DataFrame:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                     <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">],</span>
<span class="gp">   ...:</span>                 <span class="s1">&#39;B&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span><span class="p">,</span>
<span class="gp">   ...:</span>                        <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span><span class="p">],</span>
<span class="gp">   ...:</span>                 <span class="s1">&#39;C&#39;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="s1">&#39;D&#39;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">)})</span>
<span class="gp">   ...:</span> 

<span class="gp">In [7]: </span><span class="n">df</span>
<span class="gr">Out[7]: </span>
<span class="go">     A      B         C         D</span>
<span class="go">0  foo    one  0.219405 -1.079181</span>
<span class="go">1  bar    one -0.342863 -1.631882</span>
<span class="go">2  foo    two -0.032419  0.237288</span>
<span class="go">3  bar  three -1.581534  0.514679</span>
<span class="go">4  foo    two -0.912061 -1.488101</span>
<span class="go">5  bar    two  0.209500  1.018514</span>
<span class="go">6  foo    one -0.675890 -1.488840</span>
<span class="go">7  foo  three  0.055228 -1.355434</span>

<span class="go">[8 rows x 4 columns]</span>

<span class="gp">In [8]: </span><span class="n">grouped</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)[</span><span class="s1">&#39;C&#39;</span><span class="p">]</span>

<span class="gp">In [9]: </span><span class="n">grouped</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="gr">Out[9]: </span>
<span class="go">A         </span>
<span class="go">bar  count    3.000000</span>
<span class="go">     mean    -0.571633</span>
<span class="go">     std      0.917171</span>
<span class="go">     min     -1.581534</span>
<span class="go">     25%     -0.962199</span>
<span class="go">     50%     -0.342863</span>
<span class="go">     75%     -0.066682</span>
<span class="go">                ...   </span>
<span class="go">foo  mean    -0.269148</span>
<span class="go">     std      0.494652</span>
<span class="go">     min     -0.912061</span>
<span class="go">     25%     -0.675890</span>
<span class="go">     50%     -0.032419</span>
<span class="go">     75%      0.055228</span>
<span class="go">     max      0.219405</span>
<span class="go">Name: C, dtype: float64</span>

<span class="gp">In [10]: </span><span class="n">grouped</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">order</span><span class="p">()[</span><span class="o">-</span><span class="mi">2</span><span class="p">:])</span> <span class="c1"># top 2 values</span>
<span class="gr">Out[10]: </span>
<span class="go">A     </span>
<span class="go">bar  1   -0.342863</span>
<span class="go">     5    0.209500</span>
<span class="go">foo  7    0.055228</span>
<span class="go">     0    0.219405</span>
<span class="go">Name: C, dtype: float64</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="v-0-7-2-march-16-2012">
<span id="whatsnew-0702"></span><h2>v.0.7.2 (March 16, 2012)<a class="headerlink" href="#v-0-7-2-march-16-2012" title="Permalink to this headline">¶</a></h2>
<p>This release targets bugs in 0.7.1, and adds a few minor features.</p>
<div class="section" id="id114">
<h3>New features<a class="headerlink" href="#id114" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Add additional tie-breaking methods in DataFrame.rank (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/874">GH874</a>)</li>
<li>Add ascending parameter to rank in Series, DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/875">GH875</a>)</li>
<li>Add coerce_float option to DataFrame.from_records (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/893">GH893</a>)</li>
<li>Add sort_columns parameter to allow unsorted plots (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/918">GH918</a>)</li>
<li>Enable column access via attributes on GroupBy (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/882">GH882</a>)</li>
<li>Can pass dict of values to DataFrame.fillna (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/661">GH661</a>)</li>
<li>Can select multiple hierarchical groups by passing list of values in .ix
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/134">GH134</a>)</li>
<li>Add <code class="docutils literal"><span class="pre">axis</span></code> option to DataFrame.fillna (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/174">GH174</a>)</li>
<li>Add level keyword to <code class="docutils literal"><span class="pre">drop</span></code> for dropping values from a level (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/159">GH159</a>)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id115">
<h3>Performance improvements<a class="headerlink" href="#id115" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Use khash for Series.value_counts, add raw function to algorithms.py (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/861">GH861</a>)</li>
<li>Intercept __builtin__.sum in groupby (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/885">GH885</a>)</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="v-0-7-1-february-29-2012">
<span id="whatsnew-0701"></span><h2>v.0.7.1 (February 29, 2012)<a class="headerlink" href="#v-0-7-1-february-29-2012" title="Permalink to this headline">¶</a></h2>
<p>This release includes a few new features and addresses over a dozen bugs in
0.7.0.</p>
<div class="section" id="id116">
<h3>New features<a class="headerlink" href="#id116" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Add <code class="docutils literal"><span class="pre">to_clipboard</span></code> function to pandas namespace for writing objects to
the system clipboard (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/774">GH774</a>)</li>
<li>Add <code class="docutils literal"><span class="pre">itertuples</span></code> method to DataFrame for iterating through the rows of a
dataframe as tuples (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/818">GH818</a>)</li>
<li>Add ability to pass fill_value and method to DataFrame and Series align
method (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/806">GH806</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/807">GH807</a>)</li>
<li>Add fill_value option to reindex, align methods (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/784">GH784</a>)</li>
<li>Enable concat to produce DataFrame from Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/787">GH787</a>)</li>
<li>Add <code class="docutils literal"><span class="pre">between</span></code> method to Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/802">GH802</a>)</li>
<li>Add HTML representation hook to DataFrame for the IPython HTML notebook
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/773">GH773</a>)</li>
<li>Support for reading Excel 2007 XML documents using openpyxl</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id117">
<h3>Performance improvements<a class="headerlink" href="#id117" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Improve performance and memory usage of fillna on DataFrame</li>
<li>Can concatenate a list of Series along axis=1 to obtain a DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/787">GH787</a>)</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="v-0-7-0-february-9-2012">
<span id="whatsnew-0700"></span><h2>v.0.7.0 (February 9, 2012)<a class="headerlink" href="#v-0-7-0-february-9-2012" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id118">
<h3>New features<a class="headerlink" href="#id118" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>New unified <a class="reference internal" href="merging.html#merging-join"><span class="std std-ref">merge function</span></a> for efficiently performing
full gamut of database / relational-algebra operations. Refactored existing
join methods to use the new infrastructure, resulting in substantial
performance gains (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/220">GH220</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/249">GH249</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/267">GH267</a>)</li>
<li>New <a class="reference internal" href="merging.html#merging-concat"><span class="std std-ref">unified concatenation function</span></a> for concatenating
Series, DataFrame or Panel objects along an axis. Can form union or
intersection of the other axes. Improves performance of <code class="docutils literal"><span class="pre">Series.append</span></code> and
<code class="docutils literal"><span class="pre">DataFrame.append</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/468">GH468</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/479">GH479</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/273">GH273</a>)</li>
<li><a class="reference internal" href="merging.html#merging-concatenation"><span class="std std-ref">Can</span></a> pass multiple DataFrames to
<cite>DataFrame.append</cite> to concatenate (stack) and multiple Series to
<code class="docutils literal"><span class="pre">Series.append</span></code> too</li>
<li><a class="reference internal" href="dsintro.html#basics-dataframe-from-list-of-dicts"><span class="std std-ref">Can</span></a> pass list of dicts (e.g., a
list of JSON objects) to DataFrame constructor (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/526">GH526</a>)</li>
<li>You can now <a class="reference internal" href="indexing.html#indexing-columns-multiple"><span class="std std-ref">set multiple columns</span></a> in a
DataFrame via <code class="docutils literal"><span class="pre">__getitem__</span></code>, useful for transformation (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/342">GH342</a>)</li>
<li>Handle differently-indexed output values in <code class="docutils literal"><span class="pre">DataFrame.apply</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/498">GH498</a>)</li>
</ul>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="gp">In [2]: </span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
<span class="gr">Out[2]: </span>
<span class="go">               0          1          2          3</span>
<span class="go">count  10.000000  10.000000  10.000000  10.000000</span>
<span class="go">mean    0.448104   0.052501   0.058434   0.008207</span>
<span class="go">std     0.784159   0.676134   0.959629   1.126010</span>
<span class="go">min    -1.275249  -1.200953  -1.819334  -1.607906</span>
<span class="go">25%     0.100811  -0.095948  -0.365166  -0.973095</span>
<span class="go">50%     0.709636   0.071581   0.116057   0.179112</span>
<span class="go">75%     0.851809   0.478706   0.616168   0.807868</span>
<span class="go">max     1.437656   1.051356   1.387310   1.521442</span>

<span class="go">[8 rows x 4 columns]</span>
</pre></div>
</div>
<ul class="simple">
<li><a class="reference internal" href="advanced.html#advanced-reorderlevels"><span class="std std-ref">Add</span></a> <code class="docutils literal"><span class="pre">reorder_levels</span></code> method to Series and
DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/534">GH534</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-dictionarylike"><span class="std std-ref">Add</span></a> dict-like <code class="docutils literal"><span class="pre">get</span></code> function to DataFrame
and Panel (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/521">GH521</a>)</li>
<li><a class="reference internal" href="basics.html#basics-iterrows"><span class="std std-ref">Add</span></a> <code class="docutils literal"><span class="pre">DataFrame.iterrows</span></code> method for efficiently
iterating through the rows of a DataFrame</li>
<li><a class="reference internal" href="dsintro.html#dsintro-to-panel"><span class="std std-ref">Add</span></a> <code class="docutils literal"><span class="pre">DataFrame.to_panel</span></code> with code adapted from
<code class="docutils literal"><span class="pre">LongPanel.to_long</span></code></li>
<li><a class="reference internal" href="basics.html#basics-reindexing"><span class="std std-ref">Add</span></a> <code class="docutils literal"><span class="pre">reindex_axis</span></code> method added to DataFrame</li>
<li><a class="reference internal" href="basics.html#basics-stats"><span class="std std-ref">Add</span></a> <code class="docutils literal"><span class="pre">level</span></code> option to binary arithmetic functions on
<code class="docutils literal"><span class="pre">DataFrame</span></code> and <code class="docutils literal"><span class="pre">Series</span></code></li>
<li><a class="reference internal" href="advanced.html#advanced-advanced-reindex"><span class="std std-ref">Add</span></a> <code class="docutils literal"><span class="pre">level</span></code> option to the <code class="docutils literal"><span class="pre">reindex</span></code>
and <code class="docutils literal"><span class="pre">align</span></code> methods on Series and DataFrame for broadcasting values across
a level (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/542">GH542</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/552">GH552</a>, others)</li>
<li><a class="reference internal" href="dsintro.html#dsintro-panel-item-selection"><span class="std std-ref">Add</span></a> attribute-based item access to
<code class="docutils literal"><span class="pre">Panel</span></code> and add IPython completion (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/563">GH563</a>)</li>
<li><a class="reference internal" href="visualization.html#visualization-basic"><span class="std std-ref">Add</span></a> <code class="docutils literal"><span class="pre">logy</span></code> option to <code class="docutils literal"><span class="pre">Series.plot</span></code> for
log-scaling on the Y axis</li>
<li><a class="reference internal" href="io.html#io-formatting"><span class="std std-ref">Add</span></a> <code class="docutils literal"><span class="pre">index</span></code> and <code class="docutils literal"><span class="pre">header</span></code> options to
<code class="docutils literal"><span class="pre">DataFrame.to_string</span></code></li>
<li><a class="reference internal" href="merging.html#merging-multiple-join"><span class="std std-ref">Can</span></a> pass multiple DataFrames to
<code class="docutils literal"><span class="pre">DataFrame.join</span></code> to join on index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/115">GH115</a>)</li>
<li><a class="reference internal" href="merging.html#merging-multiple-join"><span class="std std-ref">Can</span></a> pass multiple Panels to <code class="docutils literal"><span class="pre">Panel.join</span></code>
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/115">GH115</a>)</li>
<li><a class="reference internal" href="io.html#io-formatting"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">justify</span></code> argument to <code class="docutils literal"><span class="pre">DataFrame.to_string</span></code>
to allow different alignment of column headers</li>
<li><a class="reference internal" href="groupby.html#groupby-attributes"><span class="std std-ref">Add</span></a> <code class="docutils literal"><span class="pre">sort</span></code> option to GroupBy to allow disabling
sorting of the group keys for potential speedups (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/595">GH595</a>)</li>
<li><a class="reference internal" href="dsintro.html#basics-dataframe-from-series"><span class="std std-ref">Can</span></a> pass MaskedArray to Series
constructor (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/563">GH563</a>)</li>
<li><a class="reference internal" href="dsintro.html#dsintro-panel-item-selection"><span class="std std-ref">Add</span></a> Panel item access via attributes
and IPython completion (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/554">GH554</a>)</li>
<li>Implement <code class="docutils literal"><span class="pre">DataFrame.lookup</span></code>, fancy-indexing analogue for retrieving values
given a sequence of row and column labels (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/338">GH338</a>)</li>
<li>Can pass a <a class="reference internal" href="groupby.html#groupby-aggregate-multifunc"><span class="std std-ref">list of functions</span></a> to
aggregate with groupby on a DataFrame, yielding an aggregated result with
hierarchical columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/166">GH166</a>)</li>
<li>Can call <code class="docutils literal"><span class="pre">cummin</span></code> and <code class="docutils literal"><span class="pre">cummax</span></code> on Series and DataFrame to get cumulative
minimum and maximum, respectively (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/647">GH647</a>)</li>
<li><code class="docutils literal"><span class="pre">value_range</span></code> added as utility function to get min and max of a dataframe
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/288">GH288</a>)</li>
<li>Added <code class="docutils literal"><span class="pre">encoding</span></code> argument to <code class="docutils literal"><span class="pre">read_csv</span></code>, <code class="docutils literal"><span class="pre">read_table</span></code>, <code class="docutils literal"><span class="pre">to_csv</span></code> and
<code class="docutils literal"><span class="pre">from_csv</span></code> for non-ascii text (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/717">GH717</a>)</li>
<li><a class="reference internal" href="basics.html#basics-stats"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">abs</span></code> method to pandas objects</li>
<li><a class="reference internal" href="reshaping.html#reshaping-pivot"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">crosstab</span></code> function for easily computing frequency tables</li>
<li><a class="reference internal" href="indexing.html#indexing-set-ops"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">isin</span></code> method to index objects</li>
<li><a class="reference internal" href="advanced.html#advanced-xs"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">level</span></code> argument to <code class="docutils literal"><span class="pre">xs</span></code> method of DataFrame.</li>
</ul>
</div>
<div class="section" id="api-changes-to-integer-indexing">
<h3>API Changes to integer indexing<a class="headerlink" href="#api-changes-to-integer-indexing" title="Permalink to this headline">¶</a></h3>
<p>One of the potentially riskiest API changes in 0.7.0, but also one of the most
important, was a complete review of how <strong>integer indexes</strong> are handled with
regard to label-based indexing. Here is an example:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="gp">In [4]: </span><span class="n">s</span>
<span class="gr">Out[4]: </span>
<span class="go">0     0.679919</span>
<span class="go">2    -0.457147</span>
<span class="go">4     0.041867</span>
<span class="go">6     1.503116</span>
<span class="go">8    -0.841265</span>
<span class="go">10   -1.578003</span>
<span class="go">12   -0.273728</span>
<span class="go">14    1.755240</span>
<span class="go">16   -0.705788</span>
<span class="go">18   -0.351950</span>
<span class="go">dtype: float64</span>

<span class="gp">In [5]: </span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gr">Out[5]: </span><span class="mf">0.67991862351992061</span>

<span class="gp">In [6]: </span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gr">Out[6]: </span><span class="o">-</span><span class="mf">0.45714692729799072</span>

<span class="gp">In [7]: </span><span class="n">s</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="gr">Out[7]: </span><span class="mf">0.041867372914288915</span>
</pre></div>
</div>
<p>This is all exactly identical to the behavior before. However, if you ask for a
key <strong>not</strong> contained in the Series, in versions 0.6.1 and prior, Series would
<em>fall back</em> on a location-based lookup. This now raises a <code class="docutils literal"><span class="pre">KeyError</span></code>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">KeyError: 1</span>
</pre></div>
</div>
<p>This change also has the same impact on DataFrame:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="gp">In [4]: </span><span class="n">df</span>
<span class="go">    0        1       2       3</span>
<span class="go">0   0.88427  0.3363 -0.1787  0.03162</span>
<span class="go">2   0.14451 -0.1415  0.2504  0.58374</span>
<span class="go">4  -1.44779 -0.9186 -1.4996  0.27163</span>
<span class="go">6  -0.26598 -2.4184 -0.2658  0.11503</span>
<span class="go">8  -0.58776  0.3144 -0.8566  0.61941</span>
<span class="go">10  0.10940 -0.7175 -1.0108  0.47990</span>
<span class="go">12 -1.16919 -0.3087 -0.6049 -0.43544</span>
<span class="go">14 -0.07337  0.3410  0.0424 -0.16037</span>

<span class="gp">In [5]: </span><span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="go">KeyError: 3</span>
</pre></div>
</div>
<p>In order to support purely integer-based indexing, the following methods have
been added:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">Series.iget_value(i)</span></code></td>
<td>Retrieve value stored at location <code class="docutils literal"><span class="pre">i</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">Series.iget(i)</span></code></td>
<td>Alias for <code class="docutils literal"><span class="pre">iget_value</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">DataFrame.irow(i)</span></code></td>
<td>Retrieve the <code class="docutils literal"><span class="pre">i</span></code>-th row</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">DataFrame.icol(j)</span></code></td>
<td>Retrieve the <code class="docutils literal"><span class="pre">j</span></code>-th column</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">DataFrame.iget_value(i,</span> <span class="pre">j)</span></code></td>
<td>Retrieve the value at row <code class="docutils literal"><span class="pre">i</span></code> and column <code class="docutils literal"><span class="pre">j</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="api-tweaks-regarding-label-based-slicing">
<h3>API tweaks regarding label-based slicing<a class="headerlink" href="#api-tweaks-regarding-label-based-slicing" title="Permalink to this headline">¶</a></h3>
<p>Label-based slicing using <code class="docutils literal"><span class="pre">ix</span></code> now requires that the index be sorted
(monotonic) <strong>unless</strong> both the start and endpoint are contained in the index:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;gmkaec&#39;</span><span class="p">))</span>

<span class="gp">In [9]: </span><span class="n">s</span>
<span class="gr">Out[9]: </span>
<span class="go">g    1.507974</span>
<span class="go">m    0.419219</span>
<span class="go">k    0.647633</span>
<span class="go">a   -0.147670</span>
<span class="go">e   -0.759803</span>
<span class="go">c   -0.757308</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>Then this is OK:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [10]: </span><span class="n">s</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;e&#39;</span><span class="p">]</span>
<span class="gr">Out[10]: </span>
<span class="go">k    0.647633</span>
<span class="go">a   -0.147670</span>
<span class="go">e   -0.759803</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>But this is not:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="n">s</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="s1">&#39;h&#39;</span><span class="p">]</span>
<span class="go">KeyError &#39;b&#39;</span>
</pre></div>
</div>
<p>If the index had been sorted, the &#8220;range selection&#8221; would have been possible:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">s2</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>

<span class="gp">In [12]: </span><span class="n">s2</span>
<span class="gr">Out[12]: </span>
<span class="go">a   -0.147670</span>
<span class="go">c   -0.757308</span>
<span class="go">e   -0.759803</span>
<span class="go">g    1.507974</span>
<span class="go">k    0.647633</span>
<span class="go">m    0.419219</span>
<span class="go">dtype: float64</span>

<span class="gp">In [13]: </span><span class="n">s2</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="s1">&#39;h&#39;</span><span class="p">]</span>
<span class="gr">Out[13]: </span>
<span class="go">c   -0.757308</span>
<span class="go">e   -0.759803</span>
<span class="go">g    1.507974</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
</div>
<div class="section" id="changes-to-series-operator">
<h3>Changes to Series <code class="docutils literal"><span class="pre">[]</span></code> operator<a class="headerlink" href="#changes-to-series-operator" title="Permalink to this headline">¶</a></h3>
<p>As as notational convenience, you can pass a sequence of labels or a label
slice to a Series when getting and setting values via <code class="docutils literal"><span class="pre">[]</span></code> (i.e. the
<code class="docutils literal"><span class="pre">__getitem__</span></code> and <code class="docutils literal"><span class="pre">__setitem__</span></code> methods). The behavior will be the same as
passing similar input to <code class="docutils literal"><span class="pre">ix</span></code> <strong>except in the case of integer indexing</strong>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [14]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;acegkm&#39;</span><span class="p">))</span>

<span class="gp">In [15]: </span><span class="n">s</span>
<span class="gr">Out[15]: </span>
<span class="go">a   -1.921164</span>
<span class="go">c   -1.093529</span>
<span class="go">e   -0.592157</span>
<span class="go">g   -0.715074</span>
<span class="go">k   -0.616193</span>
<span class="go">m   -0.335468</span>
<span class="go">dtype: float64</span>

<span class="gp">In [16]: </span><span class="n">s</span><span class="p">[[</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">]]</span>
<span class="gr">Out[16]: </span>
<span class="go">m   -0.335468</span>
<span class="go">a   -1.921164</span>
<span class="go">c   -1.093529</span>
<span class="go">e   -0.592157</span>
<span class="go">dtype: float64</span>

<span class="gp">In [17]: </span><span class="n">s</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="s1">&#39;l&#39;</span><span class="p">]</span>
<span class="gr">Out[17]: </span>
<span class="go">c   -1.093529</span>
<span class="go">e   -0.592157</span>
<span class="go">g   -0.715074</span>
<span class="go">k   -0.616193</span>
<span class="go">dtype: float64</span>

<span class="gp">In [18]: </span><span class="n">s</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">:</span><span class="s1">&#39;k&#39;</span><span class="p">]</span>
<span class="gr">Out[18]: </span>
<span class="go">c   -1.093529</span>
<span class="go">e   -0.592157</span>
<span class="go">g   -0.715074</span>
<span class="go">k   -0.616193</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>In the case of integer indexes, the behavior will be exactly as before
(shadowing <code class="docutils literal"><span class="pre">ndarray</span></code>):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="gp">In [20]: </span><span class="n">s</span><span class="p">[[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>
<span class="gr">Out[20]: </span>
<span class="go">4    0.886170</span>
<span class="go">0   -0.392051</span>
<span class="go">2   -0.189537</span>
<span class="go">dtype: float64</span>

<span class="gp">In [21]: </span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
<span class="gr">Out[21]: </span>
<span class="go">2   -0.189537</span>
<span class="go">4    0.886170</span>
<span class="go">6   -1.125894</span>
<span class="go">8    0.319635</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>If you wish to do indexing with sequences and slicing on an integer index with
label semantics, use <code class="docutils literal"><span class="pre">ix</span></code>.</p>
</div>
<div class="section" id="id119">
<h3>Other API Changes<a class="headerlink" href="#id119" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The deprecated <code class="docutils literal"><span class="pre">LongPanel</span></code> class has been completely removed</li>
<li>If <code class="docutils literal"><span class="pre">Series.sort</span></code> is called on a column of a DataFrame, an exception will
now be raised. Before it was possible to accidentally mutate a DataFrame&#8217;s
column by doing <code class="docutils literal"><span class="pre">df[col].sort()</span></code> instead of the side-effect free method
<code class="docutils literal"><span class="pre">df[col].order()</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/316">GH316</a>)</li>
<li>Miscellaneous renames and deprecations which will (harmlessly) raise
<code class="docutils literal"><span class="pre">FutureWarning</span></code></li>
<li><code class="docutils literal"><span class="pre">drop</span></code> added as an optional parameter to <code class="docutils literal"><span class="pre">DataFrame.reset_index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/699">GH699</a>)</li>
</ul>
</div>
<div class="section" id="id120">
<h3>Performance improvements<a class="headerlink" href="#id120" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="groupby.html#groupby-aggregate-cython"><span class="std std-ref">Cythonized GroupBy aggregations</span></a> no longer
presort the data, thus achieving a significant speedup (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/93">GH93</a>).  GroupBy
aggregations with Python functions significantly sped up by clever
manipulation of the ndarray data type in Cython (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/496">GH496</a>).</li>
<li>Better error message in DataFrame constructor when passed column labels
don&#8217;t match data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/497">GH497</a>)</li>
<li>Substantially improve performance of multi-GroupBy aggregation when a
Python function is passed, reuse ndarray object in Cython (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/496">GH496</a>)</li>
<li>Can store objects indexed by tuples and floats in HDFStore (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/492">GH492</a>)</li>
<li>Don&#8217;t print length by default in Series.to_string, add <cite>length</cite> option (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/489">GH489</a>)</li>
<li>Improve Cython code for multi-groupby to aggregate without having to sort
the data (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/93">GH93</a>)</li>
<li>Improve MultiIndex reindexing speed by storing tuples in the MultiIndex,
test for backwards unpickling compatibility</li>
<li>Improve column reindexing performance by using specialized Cython take
function</li>
<li>Further performance tweaking of Series.__getitem__ for standard use cases</li>
<li>Avoid Index dict creation in some cases (i.e. when getting slices, etc.),
regression from prior versions</li>
<li>Friendlier error message in setup.py if NumPy not installed</li>
<li>Use common set of NA-handling operations (sum, mean, etc.) in Panel class
also (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/536">GH536</a>)</li>
<li>Default name assignment when calling <code class="docutils literal"><span class="pre">reset_index</span></code> on DataFrame with a
regular (non-hierarchical) index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/476">GH476</a>)</li>
<li>Use Cythonized groupers when possible in Series/DataFrame stat ops with
<code class="docutils literal"><span class="pre">level</span></code> parameter passed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/545">GH545</a>)</li>
<li>Ported skiplist data structure to C to speed up <code class="docutils literal"><span class="pre">rolling_median</span></code> by about
5-10x in most typical use cases (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/374">GH374</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v-0-6-1-december-13-2011">
<span id="whatsnew-061"></span><h2>v.0.6.1 (December 13, 2011)<a class="headerlink" href="#v-0-6-1-december-13-2011" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id121">
<h3>New features<a class="headerlink" href="#id121" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Can <a class="reference internal" href="merging.html#merging-append-row"><span class="std std-ref">append single rows</span></a> (as Series) to a DataFrame</li>
<li>Add Spearman and Kendall rank <a class="reference internal" href="computation.html#computation-correlation"><span class="std std-ref">correlation</span></a>
options to Series.corr and DataFrame.corr (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/428">GH428</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-basics-get-value"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">get_value</span></code> and <code class="docutils literal"><span class="pre">set_value</span></code> methods to
Series, DataFrame, and Panel for very low-overhead access (&gt;2x faster in many
cases) to scalar elements (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/437">GH437</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/438">GH438</a>). <code class="docutils literal"><span class="pre">set_value</span></code> is capable of
producing an enlarged object.</li>
<li>Add PyQt table widget to sandbox (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/435">GH435</a>)</li>
<li>DataFrame.align can <a class="reference internal" href="basics.html#basics-align-frame-series"><span class="std std-ref">accept Series arguments</span></a>
and an <a class="reference internal" href="basics.html#basics-df-join"><span class="std std-ref">axis option</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/461">GH461</a>)</li>
<li>Implement new <a class="reference internal" href="sparse.html#sparse-array"><span class="std std-ref">SparseArray</span></a> and <a class="reference internal" href="sparse.html#sparse-list"><span class="std std-ref">SparseList</span></a>
data structures. SparseSeries now derives from SparseArray (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/463">GH463</a>)</li>
<li><a class="reference internal" href="options.html#basics-console-output"><span class="std std-ref">Better console printing options</span></a> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/453">GH453</a>)</li>
<li>Implement fast <a class="reference internal" href="computation.html#computation-ranking"><span class="std std-ref">data ranking</span></a> for Series and
DataFrame, fast versions of scipy.stats.rankdata (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/428">GH428</a>)</li>
<li>Implement <a class="reference internal" href="dsintro.html#basics-dataframe-from-items"><span class="std std-ref">DataFrame.from_items</span></a> alternate
constructor (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/444">GH444</a>)</li>
<li>DataFrame.convert_objects method for <a class="reference internal" href="basics.html#basics-cast"><span class="std std-ref">inferring better dtypes</span></a>
for object columns (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/302">GH302</a>)</li>
<li>Add <a class="reference internal" href="computation.html#stats-moments-corr-pairwise"><span class="std std-ref">rolling_corr_pairwise</span></a> function for
computing Panel of correlation matrices (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/189">GH189</a>)</li>
<li>Add <a class="reference internal" href="reshaping.html#reshaping-pivot-margins"><span class="std std-ref">margins</span></a> option to <a class="reference internal" href="reshaping.html#reshaping-pivot"><span class="std std-ref">pivot_table</span></a> for computing subgroup aggregates (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/114">GH114</a>)</li>
<li>Add <code class="docutils literal"><span class="pre">Series.from_csv</span></code> function (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/482">GH482</a>)</li>
<li><a class="reference internal" href="computation.html#stats-moments-binary"><span class="std std-ref">Can pass</span></a> DataFrame/DataFrame and
DataFrame/Series to rolling_corr/rolling_cov (GH #462)</li>
<li>MultiIndex.get_level_values can <a class="reference internal" href="advanced.html#advanced-get-level-values"><span class="std std-ref">accept the level name</span></a></li>
</ul>
</div>
<div class="section" id="id122">
<h3>Performance improvements<a class="headerlink" href="#id122" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Improve memory usage of <cite>DataFrame.describe</cite> (do not copy data
unnecessarily) (PR #425)</li>
<li>Optimize scalar value lookups in the general case by 25% or more in Series
and DataFrame</li>
<li>Fix performance regression in cross-sectional count in DataFrame, affecting
DataFrame.dropna speed</li>
<li>Column deletion in DataFrame copies no data (computes views on blocks) (GH
#158)</li>
</ul>
</div>
</div>
<div class="section" id="v-0-6-0-november-25-2011">
<span id="whatsnew-060"></span><h2>v.0.6.0 (November 25, 2011)<a class="headerlink" href="#v-0-6-0-november-25-2011" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id123">
<h3>New Features<a class="headerlink" href="#id123" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="reshaping.html#reshaping-melt"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">melt</span></code> function to <code class="docutils literal"><span class="pre">pandas.core.reshape</span></code></li>
<li><a class="reference internal" href="groupby.html#groupby-multiindex"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">level</span></code> parameter to group by level in Series and DataFrame descriptive statistics (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/313">GH313</a>)</li>
<li><a class="reference internal" href="basics.html#basics-head-tail"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">head</span></code> and <code class="docutils literal"><span class="pre">tail</span></code> methods to Series, analogous to to DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/296">GH296</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-boolean"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">Series.isin</span></code> function which checks if each value is contained in a passed sequence (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/289">GH289</a>)</li>
<li><a class="reference internal" href="io.html#io-formatting"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">float_format</span></code> option to <code class="docutils literal"><span class="pre">Series.to_string</span></code></li>
<li><a class="reference internal" href="io.html#io-parse-dates"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">skip_footer</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/291">GH291</a>) and <code class="docutils literal"><span class="pre">converters</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/343">GH343</a>) options to <code class="docutils literal"><span class="pre">read_csv</span></code> and <code class="docutils literal"><span class="pre">read_table</span></code></li>
<li><a class="reference internal" href="indexing.html#indexing-duplicate"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">drop_duplicates</span></code> and <code class="docutils literal"><span class="pre">duplicated</span></code> functions for removing duplicate DataFrame rows and checking for duplicate rows, respectively (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/319">GH319</a>)</li>
<li><a class="reference internal" href="dsintro.html#dsintro-boolean"><span class="std std-ref">Implemented</span></a> operators &#8216;&amp;&#8217;, &#8216;|&#8217;, &#8216;^&#8217;, &#8216;-&#8216; on DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/347">GH347</a>)</li>
<li><a class="reference internal" href="basics.html#basics-stats"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">Series.mad</span></code>, mean absolute deviation</li>
<li><a class="reference internal" href="timeseries.html#timeseries-offsets"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">QuarterEnd</span></code> DateOffset (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/321">GH321</a>)</li>
<li><a class="reference internal" href="dsintro.html#dsintro-numpy-interop"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">dot</span></code> to DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/65">GH65</a>)</li>
<li><a class="reference internal" href="dsintro.html#basics-panel"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">orient</span></code> option to <code class="docutils literal"><span class="pre">Panel.from_dict</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/359">GH359</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/301">GH301</a>)</li>
<li><a class="reference internal" href="dsintro.html#basics-dataframe-from-dict"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">orient</span></code> option to <code class="docutils literal"><span class="pre">DataFrame.from_dict</span></code></li>
<li><a class="reference internal" href="dsintro.html#basics-dataframe-from-records"><span class="std std-ref">Added</span></a> passing list of tuples or list of lists to <code class="docutils literal"><span class="pre">DataFrame.from_records</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/357">GH357</a>)</li>
<li><a class="reference internal" href="groupby.html#groupby-multiindex"><span class="std std-ref">Added</span></a> multiple levels to groupby (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/103">GH103</a>)</li>
<li><a class="reference internal" href="basics.html#basics-sorting"><span class="std std-ref">Allow</span></a> multiple columns in <code class="docutils literal"><span class="pre">by</span></code> argument of <code class="docutils literal"><span class="pre">DataFrame.sort_index</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/92">GH92</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/362">GH362</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-basics-get-value"><span class="std std-ref">Added</span></a> fast <code class="docutils literal"><span class="pre">get_value</span></code> and <code class="docutils literal"><span class="pre">put_value</span></code> methods to DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/360">GH360</a>)</li>
<li><a class="reference internal" href="computation.html#computation-covariance"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">cov</span></code> instance methods to Series and DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/194">GH194</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/362">GH362</a>)</li>
<li><a class="reference internal" href="visualization.html#visualization-barplot"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">kind='bar'</span></code> option to <code class="docutils literal"><span class="pre">DataFrame.plot</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/348">GH348</a>)</li>
<li><a class="reference internal" href="basics.html#basics-idxmin"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">idxmin</span></code> and <code class="docutils literal"><span class="pre">idxmax</span></code> to Series and DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/286">GH286</a>)</li>
<li><a class="reference internal" href="io.html#io-clipboard"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">read_clipboard</span></code> function to parse DataFrame from clipboard (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/300">GH300</a>)</li>
<li><a class="reference internal" href="basics.html#basics-stats"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">nunique</span></code> function to Series for counting unique elements (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/297">GH297</a>)</li>
<li><a class="reference internal" href="dsintro.html#basics-dataframe"><span class="std std-ref">Made</span></a> DataFrame constructor use Series name if no columns passed (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/373">GH373</a>)</li>
<li><a class="reference internal" href="io.html#io-parse-dates"><span class="std std-ref">Support</span></a> regular expressions in read_table/read_csv (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/364">GH364</a>)</li>
<li><a class="reference internal" href="io.html#io-html"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">DataFrame.to_html</span></code> for writing DataFrame to HTML (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/387">GH387</a>)</li>
<li><a class="reference internal" href="dsintro.html#basics-dataframe"><span class="std std-ref">Added</span></a> support for MaskedArray data in DataFrame, masked values converted to NaN (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/396">GH396</a>)</li>
<li><a class="reference internal" href="visualization.html#visualization-box"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">DataFrame.boxplot</span></code> function (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/368">GH368</a>)</li>
<li><a class="reference internal" href="basics.html#basics-apply"><span class="std std-ref">Can</span></a> pass extra args, kwds to DataFrame.apply (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/376">GH376</a>)</li>
<li><a class="reference internal" href="merging.html#merging-multikey-join"><span class="std std-ref">Implement</span></a> <code class="docutils literal"><span class="pre">DataFrame.join</span></code> with vector <code class="docutils literal"><span class="pre">on</span></code> argument (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/312">GH312</a>)</li>
<li><a class="reference internal" href="visualization.html#visualization-basic"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">legend</span></code> boolean flag to <code class="docutils literal"><span class="pre">DataFrame.plot</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/324">GH324</a>)</li>
<li><a class="reference internal" href="reshaping.html#reshaping-stacking"><span class="std std-ref">Can</span></a> pass multiple levels to <code class="docutils literal"><span class="pre">stack</span></code> and <code class="docutils literal"><span class="pre">unstack</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/370">GH370</a>)</li>
<li><a class="reference internal" href="reshaping.html#reshaping-pivot"><span class="std std-ref">Can</span></a> pass multiple values columns to <code class="docutils literal"><span class="pre">pivot_table</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/381">GH381</a>)</li>
<li><a class="reference internal" href="groupby.html#groupby-multiindex"><span class="std std-ref">Use</span></a> Series name in GroupBy for result index (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/363">GH363</a>)</li>
<li><a class="reference internal" href="basics.html#basics-apply"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">raw</span></code> option to <code class="docutils literal"><span class="pre">DataFrame.apply</span></code> for performance if only need ndarray (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/309">GH309</a>)</li>
<li>Added proper, tested weighted least squares to standard and panel OLS (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/303">GH303</a>)</li>
</ul>
</div>
<div class="section" id="performance-enhancements">
<h3>Performance Enhancements<a class="headerlink" href="#performance-enhancements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>VBENCH Cythonized <code class="docutils literal"><span class="pre">cache_readonly</span></code>, resulting in substantial micro-performance enhancements throughout the codebase (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/361">GH361</a>)</li>
<li>VBENCH Special Cython matrix iterator for applying arbitrary reduction operations with 3-5x better performance than <cite>np.apply_along_axis</cite> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/309">GH309</a>)</li>
<li>VBENCH Improved performance of <code class="docutils literal"><span class="pre">MultiIndex.from_tuples</span></code></li>
<li>VBENCH Special Cython matrix iterator for applying arbitrary reduction operations</li>
<li>VBENCH + DOCUMENT Add <code class="docutils literal"><span class="pre">raw</span></code> option to <code class="docutils literal"><span class="pre">DataFrame.apply</span></code> for getting better performance when</li>
<li>VBENCH Faster cythonized count by level in Series and DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/341">GH341</a>)</li>
<li>VBENCH? Significant GroupBy performance enhancement with multiple keys with many &#8220;empty&#8221; combinations</li>
<li>VBENCH New Cython vectorized function <code class="docutils literal"><span class="pre">map_infer</span></code> speeds up <code class="docutils literal"><span class="pre">Series.apply</span></code> and <code class="docutils literal"><span class="pre">Series.map</span></code> significantly when passed elementwise Python function, motivated by (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/355">GH355</a>)</li>
<li>VBENCH Significantly improved performance of <code class="docutils literal"><span class="pre">Series.order</span></code>, which also makes np.unique called on a Series faster (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/327">GH327</a>)</li>
<li>VBENCH Vastly improved performance of GroupBy on axes with a MultiIndex (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/299">GH299</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v-0-5-0-october-24-2011">
<span id="whatsnew-050"></span><h2>v.0.5.0 (October 24, 2011)<a class="headerlink" href="#v-0-5-0-october-24-2011" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id124">
<h3>New Features<a class="headerlink" href="#id124" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="basics.html#basics-df-join"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">DataFrame.align</span></code> method with standard join options</li>
<li><a class="reference internal" href="io.html#io-parse-dates"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">parse_dates</span></code> option to <code class="docutils literal"><span class="pre">read_csv</span></code> and <code class="docutils literal"><span class="pre">read_table</span></code> methods to optionally try to parse dates in the index columns</li>
<li><a class="reference internal" href="io.html#io-parse-dates"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">nrows</span></code>, <code class="docutils literal"><span class="pre">chunksize</span></code>, and <code class="docutils literal"><span class="pre">iterator</span></code> arguments to <code class="docutils literal"><span class="pre">read_csv</span></code> and <code class="docutils literal"><span class="pre">read_table</span></code>. The last two return a new <code class="docutils literal"><span class="pre">TextParser</span></code> class capable of lazily iterating through chunks of a flat file (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/242">GH242</a>)</li>
<li><a class="reference internal" href="merging.html#merging-multikey-join"><span class="std std-ref">Added</span></a> ability to join on multiple columns in <code class="docutils literal"><span class="pre">DataFrame.join</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/214">GH214</a>)</li>
<li>Added private <code class="docutils literal"><span class="pre">_get_duplicates</span></code> function to <code class="docutils literal"><span class="pre">Index</span></code> for identifying duplicate values more easily (<a class="reference external" href="https://github.com/pydata/pandas/commit/5ca6ff5d822ee4ddef1ec0d87b6d83d8b4bbd3eb">ENH5c</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-df-cols"><span class="std std-ref">Added</span></a> column attribute access to DataFrame.</li>
<li><a class="reference internal" href="indexing.html#indexing-df-cols"><span class="std std-ref">Added</span></a> Python tab completion hook for DataFrame columns. (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/233">GH233</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/230">GH230</a>)</li>
<li><a class="reference internal" href="basics.html#basics-describe"><span class="std std-ref">Implemented</span></a> <code class="docutils literal"><span class="pre">Series.describe</span></code> for Series containing objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/241">GH241</a>)</li>
<li><a class="reference internal" href="merging.html#merging-df-inner-join"><span class="std std-ref">Added</span></a> inner join option to <code class="docutils literal"><span class="pre">DataFrame.join</span></code> when joining on key(s) (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/248">GH248</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-df-cols"><span class="std std-ref">Implemented</span></a> selecting DataFrame columns by passing a list to <code class="docutils literal"><span class="pre">__getitem__</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/253">GH253</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-set-ops"><span class="std std-ref">Implemented</span></a> &amp; and | to intersect / union Index objects, respectively (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/261">GH261</a>)</li>
<li><a class="reference internal" href="reshaping.html#reshaping-pivot"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">pivot_table</span></code> convenience function to pandas namespace (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/234">GH234</a>)</li>
<li><a class="reference internal" href="basics.html#basics-rename-axis"><span class="std std-ref">Implemented</span></a> <code class="docutils literal"><span class="pre">Panel.rename_axis</span></code> function (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/243">GH243</a>)</li>
<li>DataFrame will show index level names in console output (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/334">GH334</a>)</li>
<li><a class="reference internal" href="advanced.html#advanced-take"><span class="std std-ref">Implemented</span></a> <code class="docutils literal"><span class="pre">Panel.take</span></code></li>
<li><a class="reference internal" href="options.html#basics-console-output"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">set_eng_float_format</span></code> for alternate DataFrame floating point string formatting (<a class="reference external" href="https://github.com/pydata/pandas/commit/6141961">ENH61</a>)</li>
<li><a class="reference internal" href="indexing.html#indexing-set-index"><span class="std std-ref">Added</span></a> convenience <code class="docutils literal"><span class="pre">set_index</span></code> function for creating a DataFrame index from its existing columns</li>
<li><a class="reference internal" href="groupby.html#groupby-multiindex"><span class="std std-ref">Implemented</span></a> <code class="docutils literal"><span class="pre">groupby</span></code> hierarchical index level name  (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/223">GH223</a>)</li>
<li><a class="reference internal" href="io.html#io-store-in-csv"><span class="std std-ref">Added</span></a> support for different delimiters in <code class="docutils literal"><span class="pre">DataFrame.to_csv</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/244">GH244</a>)</li>
<li>TODO: DOCS ABOUT TAKE METHODS</li>
</ul>
</div>
<div class="section" id="id125">
<h3>Performance Enhancements<a class="headerlink" href="#id125" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>VBENCH Major performance improvements in file parsing functions <code class="docutils literal"><span class="pre">read_csv</span></code> and <code class="docutils literal"><span class="pre">read_table</span></code></li>
<li>VBENCH Added Cython function for converting tuples to ndarray very fast. Speeds up many MultiIndex-related operations</li>
<li>VBENCH Refactored merging / joining code into a tidy class and disabled unnecessary computations in the float/object case, thus getting about 10% better performance (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/211">GH211</a>)</li>
<li>VBENCH Improved speed of <code class="docutils literal"><span class="pre">DataFrame.xs</span></code> on mixed-type DataFrame objects by about 5x, regression from 0.3.0 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/215">GH215</a>)</li>
<li>VBENCH With new <code class="docutils literal"><span class="pre">DataFrame.align</span></code> method, speeding up binary operations between differently-indexed DataFrame objects by 10-25%.</li>
<li>VBENCH Significantly sped up conversion of nested dict into DataFrame (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/212">GH212</a>)</li>
<li>VBENCH Significantly speed up DataFrame <code class="docutils literal"><span class="pre">__repr__</span></code> and <code class="docutils literal"><span class="pre">count</span></code> on large mixed-type DataFrame objects</li>
</ul>
</div>
</div>
<div class="section" id="v-0-4-3-through-v0-4-1-september-25-october-9-2011">
<span id="whatsnew-04x"></span><h2>v.0.4.3 through v0.4.1 (September 25 - October 9, 2011)<a class="headerlink" href="#v-0-4-3-through-v0-4-1-september-25-october-9-2011" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id126">
<h3>New Features<a class="headerlink" href="#id126" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Added Python 3 support using 2to3 (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/200">GH200</a>)</li>
<li><a class="reference internal" href="dsintro.html#dsintro-name-attribute"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">name</span></code> attribute to <code class="docutils literal"><span class="pre">Series</span></code>, now
prints as part of <code class="docutils literal"><span class="pre">Series.__repr__</span></code></li>
<li><a class="reference internal" href="missing_data.html#missing-isnull"><span class="std std-ref">Added</span></a> instance methods <code class="docutils literal"><span class="pre">isnull</span></code> and <code class="docutils literal"><span class="pre">notnull</span></code> to
Series (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/209">GH209</a>, <a class="reference external" href="https://github.com/pandas-dev/pandas/issues/203">GH203</a>)</li>
<li><a class="reference internal" href="basics.html#basics-align"><span class="std std-ref">Added</span></a> <code class="docutils literal"><span class="pre">Series.align</span></code> method for aligning two series
with choice of join method (<a class="reference external" href="https://github.com/pydata/pandas/commit/56e0c9ffafac79ce262b55a6a13e1b10a88fbe93">ENH56</a>)</li>
<li><a class="reference internal" href="advanced.html#advanced-get-level-values"><span class="std std-ref">Added</span></a> method <code class="docutils literal"><span class="pre">get_level_values</span></code> to
<code class="docutils literal"><span class="pre">MultiIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/188">GH188</a>)</li>
<li>Set values in mixed-type <code class="docutils literal"><span class="pre">DataFrame</span></code> objects via <code class="docutils literal"><span class="pre">.ix</span></code> indexing attribute (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/135">GH135</a>)</li>
<li>Added new <code class="docutils literal"><span class="pre">DataFrame</span></code> <a class="reference internal" href="basics.html#basics-dtypes"><span class="std std-ref">methods</span></a>
<code class="docutils literal"><span class="pre">get_dtype_counts</span></code> and property <code class="docutils literal"><span class="pre">dtypes</span></code> (<a class="reference external" href="https://github.com/pydata/pandas/commit/dca3c5c5a6a3769ee01465baca04cfdfa66a4f76">ENHdc</a>)</li>
<li>Added <a class="reference internal" href="merging.html#merging-ignore-index"><span class="std std-ref">ignore_index</span></a> option to
<code class="docutils literal"><span class="pre">DataFrame.append</span></code> to stack DataFrames (<a class="reference external" href="https://github.com/pydata/pandas/commit/1ba56251f0013ff7cd8834e9486cef2b10098371">ENH1b</a>)</li>
<li><code class="docutils literal"><span class="pre">read_csv</span></code> tries to <a class="reference internal" href="io.html#io-sniff"><span class="std std-ref">sniff</span></a> delimiters using
<code class="docutils literal"><span class="pre">csv.Sniffer</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/146">GH146</a>)</li>
<li><code class="docutils literal"><span class="pre">read_csv</span></code> can <a class="reference internal" href="io.html#io-csv-multiindex"><span class="std std-ref">read</span></a> multiple columns into a
<code class="docutils literal"><span class="pre">MultiIndex</span></code>; DataFrame&#8217;s <code class="docutils literal"><span class="pre">to_csv</span></code> method writes out a corresponding
<code class="docutils literal"><span class="pre">MultiIndex</span></code> (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/151">GH151</a>)</li>
<li><code class="docutils literal"><span class="pre">DataFrame.rename</span></code> has a new <code class="docutils literal"><span class="pre">copy</span></code> parameter to <a class="reference internal" href="basics.html#basics-rename"><span class="std std-ref">rename</span></a> a DataFrame in place (<a class="reference external" href="https://github.com/pydata/pandas/commit/edd9f1945fc010a57fa0ae3b3444d1fffe592591">ENHed</a>)</li>
<li><a class="reference internal" href="reshaping.html#reshaping-unstack-by-name"><span class="std std-ref">Enable</span></a> unstacking by name (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/142">GH142</a>)</li>
<li><a class="reference internal" href="advanced.html#advanced-sortlevel-byname"><span class="std std-ref">Enable</span></a> <code class="docutils literal"><span class="pre">sortlevel</span></code> to work by level (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/141">GH141</a>)</li>
</ul>
</div>
<div class="section" id="id127">
<h3>Performance Enhancements<a class="headerlink" href="#id127" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Altered binary operations on differently-indexed SparseSeries objects
to use the integer-based (dense) alignment logic which is faster with a
larger number of blocks (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/205">GH205</a>)</li>
<li>Wrote faster Cython data alignment / merging routines resulting in
substantial speed increases</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">isnull</span></code> and <code class="docutils literal"><span class="pre">notnull</span></code>, a regression from v0.3.0
(<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/187">GH187</a>)</li>
<li>Refactored code related to <code class="docutils literal"><span class="pre">DataFrame.join</span></code> so that intermediate aligned
copies of the data in each <code class="docutils literal"><span class="pre">DataFrame</span></code> argument do not need to be created.
Substantial performance increases result (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/176">GH176</a>)</li>
<li>Substantially improved performance of generic <code class="docutils literal"><span class="pre">Index.intersection</span></code> and
<code class="docutils literal"><span class="pre">Index.union</span></code></li>
<li>Implemented <code class="docutils literal"><span class="pre">BlockManager.take</span></code> resulting in significantly faster <code class="docutils literal"><span class="pre">take</span></code>
performance on mixed-type <code class="docutils literal"><span class="pre">DataFrame</span></code> objects (<a class="reference external" href="https://github.com/pandas-dev/pandas/issues/104">GH104</a>)</li>
<li>Improved performance of <code class="docutils literal"><span class="pre">Series.sort_index</span></code></li>
<li>Significant groupby performance enhancement: removed unnecessary integrity
checks in DataFrame internals that were slowing down slicing operations to
retrieve groups</li>
<li>Optimized <code class="docutils literal"><span class="pre">_ensure_index</span></code> function resulting in performance savings in
type-checking Index objects</li>
<li>Wrote fast time series merging / joining methods in Cython. Will be
integrated later into DataFrame.join and related functions</li>
</ul>
</div>
</div>
</div>


                    </div>
                </div>
            </div>

            
            <div class="clearer"></div>
        </div>
    </div>
</div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="pandas: powerful Python data analysis toolkit"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pandas 0.19.2 documentation</a> &#187;</li> 
      </ul>
    </div>
<style type="text/css">
    .scrollToTop {
        text-align: center;
        font-weight: bold;
        position: fixed;
        bottom: 60px;
        right: 40px;
        display: none;
    }
</style>
<a href="#" class="scrollToTop">Scroll To Top</a>
<script type="text/javascript">
$(document).ready(function() {
    //Check to see if the window is top if not then display button
    $(window).scroll(function() {
        if ($(this).scrollTop() > 200) {
            $('.scrollToTop').fadeIn();
        } else {
            $('.scrollToTop').fadeOut();
        }
    });

    //Click event to scroll to top
    $('.scrollToTop').click(function() {
        $('html, body').animate({
            scrollTop: 0
        }, 500);
        return false;
    });
});
</script>

  </body>
</html>